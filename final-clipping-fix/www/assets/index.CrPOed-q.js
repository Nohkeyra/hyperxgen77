(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const p of c.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=o(r);fetch(r.href,c)}})();function sg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _u={exports:{}},sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm;function Uv(){if(gm)return sl;gm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,c){var p=null;if(c!==void 0&&(p=""+c),r.key!==void 0&&(p=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:c}}return sl.Fragment=t,sl.jsx=o,sl.jsxs=o,sl}var ym;function Dv(){return ym||(ym=1,_u.exports=Uv()),_u.exports}var v=Dv(),Cu={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function kv(){if(vm)return xe;vm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),E=Symbol.iterator;function _(N){return N===null||typeof N!="object"?null:(N=E&&N[E]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,I={};function A(N,U,F){this.props=N,this.context=U,this.refs=I,this.updater=F||C}A.prototype.isReactComponent={},A.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},A.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=A.prototype;function J(N,U,F){this.props=N,this.context=U,this.refs=I,this.updater=F||C}var B=J.prototype=new Q;B.constructor=J,M(B,A.prototype),B.isPureReactComponent=!0;var z=Array.isArray;function ie(){}var j={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function ee(N,U,F){var L=F.ref;return{$$typeof:i,type:N,key:U,ref:L!==void 0?L:null,props:F}}function ue(N,U){return ee(N.type,U,N.props)}function Y(N){return typeof N=="object"&&N!==null&&N.$$typeof===i}function pe(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(F){return U[F]})}var be=/\/+/g;function ge(N,U){return typeof N=="object"&&N!==null&&N.key!=null?pe(""+N.key):U.toString(36)}function Z(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ie,ie):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function k(N,U,F,L,ce){var ne=typeof N;(ne==="undefined"||ne==="boolean")&&(N=null);var te=!1;if(N===null)te=!0;else switch(ne){case"bigint":case"string":case"number":te=!0;break;case"object":switch(N.$$typeof){case i:case t:te=!0;break;case x:return te=N._init,k(te(N._payload),U,F,L,ce)}}if(te)return ce=ce(N),te=L===""?"."+ge(N,0):L,z(ce)?(F="",te!=null&&(F=te.replace(be,"$&/")+"/"),k(ce,U,F,"",function(qe){return qe})):ce!=null&&(Y(ce)&&(ce=ue(ce,F+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(be,"$&/")+"/")+te)),U.push(ce)),1;te=0;var ye=L===""?".":L+":";if(z(N))for(var Se=0;Se<N.length;Se++)L=N[Se],ne=ye+ge(L,Se),te+=k(L,U,F,ne,ce);else if(Se=_(N),typeof Se=="function")for(N=Se.call(N),Se=0;!(L=N.next()).done;)L=L.value,ne=ye+ge(L,Se++),te+=k(L,U,F,ne,ce);else if(ne==="object"){if(typeof N.then=="function")return k(Z(N),U,F,L,ce);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return te}function W(N,U,F){if(N==null)return N;var L=[],ce=0;return k(N,L,"","",function(ne){return U.call(F,ne,ce++)}),L}function P(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(F){(N._status===0||N._status===-1)&&(N._status=1,N._result=F)},function(F){(N._status===0||N._status===-1)&&(N._status=2,N._result=F)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var ae=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},fe={map:W,forEach:function(N,U,F){W(N,function(){U.apply(this,arguments)},F)},count:function(N){var U=0;return W(N,function(){U++}),U},toArray:function(N){return W(N,function(U){return U})||[]},only:function(N){if(!Y(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return xe.Activity=S,xe.Children=fe,xe.Component=A,xe.Fragment=o,xe.Profiler=r,xe.PureComponent=J,xe.StrictMode=a,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return j.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(N,U,F){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var L=M({},N.props),ce=N.key;if(U!=null)for(ne in U.key!==void 0&&(ce=""+U.key),U)!oe.call(U,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&U.ref===void 0||(L[ne]=U[ne]);var ne=arguments.length-2;if(ne===1)L.children=F;else if(1<ne){for(var te=Array(ne),ye=0;ye<ne;ye++)te[ye]=arguments[ye+2];L.children=te}return ee(N.type,ce,L)},xe.createContext=function(N){return N={$$typeof:p,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},xe.createElement=function(N,U,F){var L,ce={},ne=null;if(U!=null)for(L in U.key!==void 0&&(ne=""+U.key),U)oe.call(U,L)&&L!=="key"&&L!=="__self"&&L!=="__source"&&(ce[L]=U[L]);var te=arguments.length-2;if(te===1)ce.children=F;else if(1<te){for(var ye=Array(te),Se=0;Se<te;Se++)ye[Se]=arguments[Se+2];ce.children=ye}if(N&&N.defaultProps)for(L in te=N.defaultProps,te)ce[L]===void 0&&(ce[L]=te[L]);return ee(N,ne,ce)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:g,render:N}},xe.isValidElement=Y,xe.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:P}},xe.memo=function(N,U){return{$$typeof:m,type:N,compare:U===void 0?null:U}},xe.startTransition=function(N){var U=j.T,F={};j.T=F;try{var L=N(),ce=j.S;ce!==null&&ce(F,L),typeof L=="object"&&L!==null&&typeof L.then=="function"&&L.then(ie,ae)}catch(ne){ae(ne)}finally{U!==null&&F.types!==null&&(U.types=F.types),j.T=U}},xe.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},xe.use=function(N){return j.H.use(N)},xe.useActionState=function(N,U,F){return j.H.useActionState(N,U,F)},xe.useCallback=function(N,U){return j.H.useCallback(N,U)},xe.useContext=function(N){return j.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,U){return j.H.useDeferredValue(N,U)},xe.useEffect=function(N,U){return j.H.useEffect(N,U)},xe.useEffectEvent=function(N){return j.H.useEffectEvent(N)},xe.useId=function(){return j.H.useId()},xe.useImperativeHandle=function(N,U,F){return j.H.useImperativeHandle(N,U,F)},xe.useInsertionEffect=function(N,U){return j.H.useInsertionEffect(N,U)},xe.useLayoutEffect=function(N,U){return j.H.useLayoutEffect(N,U)},xe.useMemo=function(N,U){return j.H.useMemo(N,U)},xe.useOptimistic=function(N,U){return j.H.useOptimistic(N,U)},xe.useReducer=function(N,U,F){return j.H.useReducer(N,U,F)},xe.useRef=function(N){return j.H.useRef(N)},xe.useState=function(N){return j.H.useState(N)},xe.useSyncExternalStore=function(N,U,F){return j.H.useSyncExternalStore(N,U,F)},xe.useTransition=function(){return j.H.useTransition()},xe.version="19.2.4",xe}var xm;function Zu(){return xm||(xm=1,Cu.exports=kv()),Cu.exports}var H=Zu();const rg=sg(H);var Au={exports:{}},rl={},Nu={exports:{}},Ru={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tm;function Lv(){return Tm||(Tm=1,(function(i){function t(k,W){var P=k.length;k.push(W);e:for(;0<P;){var ae=P-1>>>1,fe=k[ae];if(0<r(fe,W))k[ae]=W,k[P]=fe,P=ae;else break e}}function o(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var W=k[0],P=k.pop();if(P!==W){k[0]=P;e:for(var ae=0,fe=k.length,N=fe>>>1;ae<N;){var U=2*(ae+1)-1,F=k[U],L=U+1,ce=k[L];if(0>r(F,P))L<fe&&0>r(ce,F)?(k[ae]=ce,k[L]=P,ae=L):(k[ae]=F,k[U]=P,ae=U);else if(L<fe&&0>r(ce,P))k[ae]=ce,k[L]=P,ae=L;else break e}}return W}function r(k,W){var P=k.sortIndex-W.sortIndex;return P!==0?P:k.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var p=Date,g=p.now();i.unstable_now=function(){return p.now()-g}}var y=[],m=[],x=1,S=null,E=3,_=!1,C=!1,M=!1,I=!1,A=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function B(k){for(var W=o(m);W!==null;){if(W.callback===null)a(m);else if(W.startTime<=k)a(m),W.sortIndex=W.expirationTime,t(y,W);else break;W=o(m)}}function z(k){if(M=!1,B(k),!C)if(o(y)!==null)C=!0,ie||(ie=!0,pe());else{var W=o(m);W!==null&&Z(z,W.startTime-k)}}var ie=!1,j=-1,oe=5,ee=-1;function ue(){return I?!0:!(i.unstable_now()-ee<oe)}function Y(){if(I=!1,ie){var k=i.unstable_now();ee=k;var W=!0;try{e:{C=!1,M&&(M=!1,Q(j),j=-1),_=!0;var P=E;try{t:{for(B(k),S=o(y);S!==null&&!(S.expirationTime>k&&ue());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,E=S.priorityLevel;var fe=ae(S.expirationTime<=k);if(k=i.unstable_now(),typeof fe=="function"){S.callback=fe,B(k),W=!0;break t}S===o(y)&&a(y),B(k)}else a(y);S=o(y)}if(S!==null)W=!0;else{var N=o(m);N!==null&&Z(z,N.startTime-k),W=!1}}break e}finally{S=null,E=P,_=!1}W=void 0}}finally{W?pe():ie=!1}}}var pe;if(typeof J=="function")pe=function(){J(Y)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,ge=be.port2;be.port1.onmessage=Y,pe=function(){ge.postMessage(null)}}else pe=function(){A(Y,0)};function Z(k,W){j=A(function(){k(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(k){switch(E){case 1:case 2:case 3:var W=3;break;default:W=E}var P=E;E=W;try{return k()}finally{E=P}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var P=E;E=k;try{return W()}finally{E=P}},i.unstable_scheduleCallback=function(k,W,P){var ae=i.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ae+P:ae):P=ae,k){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=P+fe,k={id:x++,callback:W,priorityLevel:k,startTime:P,expirationTime:fe,sortIndex:-1},P>ae?(k.sortIndex=P,t(m,k),o(y)===null&&k===o(m)&&(M?(Q(j),j=-1):M=!0,Z(z,P-ae))):(k.sortIndex=fe,t(y,k),C||_||(C=!0,ie||(ie=!0,pe()))),k},i.unstable_shouldYield=ue,i.unstable_wrapCallback=function(k){var W=E;return function(){var P=E;E=W;try{return k.apply(this,arguments)}finally{E=P}}}})(Ru)),Ru}var Sm;function Ov(){return Sm||(Sm=1,Nu.exports=Lv()),Nu.exports}var wu={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em;function Gv(){if(Em)return st;Em=1;var i=Zu();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,m,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:m,implementation:x}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,st.createPortal=function(y,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,x)},st.flushSync=function(y){var m=p.T,x=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=m,a.p=x,a.d.f()}},st.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},st.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},st.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var x=m.as,S=g(x,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,_=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:E,fetchPriority:_}):x==="script"&&a.d.X(y,{crossOrigin:S,integrity:E,fetchPriority:_,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},st.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=g(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},st.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,S=g(x,m.crossOrigin);a.d.L(y,x,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},st.preloadModule=function(y,m){if(typeof y=="string")if(m){var x=g(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},st.requestFormReset=function(y){a.d.r(y)},st.unstable_batchedUpdates=function(y,m){return y(m)},st.useFormState=function(y,m,x){return p.H.useFormState(y,m,x)},st.useFormStatus=function(){return p.H.useHostTransitionStatus()},st.version="19.2.4",st}var bm;function Hv(){if(bm)return wu.exports;bm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),wu.exports=Gv(),wu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _m;function Pv(){if(_m)return rl;_m=1;var i=Ov(),t=Zu(),o=Hv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var f=l.return;if(f===null)break;var h=f.alternate;if(h===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===l)return y(f),e;if(h===s)return y(f),n;h=h.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=h;else{for(var T=!1,b=f.child;b;){if(b===l){T=!0,l=f,s=h;break}if(b===s){T=!0,s=f,l=h;break}b=b.sibling}if(!T){for(b=h.child;b;){if(b===l){T=!0,l=h,s=f;break}if(b===s){T=!0,s=h,l=f;break}b=b.sibling}if(!T)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,E=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var be=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case A:return"Profiler";case I:return"StrictMode";case z:return"Suspense";case ie:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case J:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case j:return n=e.displayName||null,n!==null?n:ge(e.type)||"Memo";case oe:n=e._payload,e=e._init;try{return ge(e(n))}catch{}}return null}var Z=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P={pending:!1,data:null,method:null,action:null},ae=[],fe=-1;function N(e){return{current:e}}function U(e){0>fe||(e.current=ae[fe],ae[fe]=null,fe--)}function F(e,n){fe++,ae[fe]=e.current,e.current=n}var L=N(null),ce=N(null),ne=N(null),te=N(null);function ye(e,n){switch(F(ne,n),F(ce,e),F(L,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Pp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Pp(n),e=Vp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(L),F(L,e)}function Se(){U(L),U(ce),U(ne)}function qe(e){e.memoizedState!==null&&F(te,e);var n=L.current,l=Vp(n,e.type);n!==l&&(F(ce,e),F(L,l))}function Xn(e){ce.current===e&&(U(L),U(ce)),te.current===e&&(U(te),il._currentValue=P)}var gi,mo;function Xt(e){if(gi===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);gi=n&&n[1]||"",mo=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gi+e+mo}var $n=!1;function rs(e,n){if(!e||$n)return"";$n=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var V=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){V=q}e.call($.prototype)}}else{try{throw Error()}catch(q){V=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&V&&typeof q.stack=="string")return[q.stack,V.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=s.DetermineComponentFrameRoot(),T=h[0],b=h[1];if(T&&b){var R=T.split(`
`),G=b.split(`
`);for(f=s=0;s<R.length&&!R[s].includes("DetermineComponentFrameRoot");)s++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(s===R.length||f===G.length)for(s=R.length-1,f=G.length-1;1<=s&&0<=f&&R[s]!==G[f];)f--;for(;1<=s&&0<=f;s--,f--)if(R[s]!==G[f]){if(s!==1||f!==1)do if(s--,f--,0>f||R[s]!==G[f]){var K=`
`+R[s].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=s&&0<=f);break}}}finally{$n=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Xt(l):""}function u0(e,n){switch(e.tag){case 26:case 27:case 5:return Xt(e.type);case 16:return Xt("Lazy");case 13:return e.child!==n&&n!==null?Xt("Suspense Fallback"):Xt("Suspense");case 19:return Xt("SuspenseList");case 0:case 15:return rs(e.type,!1);case 11:return rs(e.type.render,!1);case 1:return rs(e.type,!0);case 31:return Xt("Activity");default:return""}}function hc(e){try{var n="",l=null;do n+=u0(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var us=Object.prototype.hasOwnProperty,cs=i.unstable_scheduleCallback,ds=i.unstable_cancelCallback,c0=i.unstable_shouldYield,d0=i.unstable_requestPaint,Tt=i.unstable_now,f0=i.unstable_getCurrentPriorityLevel,gc=i.unstable_ImmediatePriority,yc=i.unstable_UserBlockingPriority,xl=i.unstable_NormalPriority,p0=i.unstable_LowPriority,vc=i.unstable_IdlePriority,m0=i.log,h0=i.unstable_setDisableYieldValue,ho=null,St=null;function Sn(e){if(typeof m0=="function"&&h0(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ho,e)}catch{}}var Et=Math.clz32?Math.clz32:v0,g0=Math.log,y0=Math.LN2;function v0(e){return e>>>=0,e===0?32:31-(g0(e)/y0|0)|0}var Tl=256,Sl=262144,El=4194304;function Qn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,h=e.suspendedLanes,T=e.pingedLanes;e=e.warmLanes;var b=s&134217727;return b!==0?(s=b&~h,s!==0?f=Qn(s):(T&=b,T!==0?f=Qn(T):l||(l=b&~e,l!==0&&(f=Qn(l))))):(b=s&~h,b!==0?f=Qn(b):T!==0?f=Qn(T):l||(l=s&~e,l!==0&&(f=Qn(l)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,l=n&-n,h>=l||h===32&&(l&4194048)!==0)?n:f}function go(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function x0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var e=El;return El<<=1,(El&62914560)===0&&(El=4194304),e}function fs(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function yo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function T0(e,n,l,s,f,h){var T=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var b=e.entanglements,R=e.expirationTimes,G=e.hiddenUpdates;for(l=T&~l;0<l;){var K=31-Et(l),$=1<<K;b[K]=0,R[K]=-1;var V=G[K];if(V!==null)for(G[K]=null,K=0;K<V.length;K++){var q=V[K];q!==null&&(q.lane&=-536870913)}l&=~$}s!==0&&Tc(e,s,0),h!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=h&~(T&~n))}function Tc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Sc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Et(l),f=1<<s;f&n|e[s]&n&&(e[s]|=n),l&=~f}}function Ec(e,n){var l=n&-n;return l=(l&42)!==0?1:ps(l),(l&(e.suspendedLanes|n))!==0?0:l}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ms(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function bc(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:um(e.type))}function _c(e,n){var l=W.p;try{return W.p=e,n()}finally{W.p=l}}var En=Math.random().toString(36).slice(2),nt="__reactFiber$"+En,ft="__reactProps$"+En,yi="__reactContainer$"+En,hs="__reactEvents$"+En,S0="__reactListeners$"+En,E0="__reactHandles$"+En,Cc="__reactResources$"+En,vo="__reactMarker$"+En;function gs(e){delete e[nt],delete e[ft],delete e[hs],delete e[S0],delete e[E0]}function vi(e){var n=e[nt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[yi]||l[nt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Kp(e);e!==null;){if(l=e[nt])return l;e=Kp(e)}return n}e=l,l=e.parentNode}return null}function xi(e){if(e=e[nt]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ti(e){var n=e[Cc];return n||(n=e[Cc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function We(e){e[vo]=!0}var Ac=new Set,Nc={};function Zn(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(Nc[e]=n,e=0;e<n.length;e++)Ac.add(n[e])}var b0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rc={},wc={};function _0(e){return us.call(wc,e)?!0:us.call(Rc,e)?!1:b0.test(e)?wc[e]=!0:(Rc[e]=!0,!1)}function _l(e,n,l){if(_0(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Cl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function Wt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function Mt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function C0(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,h=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,h.call(this,T)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ys(e){if(!e._valueTracker){var n=Mc(e)?"checked":"value";e._valueTracker=C0(e,n,""+e[n])}}function Ic(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=Mc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var A0=/[\n"\\]/g;function It(e){return e.replace(A0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vs(e,n,l,s,f,h,T,b){e.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.type=T:e.removeAttribute("type"),n!=null?T==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Mt(n)):e.value!==""+Mt(n)&&(e.value=""+Mt(n)):T!=="submit"&&T!=="reset"||e.removeAttribute("value"),n!=null?xs(e,T,Mt(n)):l!=null?xs(e,T,Mt(l)):s!=null&&e.removeAttribute("value"),f==null&&h!=null&&(e.defaultChecked=!!h),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Mt(b):e.removeAttribute("name")}function Uc(e,n,l,s,f,h,T,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||l!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ys(e);return}l=l!=null?""+Mt(l):"",n=n!=null?""+Mt(n):l,b||n===e.value||(e.value=n),e.defaultValue=n}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=b?e.checked:!!s,e.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(e.name=T),ys(e)}function xs(e,n,l){n==="number"&&Al(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ei(e,n,l,s){if(e=e.options,n){n={};for(var f=0;f<l.length;f++)n["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=n.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Mt(l),n=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function Dc(e,n,l){if(n!=null&&(n=""+Mt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Mt(l):""}function kc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(Z(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=Mt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ys(e)}function bi(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var N0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||N0.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function Oc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in n)s=n[f],n.hasOwnProperty(f)&&l[f]!==s&&Lc(e,f,s)}else for(var h in n)n.hasOwnProperty(h)&&Lc(e,h,n[h])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var R0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),w0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nl(e){return w0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function en(){}var Ss=null;function Es(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Ci=null;function Gc(e){var n=xi(e);if(n&&(e=n.stateNode)){var l=e[ft]||null;e:switch(e=n.stateNode,n.type){case"input":if(vs(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+It(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var f=s[ft]||null;if(!f)throw Error(a(90));vs(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&Ic(s)}break e;case"textarea":Dc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ei(e,!!l.multiple,n,!1)}}}var bs=!1;function Hc(e,n,l){if(bs)return e(n,l);bs=!0;try{var s=e(n);return s}finally{if(bs=!1,(_i!==null||Ci!==null)&&(ma(),_i&&(n=_i,e=Ci,Ci=_i=null,Gc(n),e)))for(n=0;n<e.length;n++)Gc(e[n])}}function To(e,n){var l=e.stateNode;if(l===null)return null;var s=l[ft]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(tn)try{var So={};Object.defineProperty(So,"passive",{get:function(){_s=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{_s=!1}var bn=null,Cs=null,Rl=null;function Pc(){if(Rl)return Rl;var e,n=Cs,l=n.length,s,f="value"in bn?bn.value:bn.textContent,h=f.length;for(e=0;e<l&&n[e]===f[e];e++);var T=l-e;for(s=1;s<=T&&n[l-s]===f[h-s];s++);return Rl=f.slice(e,1<s?1-s:void 0)}function wl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ml(){return!0}function Vc(){return!1}function pt(e){function n(l,s,f,h,T){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=h,this.target=T,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(l=e[b],this[b]=l?l(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ml:Vc,this.isPropagationStopped=Vc,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),n}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=pt(jn),Eo=S({},jn,{view:0,detail:0}),M0=pt(Eo),As,Ns,bo,Ul=S({},Eo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bo&&(bo&&e.type==="mousemove"?(As=e.screenX-bo.screenX,Ns=e.screenY-bo.screenY):Ns=As=0,bo=e),As)},movementY:function(e){return"movementY"in e?e.movementY:Ns}}),Bc=pt(Ul),I0=S({},Ul,{dataTransfer:0}),U0=pt(I0),D0=S({},Eo,{relatedTarget:0}),Rs=pt(D0),k0=S({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=pt(k0),O0=S({},jn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),G0=pt(O0),H0=S({},jn,{data:0}),zc=pt(H0),P0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=B0[e])?!!n[e]:!1}function ws(){return z0}var q0=S({},Eo,{key:function(e){if(e.key){var n=P0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?V0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y0=pt(q0),F0=S({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qc=pt(F0),J0=S({},Eo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),K0=pt(J0),X0=S({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$0=pt(X0),Q0=S({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Z0=pt(Q0),j0=S({},jn,{newState:0,oldState:0}),W0=pt(j0),ey=[9,13,27,32],Ms=tn&&"CompositionEvent"in window,_o=null;tn&&"documentMode"in document&&(_o=document.documentMode);var ty=tn&&"TextEvent"in window&&!_o,Yc=tn&&(!Ms||_o&&8<_o&&11>=_o),Fc=" ",Jc=!1;function Kc(e,n){switch(e){case"keyup":return ey.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function ny(e,n){switch(e){case"compositionend":return Xc(n);case"keypress":return n.which!==32?null:(Jc=!0,Fc);case"textInput":return e=n.data,e===Fc&&Jc?null:e;default:return null}}function iy(e,n){if(Ai)return e==="compositionend"||!Ms&&Kc(e,n)?(e=Pc(),Rl=Cs=bn=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Yc&&n.locale!=="ko"?null:n.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!oy[e.type]:n==="textarea"}function Qc(e,n,l,s){_i?Ci?Ci.push(s):Ci=[s]:_i=s,n=Sa(n,"onChange"),0<n.length&&(l=new Il("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var Co=null,Ao=null;function ly(e){Dp(e,0)}function Dl(e){var n=xo(e);if(Ic(n))return e}function Zc(e,n){if(e==="change")return n}var jc=!1;if(tn){var Is;if(tn){var Us="oninput"in document;if(!Us){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Us=typeof Wc.oninput=="function"}Is=Us}else Is=!1;jc=Is&&(!document.documentMode||9<document.documentMode)}function ed(){Co&&(Co.detachEvent("onpropertychange",td),Ao=Co=null)}function td(e){if(e.propertyName==="value"&&Dl(Ao)){var n=[];Qc(n,Ao,e,Es(e)),Hc(ly,n)}}function ay(e,n,l){e==="focusin"?(ed(),Co=n,Ao=l,Co.attachEvent("onpropertychange",td)):e==="focusout"&&ed()}function sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Dl(Ao)}function ry(e,n){if(e==="click")return Dl(n)}function uy(e,n){if(e==="input"||e==="change")return Dl(n)}function cy(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var bt=typeof Object.is=="function"?Object.is:cy;function No(e,n){if(bt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!us.call(n,f)||!bt(e[f],n[f]))return!1}return!0}function nd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function id(e,n){var l=nd(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=nd(l)}}function od(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?od(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ld(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Al(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=Al(e.document)}return n}function Ds(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dy=tn&&"documentMode"in document&&11>=document.documentMode,Ni=null,ks=null,Ro=null,Ls=!1;function ad(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ls||Ni==null||Ni!==Al(s)||(s=Ni,"selectionStart"in s&&Ds(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ro&&No(Ro,s)||(Ro=s,s=Sa(ks,"onSelect"),0<s.length&&(n=new Il("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=Ni)))}function Wn(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ri={animationend:Wn("Animation","AnimationEnd"),animationiteration:Wn("Animation","AnimationIteration"),animationstart:Wn("Animation","AnimationStart"),transitionrun:Wn("Transition","TransitionRun"),transitionstart:Wn("Transition","TransitionStart"),transitioncancel:Wn("Transition","TransitionCancel"),transitionend:Wn("Transition","TransitionEnd")},Os={},sd={};tn&&(sd=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ei(e){if(Os[e])return Os[e];if(!Ri[e])return e;var n=Ri[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in sd)return Os[e]=n[l];return e}var rd=ei("animationend"),ud=ei("animationiteration"),cd=ei("animationstart"),fy=ei("transitionrun"),py=ei("transitionstart"),my=ei("transitioncancel"),dd=ei("transitionend"),fd=new Map,Gs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gs.push("scrollEnd");function zt(e,n){fd.set(e,n),Zn(n,[e])}var kl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ut=[],wi=0,Hs=0;function Ll(){for(var e=wi,n=Hs=wi=0;n<e;){var l=Ut[n];Ut[n++]=null;var s=Ut[n];Ut[n++]=null;var f=Ut[n];Ut[n++]=null;var h=Ut[n];if(Ut[n++]=null,s!==null&&f!==null){var T=s.pending;T===null?f.next=f:(f.next=T.next,T.next=f),s.pending=f}h!==0&&pd(l,f,h)}}function Ol(e,n,l,s){Ut[wi++]=e,Ut[wi++]=n,Ut[wi++]=l,Ut[wi++]=s,Hs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ps(e,n,l,s){return Ol(e,n,l,s),Gl(e)}function ti(e,n){return Ol(e,null,null,n),Gl(e)}function pd(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,h=e.return;h!==null;)h.childLanes|=l,s=h.alternate,s!==null&&(s.childLanes|=l),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(f=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,f&&n!==null&&(f=31-Et(l),e=h.hiddenUpdates,s=e[f],s===null?e[f]=[n]:s.push(n),n.lane=l|536870912),h):null}function Gl(e){if(50<Qo)throw Qo=0,Xr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Mi={};function hy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _t(e,n,l,s){return new hy(e,n,l,s)}function Vs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nn(e,n){var l=e.alternate;return l===null?(l=_t(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function md(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Hl(e,n,l,s,f,h){var T=0;if(s=e,typeof e=="function")Vs(e)&&(T=1);else if(typeof e=="string")T=Tv(e,l,L.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=_t(31,l,n,f),e.elementType=ee,e.lanes=h,e;case M:return ni(l.children,f,h,n);case I:T=8,f|=24;break;case A:return e=_t(12,l,n,f|2),e.elementType=A,e.lanes=h,e;case z:return e=_t(13,l,n,f),e.elementType=z,e.lanes=h,e;case ie:return e=_t(19,l,n,f),e.elementType=ie,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:T=10;break e;case Q:T=9;break e;case B:T=11;break e;case j:T=14;break e;case oe:T=16,s=null;break e}T=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=_t(T,l,n,f),n.elementType=e,n.type=s,n.lanes=h,n}function ni(e,n,l,s){return e=_t(7,e,s,n),e.lanes=l,e}function Bs(e,n,l){return e=_t(6,e,null,n),e.lanes=l,e}function hd(e){var n=_t(18,null,null,0);return n.stateNode=e,n}function zs(e,n,l){return n=_t(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var gd=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=gd.get(e);return l!==void 0?l:(n={value:e,source:n,stack:hc(n)},gd.set(e,n),n)}return{value:e,source:n,stack:hc(n)}}var Ii=[],Ui=0,Pl=null,wo=0,kt=[],Lt=0,_n=null,$t=1,Qt="";function on(e,n){Ii[Ui++]=wo,Ii[Ui++]=Pl,Pl=e,wo=n}function yd(e,n,l){kt[Lt++]=$t,kt[Lt++]=Qt,kt[Lt++]=_n,_n=e;var s=$t;e=Qt;var f=32-Et(s)-1;s&=~(1<<f),l+=1;var h=32-Et(n)+f;if(30<h){var T=f-f%5;h=(s&(1<<T)-1).toString(32),s>>=T,f-=T,$t=1<<32-Et(n)+f|l<<f|s,Qt=h+e}else $t=1<<h|l<<f|s,Qt=e}function qs(e){e.return!==null&&(on(e,1),yd(e,1,0))}function Ys(e){for(;e===Pl;)Pl=Ii[--Ui],Ii[Ui]=null,wo=Ii[--Ui],Ii[Ui]=null;for(;e===_n;)_n=kt[--Lt],kt[Lt]=null,Qt=kt[--Lt],kt[Lt]=null,$t=kt[--Lt],kt[Lt]=null}function vd(e,n){kt[Lt++]=$t,kt[Lt++]=Qt,kt[Lt++]=_n,$t=n.id,Qt=n.overflow,_n=e}var it=null,Ve=null,we=!1,Cn=null,Ot=!1,Fs=Error(a(519));function An(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Dt(n,e)),Fs}function xd(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[nt]=e,n[ft]=s,l){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(l=0;l<jo.length;l++)Ce(jo[l],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Uc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),kc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||Gp(n.textContent,l)?(s.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),s.onScroll!=null&&Ce("scroll",n),s.onScrollEnd!=null&&Ce("scrollend",n),s.onClick!=null&&(n.onclick=en),n=!0):n=!1,n||An(e,!0)}function Td(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Ot=!1;return;case 27:case 3:Ot=!0;return;default:it=it.return}}function Di(e){if(e!==it)return!1;if(!we)return Td(e),we=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||uu(e.type,e.memoizedProps)),l=!l),l&&Ve&&An(e),Td(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Jp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ve=Jp(e)}else n===27?(n=Ve,Vn(e.type)?(e=mu,mu=null,Ve=e):Ve=n):Ve=it?Ht(e.stateNode.nextSibling):null;return!0}function ii(){Ve=it=null,we=!1}function Js(){var e=Cn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Cn=null),e}function Mo(e){Cn===null?Cn=[e]:Cn.push(e)}var Ks=N(null),oi=null,ln=null;function Nn(e,n,l){F(Ks,n._currentValue),n._currentValue=l}function an(e){e._currentValue=Ks.current,U(Ks)}function Xs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function $s(e,n,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var h=f.dependencies;if(h!==null){var T=f.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=f;for(var R=0;R<n.length;R++)if(b.context===n[R]){h.lanes|=l,b=h.alternate,b!==null&&(b.lanes|=l),Xs(h.return,l,e),s||(T=null);break e}h=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(a(341));T.lanes|=l,h=T.alternate,h!==null&&(h.lanes|=l),Xs(T,l,e),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===e){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ki(e,n,l,s){e=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(a(387));if(T=T.memoizedProps,T!==null){var b=f.type;bt(f.pendingProps.value,T.value)||(e!==null?e.push(b):e=[b])}}else if(f===te.current){if(T=f.alternate,T===null)throw Error(a(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(il):e=[il])}f=f.return}e!==null&&$s(n,e,l,s),n.flags|=262144}function Vl(e){for(e=e.firstContext;e!==null;){if(!bt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function li(e){oi=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return Sd(oi,e)}function Bl(e,n){return oi===null&&li(e),Sd(e,n)}function Sd(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},ln===null){if(e===null)throw Error(a(308));ln=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ln=ln.next=n;return l}var gy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},yy=i.unstable_scheduleCallback,vy=i.unstable_NormalPriority,Xe={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qs(){return{controller:new gy,data:new Map,refCount:0}}function Io(e){e.refCount--,e.refCount===0&&yy(vy,function(){e.controller.abort()})}var Uo=null,Zs=0,Li=0,Oi=null;function xy(e,n){if(Uo===null){var l=Uo=[];Zs=0,Li=eu(),Oi={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Zs++,n.then(Ed,Ed),n}function Ed(){if(--Zs===0&&Uo!==null){Oi!==null&&(Oi.status="fulfilled");var e=Uo;Uo=null,Li=0,Oi=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ty(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var f=0;f<l.length;f++)(0,l[f])(n)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var bd=k.S;k.S=function(e,n){sp=Tt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&xy(e,n),bd!==null&&bd(e,n)};var ai=N(null);function js(){var e=ai.current;return e!==null?e:Pe.pooledCache}function zl(e,n){n===null?F(ai,ai.current):F(ai,n.pool)}function _d(){var e=js();return e===null?null:{parent:Xe._currentValue,pool:e}}var Gi=Error(a(460)),Ws=Error(a(474)),ql=Error(a(542)),Yl={then:function(){}};function Cd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ad(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(en,en),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rd(e),e;default:if(typeof n.status=="string")n.then(en,en);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=s}},function(s){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Rd(e),e}throw ri=n,Gi}}function si(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ri=l,Gi):l}}var ri=null;function Nd(){if(ri===null)throw Error(a(459));var e=ri;return ri=null,e}function Rd(e){if(e===Gi||e===ql)throw Error(a(483))}var Hi=null,Do=0;function Fl(e){var n=Do;return Do+=1,Hi===null&&(Hi=[]),Ad(Hi,e,n)}function ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Jl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wd(e){function n(D,w){if(e){var O=D.deletions;O===null?(D.deletions=[w],D.flags|=16):O.push(w)}}function l(D,w){if(!e)return null;for(;w!==null;)n(D,w),w=w.sibling;return null}function s(D){for(var w=new Map;D!==null;)D.key!==null?w.set(D.key,D):w.set(D.index,D),D=D.sibling;return w}function f(D,w){return D=nn(D,w),D.index=0,D.sibling=null,D}function h(D,w,O){return D.index=O,e?(O=D.alternate,O!==null?(O=O.index,O<w?(D.flags|=67108866,w):O):(D.flags|=67108866,w)):(D.flags|=1048576,w)}function T(D){return e&&D.alternate===null&&(D.flags|=67108866),D}function b(D,w,O,X){return w===null||w.tag!==6?(w=Bs(O,D.mode,X),w.return=D,w):(w=f(w,O),w.return=D,w)}function R(D,w,O,X){var me=O.type;return me===M?K(D,w,O.props.children,X,O.key):w!==null&&(w.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===oe&&si(me)===w.type)?(w=f(w,O.props),ko(w,O),w.return=D,w):(w=Hl(O.type,O.key,O.props,null,D.mode,X),ko(w,O),w.return=D,w)}function G(D,w,O,X){return w===null||w.tag!==4||w.stateNode.containerInfo!==O.containerInfo||w.stateNode.implementation!==O.implementation?(w=zs(O,D.mode,X),w.return=D,w):(w=f(w,O.children||[]),w.return=D,w)}function K(D,w,O,X,me){return w===null||w.tag!==7?(w=ni(O,D.mode,X,me),w.return=D,w):(w=f(w,O),w.return=D,w)}function $(D,w,O){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Bs(""+w,D.mode,O),w.return=D,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _:return O=Hl(w.type,w.key,w.props,null,D.mode,O),ko(O,w),O.return=D,O;case C:return w=zs(w,D.mode,O),w.return=D,w;case oe:return w=si(w),$(D,w,O)}if(Z(w)||pe(w))return w=ni(w,D.mode,O,null),w.return=D,w;if(typeof w.then=="function")return $(D,Fl(w),O);if(w.$$typeof===J)return $(D,Bl(D,w),O);Jl(D,w)}return null}function V(D,w,O,X){var me=w!==null?w.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return me!==null?null:b(D,w,""+O,X);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case _:return O.key===me?R(D,w,O,X):null;case C:return O.key===me?G(D,w,O,X):null;case oe:return O=si(O),V(D,w,O,X)}if(Z(O)||pe(O))return me!==null?null:K(D,w,O,X,null);if(typeof O.then=="function")return V(D,w,Fl(O),X);if(O.$$typeof===J)return V(D,w,Bl(D,O),X);Jl(D,O)}return null}function q(D,w,O,X,me){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return D=D.get(O)||null,b(w,D,""+X,me);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case _:return D=D.get(X.key===null?O:X.key)||null,R(w,D,X,me);case C:return D=D.get(X.key===null?O:X.key)||null,G(w,D,X,me);case oe:return X=si(X),q(D,w,O,X,me)}if(Z(X)||pe(X))return D=D.get(O)||null,K(w,D,X,me,null);if(typeof X.then=="function")return q(D,w,O,Fl(X),me);if(X.$$typeof===J)return q(D,w,O,Bl(w,X),me);Jl(w,X)}return null}function re(D,w,O,X){for(var me=null,Me=null,de=w,Ee=w=0,Re=null;de!==null&&Ee<O.length;Ee++){de.index>Ee?(Re=de,de=null):Re=de.sibling;var Ie=V(D,de,O[Ee],X);if(Ie===null){de===null&&(de=Re);break}e&&de&&Ie.alternate===null&&n(D,de),w=h(Ie,w,Ee),Me===null?me=Ie:Me.sibling=Ie,Me=Ie,de=Re}if(Ee===O.length)return l(D,de),we&&on(D,Ee),me;if(de===null){for(;Ee<O.length;Ee++)de=$(D,O[Ee],X),de!==null&&(w=h(de,w,Ee),Me===null?me=de:Me.sibling=de,Me=de);return we&&on(D,Ee),me}for(de=s(de);Ee<O.length;Ee++)Re=q(de,D,Ee,O[Ee],X),Re!==null&&(e&&Re.alternate!==null&&de.delete(Re.key===null?Ee:Re.key),w=h(Re,w,Ee),Me===null?me=Re:Me.sibling=Re,Me=Re);return e&&de.forEach(function(Fn){return n(D,Fn)}),we&&on(D,Ee),me}function he(D,w,O,X){if(O==null)throw Error(a(151));for(var me=null,Me=null,de=w,Ee=w=0,Re=null,Ie=O.next();de!==null&&!Ie.done;Ee++,Ie=O.next()){de.index>Ee?(Re=de,de=null):Re=de.sibling;var Fn=V(D,de,Ie.value,X);if(Fn===null){de===null&&(de=Re);break}e&&de&&Fn.alternate===null&&n(D,de),w=h(Fn,w,Ee),Me===null?me=Fn:Me.sibling=Fn,Me=Fn,de=Re}if(Ie.done)return l(D,de),we&&on(D,Ee),me;if(de===null){for(;!Ie.done;Ee++,Ie=O.next())Ie=$(D,Ie.value,X),Ie!==null&&(w=h(Ie,w,Ee),Me===null?me=Ie:Me.sibling=Ie,Me=Ie);return we&&on(D,Ee),me}for(de=s(de);!Ie.done;Ee++,Ie=O.next())Ie=q(de,D,Ee,Ie.value,X),Ie!==null&&(e&&Ie.alternate!==null&&de.delete(Ie.key===null?Ee:Ie.key),w=h(Ie,w,Ee),Me===null?me=Ie:Me.sibling=Ie,Me=Ie);return e&&de.forEach(function(Iv){return n(D,Iv)}),we&&on(D,Ee),me}function He(D,w,O,X){if(typeof O=="object"&&O!==null&&O.type===M&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case _:e:{for(var me=O.key;w!==null;){if(w.key===me){if(me=O.type,me===M){if(w.tag===7){l(D,w.sibling),X=f(w,O.props.children),X.return=D,D=X;break e}}else if(w.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===oe&&si(me)===w.type){l(D,w.sibling),X=f(w,O.props),ko(X,O),X.return=D,D=X;break e}l(D,w);break}else n(D,w);w=w.sibling}O.type===M?(X=ni(O.props.children,D.mode,X,O.key),X.return=D,D=X):(X=Hl(O.type,O.key,O.props,null,D.mode,X),ko(X,O),X.return=D,D=X)}return T(D);case C:e:{for(me=O.key;w!==null;){if(w.key===me)if(w.tag===4&&w.stateNode.containerInfo===O.containerInfo&&w.stateNode.implementation===O.implementation){l(D,w.sibling),X=f(w,O.children||[]),X.return=D,D=X;break e}else{l(D,w);break}else n(D,w);w=w.sibling}X=zs(O,D.mode,X),X.return=D,D=X}return T(D);case oe:return O=si(O),He(D,w,O,X)}if(Z(O))return re(D,w,O,X);if(pe(O)){if(me=pe(O),typeof me!="function")throw Error(a(150));return O=me.call(O),he(D,w,O,X)}if(typeof O.then=="function")return He(D,w,Fl(O),X);if(O.$$typeof===J)return He(D,w,Bl(D,O),X);Jl(D,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,w!==null&&w.tag===6?(l(D,w.sibling),X=f(w,O),X.return=D,D=X):(l(D,w),X=Bs(O,D.mode,X),X.return=D,D=X),T(D)):l(D,w)}return function(D,w,O,X){try{Do=0;var me=He(D,w,O,X);return Hi=null,me}catch(de){if(de===Gi||de===ql)throw de;var Me=_t(29,de,null,D.mode);return Me.lanes=X,Me.return=D,Me}finally{}}}var ui=wd(!0),Md=wd(!1),Rn=!1;function er(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var f=s.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),s.pending=n,n=Gl(e),pd(e,null,l),n}return Ol(e,s,n,l),Gl(e)}function Lo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Sc(e,l)}}function nr(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};h===null?f=h=T:h=h.next=T,l=l.next}while(l!==null);h===null?f=h=n:h=h.next=n}else f=h=n;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var ir=!1;function Oo(){if(ir){var e=Oi;if(e!==null)throw e}}function Go(e,n,l,s){ir=!1;var f=e.updateQueue;Rn=!1;var h=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var R=b,G=R.next;R.next=null,T===null?h=G:T.next=G,T=R;var K=e.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==T&&(b===null?K.firstBaseUpdate=G:b.next=G,K.lastBaseUpdate=R))}if(h!==null){var $=f.baseState;T=0,K=G=R=null,b=h;do{var V=b.lane&-536870913,q=V!==b.lane;if(q?(Ne&V)===V:(s&V)===V){V!==0&&V===Li&&(ir=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var re=e,he=b;V=n;var He=l;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){$=re.call(He,$,V);break e}$=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,V=typeof re=="function"?re.call(He,$,V):re,V==null)break e;$=S({},$,V);break e;case 2:Rn=!0}}V=b.callback,V!==null&&(e.flags|=64,q&&(e.flags|=8192),q=f.callbacks,q===null?f.callbacks=[V]:q.push(V))}else q={lane:V,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(G=K=q,R=$):K=K.next=q,T|=V;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;q=b,b=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);K===null&&(R=$),f.baseState=R,f.firstBaseUpdate=G,f.lastBaseUpdate=K,h===null&&(f.shared.lanes=0),Ln|=T,e.lanes=T,e.memoizedState=$}}function Id(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Ud(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Id(l[e],n)}var Pi=N(null),Kl=N(0);function Dd(e,n){e=hn,F(Kl,e),F(Pi,n),hn=e|n.baseLanes}function or(){F(Kl,hn),F(Pi,Pi.current)}function lr(){hn=Kl.current,U(Pi),U(Kl)}var Ct=N(null),Gt=null;function In(e){var n=e.alternate;F(Je,Je.current&1),F(Ct,e),Gt===null&&(n===null||Pi.current!==null||n.memoizedState!==null)&&(Gt=e)}function ar(e){F(Je,Je.current),F(Ct,e),Gt===null&&(Gt=e)}function kd(e){e.tag===22?(F(Je,Je.current),F(Ct,e),Gt===null&&(Gt=e)):Un()}function Un(){F(Je,Je.current),F(Ct,Ct.current)}function At(e){U(Ct),Gt===e&&(Gt=null),U(Je)}var Je=N(0);function Xl(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||fu(l)||pu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sn=0,Te=null,Oe=null,$e=null,$l=!1,Vi=!1,ci=!1,Ql=0,Ho=0,Bi=null,Sy=0;function Ye(){throw Error(a(321))}function sr(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!bt(e[l],n[l]))return!1;return!0}function rr(e,n,l,s,f,h){return sn=h,Te=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?vf:br,ci=!1,h=l(s,f),ci=!1,Vi&&(h=Od(n,l,s,f)),Ld(e),h}function Ld(e){k.H=Bo;var n=Oe!==null&&Oe.next!==null;if(sn=0,$e=Oe=Te=null,$l=!1,Ho=0,Bi=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Vl(e)&&(Qe=!0))}function Od(e,n,l,s){Te=e;var f=0;do{if(Vi&&(Bi=null),Ho=0,Vi=!1,25<=f)throw Error(a(301));if(f+=1,$e=Oe=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}k.H=xf,h=n(l,s)}while(Vi);return h}function Ey(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Po(n):n,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(Te.flags|=1024),n}function ur(){var e=Ql!==0;return Ql=0,e}function cr(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function dr(e){if($l){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}$l=!1}sn=0,$e=Oe=Te=null,Vi=!1,Ho=Ql=0,Bi=null}function ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Te.memoizedState=$e=e:$e=$e.next=e,$e}function Ke(){if(Oe===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var n=$e===null?Te.memoizedState:$e.next;if(n!==null)$e=n,Oe=e;else{if(e===null)throw Te.alternate===null?Error(a(467)):Error(a(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},$e===null?Te.memoizedState=$e=e:$e=$e.next=e}return $e}function Zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(e){var n=Ho;return Ho+=1,Bi===null&&(Bi=[]),e=Ad(Bi,e,n),n=Te,($e===null?n.memoizedState:$e.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?vf:br),e}function jl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Po(e);if(e.$$typeof===J)return ot(e)}throw Error(a(438,String(e)))}function fr(e){var n=null,l=Te.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=Te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=Zl(),Te.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ue;return n.index++,l}function rn(e,n){return typeof n=="function"?n(e):n}function Wl(e){var n=Ke();return pr(n,Oe,e)}function pr(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,h=s.pending;if(h!==null){if(f!==null){var T=f.next;f.next=h.next,h.next=T}n.baseQueue=f=h,s.pending=null}if(h=e.baseState,f===null)e.memoizedState=h;else{n=f.next;var b=T=null,R=null,G=n,K=!1;do{var $=G.lane&-536870913;if($!==G.lane?(Ne&$)===$:(sn&$)===$){var V=G.revertLane;if(V===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),$===Li&&(K=!0);else if((sn&V)===V){G=G.next,V===Li&&(K=!0);continue}else $={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(b=R=$,T=h):R=R.next=$,Te.lanes|=V,Ln|=V;$=G.action,ci&&l(h,$),h=G.hasEagerState?G.eagerState:l(h,$)}else V={lane:$,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},R===null?(b=R=V,T=h):R=R.next=V,Te.lanes|=$,Ln|=$;G=G.next}while(G!==null&&G!==n);if(R===null?T=h:R.next=b,!bt(h,e.memoizedState)&&(Qe=!0,K&&(l=Oi,l!==null)))throw l;e.memoizedState=h,e.baseState=T,e.baseQueue=R,s.lastRenderedState=h}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function mr(e){var n=Ke(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,h=n.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do h=e(h,T.action),T=T.next;while(T!==f);bt(h,n.memoizedState)||(Qe=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),l.lastRenderedState=h}return[h,s]}function Gd(e,n,l){var s=Te,f=Ke(),h=we;if(h){if(l===void 0)throw Error(a(407));l=l()}else l=n();var T=!bt((Oe||f).memoizedState,l);if(T&&(f.memoizedState=l,Qe=!0),f=f.queue,yr(Vd.bind(null,s,f,e),[e]),f.getSnapshot!==n||T||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,zi(9,{destroy:void 0},Pd.bind(null,s,f,l,n),null),Pe===null)throw Error(a(349));h||(sn&127)!==0||Hd(s,n,l)}return l}function Hd(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Te.updateQueue,n===null?(n=Zl(),Te.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Pd(e,n,l,s){n.value=l,n.getSnapshot=s,Bd(n)&&zd(e)}function Vd(e,n,l){return l(function(){Bd(n)&&zd(e)})}function Bd(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!bt(e,l)}catch{return!0}}function zd(e){var n=ti(e,2);n!==null&&vt(n,e,2)}function hr(e){var n=ut();if(typeof e=="function"){var l=e;if(e=l(),ci){Sn(!0);try{l()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:e},n}function qd(e,n,l,s){return e.baseState=l,pr(e,Oe,typeof s=="function"?s:rn)}function by(e,n,l,s,f){if(na(e))throw Error(a(485));if(e=n.action,e!==null){var h={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){h.listeners.push(T)}};k.T!==null?l(!0):h.isTransition=!1,s(h),l=n.pending,l===null?(h.next=n.pending=h,Yd(n,h)):(h.next=l.next,n.pending=l.next=h)}}function Yd(e,n){var l=n.action,s=n.payload,f=e.state;if(n.isTransition){var h=k.T,T={};k.T=T;try{var b=l(f,s),R=k.S;R!==null&&R(T,b),Fd(e,n,b)}catch(G){gr(e,n,G)}finally{h!==null&&T.types!==null&&(h.types=T.types),k.T=h}}else try{h=l(f,s),Fd(e,n,h)}catch(G){gr(e,n,G)}}function Fd(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Jd(e,n,s)},function(s){return gr(e,n,s)}):Jd(e,n,l)}function Jd(e,n,l){n.status="fulfilled",n.value=l,Kd(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Yd(e,l)))}function gr(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,Kd(n),n=n.next;while(n!==s)}e.action=null}function Kd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Xd(e,n){return n}function $d(e,n){if(we){var l=Pe.formState;if(l!==null){e:{var s=Te;if(we){if(Ve){t:{for(var f=Ve,h=Ot;f.nodeType!==8;){if(!h){f=null;break t}if(f=Ht(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Ve=Ht(f.nextSibling),s=f.data==="F!";break e}}An(s)}s=!1}s&&(n=l[0])}}return l=ut(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:n},l.queue=s,l=hf.bind(null,Te,s),s.dispatch=l,s=hr(!1),h=Er.bind(null,Te,!1,s.queue),s=ut(),f={state:n,dispatch:null,action:e,pending:null},s.queue=f,l=by.bind(null,Te,f,h,l),f.dispatch=l,s.memoizedState=e,[n,l,!1]}function Qd(e){var n=Ke();return Zd(n,Oe,e)}function Zd(e,n,l){if(n=pr(e,n,Xd)[0],e=Wl(rn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Po(n)}catch(T){throw T===Gi?ql:T}else s=n;n=Ke();var f=n.queue,h=f.dispatch;return l!==n.memoizedState&&(Te.flags|=2048,zi(9,{destroy:void 0},_y.bind(null,f,l),null)),[s,h,e]}function _y(e,n){e.action=n}function jd(e){var n=Ke(),l=Oe;if(l!==null)return Zd(n,l,e);Ke(),n=n.memoizedState,l=Ke();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function zi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=Te.updateQueue,n===null&&(n=Zl(),Te.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Wd(){return Ke().memoizedState}function ea(e,n,l,s){var f=ut();Te.flags|=e,f.memoizedState=zi(1|n,{destroy:void 0},l,s===void 0?null:s)}function ta(e,n,l,s){var f=Ke();s=s===void 0?null:s;var h=f.memoizedState.inst;Oe!==null&&s!==null&&sr(s,Oe.memoizedState.deps)?f.memoizedState=zi(n,h,l,s):(Te.flags|=e,f.memoizedState=zi(1|n,h,l,s))}function ef(e,n){ea(8390656,8,e,n)}function yr(e,n){ta(2048,8,e,n)}function Cy(e){Te.flags|=4;var n=Te.updateQueue;if(n===null)n=Zl(),Te.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function tf(e){var n=Ke().memoizedState;return Cy({ref:n,nextImpl:e}),function(){if((De&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function nf(e,n){return ta(4,2,e,n)}function of(e,n){return ta(4,4,e,n)}function lf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function af(e,n,l){l=l!=null?l.concat([e]):null,ta(4,4,lf.bind(null,n,e),l)}function vr(){}function sf(e,n){var l=Ke();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&sr(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function rf(e,n){var l=Ke();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&sr(n,s[1]))return s[0];if(s=e(),ci){Sn(!0);try{e()}finally{Sn(!1)}}return l.memoizedState=[s,n],s}function xr(e,n,l){return l===void 0||(sn&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=up(),Te.lanes|=e,Ln|=e,l)}function uf(e,n,l,s){return bt(l,n)?l:Pi.current!==null?(e=xr(e,l,s),bt(e,n)||(Qe=!0),e):(sn&42)===0||(sn&1073741824)!==0&&(Ne&261930)===0?(Qe=!0,e.memoizedState=l):(e=up(),Te.lanes|=e,Ln|=e,n)}function cf(e,n,l,s,f){var h=W.p;W.p=h!==0&&8>h?h:8;var T=k.T,b={};k.T=b,Er(e,!1,n,l);try{var R=f(),G=k.S;if(G!==null&&G(b,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=Ty(R,s);Vo(e,n,K,wt(e))}else Vo(e,n,s,wt(e))}catch($){Vo(e,n,{then:function(){},status:"rejected",reason:$},wt())}finally{W.p=h,T!==null&&b.types!==null&&(T.types=b.types),k.T=T}}function Ay(){}function Tr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var f=df(e).queue;cf(e,f,n,P,l===null?Ay:function(){return ff(e),l(s)})}function df(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:P,baseState:P,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:P},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function ff(e){var n=df(e);n.next===null&&(n=e.alternate.memoizedState),Vo(e,n.next.queue,{},wt())}function Sr(){return ot(il)}function pf(){return Ke().memoizedState}function mf(){return Ke().memoizedState}function Ny(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=wt();e=wn(l);var s=Mn(n,e,l);s!==null&&(vt(s,n,l),Lo(s,n,l)),n={cache:Qs()},e.payload=n;return}n=n.return}}function Ry(e,n,l){var s=wt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},na(e)?gf(n,l):(l=Ps(e,n,l,s),l!==null&&(vt(l,e,s),yf(l,n,s)))}function hf(e,n,l){var s=wt();Vo(e,n,l,s)}function Vo(e,n,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(na(e))gf(n,f);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var T=n.lastRenderedState,b=h(T,l);if(f.hasEagerState=!0,f.eagerState=b,bt(b,T))return Ol(e,n,f,0),Pe===null&&Ll(),!1}catch{}finally{}if(l=Ps(e,n,f,s),l!==null)return vt(l,e,s),yf(l,n,s),!0}return!1}function Er(e,n,l,s){if(s={lane:2,revertLane:eu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},na(e)){if(n)throw Error(a(479))}else n=Ps(e,l,s,2),n!==null&&vt(n,e,2)}function na(e){var n=e.alternate;return e===Te||n!==null&&n===Te}function gf(e,n){Vi=$l=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function yf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,Sc(e,l)}}var Bo={readContext:ot,use:jl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Bo.useEffectEvent=Ye;var vf={readContext:ot,use:jl,useCallback:function(e,n){return ut().memoizedState=[e,n===void 0?null:n],e},useContext:ot,useEffect:ef,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,ea(4194308,4,lf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return ea(4194308,4,e,n)},useInsertionEffect:function(e,n){ea(4,2,e,n)},useMemo:function(e,n){var l=ut();n=n===void 0?null:n;var s=e();if(ci){Sn(!0);try{e()}finally{Sn(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=ut();if(l!==void 0){var f=l(n);if(ci){Sn(!0);try{l(n)}finally{Sn(!1)}}}else f=n;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=Ry.bind(null,Te,e),[s.memoizedState,e]},useRef:function(e){var n=ut();return e={current:e},n.memoizedState=e},useState:function(e){e=hr(e);var n=e.queue,l=hf.bind(null,Te,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:vr,useDeferredValue:function(e,n){var l=ut();return xr(l,e,n)},useTransition:function(){var e=hr(!1);return e=cf.bind(null,Te,e.queue,!0,!1),ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=Te,f=ut();if(we){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Pe===null)throw Error(a(349));(Ne&127)!==0||Hd(s,n,l)}f.memoizedState=l;var h={value:l,getSnapshot:n};return f.queue=h,ef(Vd.bind(null,s,h,e),[e]),s.flags|=2048,zi(9,{destroy:void 0},Pd.bind(null,s,h,l,n),null),l},useId:function(){var e=ut(),n=Pe.identifierPrefix;if(we){var l=Qt,s=$t;l=(s&~(1<<32-Et(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Ql++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=Sy++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sr,useFormState:$d,useActionState:$d,useOptimistic:function(e){var n=ut();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Er.bind(null,Te,!0,l),l.dispatch=n,[e,n]},useMemoCache:fr,useCacheRefresh:function(){return ut().memoizedState=Ny.bind(null,Te)},useEffectEvent:function(e){var n=ut(),l={impl:e};return n.memoizedState=l,function(){if((De&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},br={readContext:ot,use:jl,useCallback:sf,useContext:ot,useEffect:yr,useImperativeHandle:af,useInsertionEffect:nf,useLayoutEffect:of,useMemo:rf,useReducer:Wl,useRef:Wd,useState:function(){return Wl(rn)},useDebugValue:vr,useDeferredValue:function(e,n){var l=Ke();return uf(l,Oe.memoizedState,e,n)},useTransition:function(){var e=Wl(rn)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:Gd,useId:pf,useHostTransitionStatus:Sr,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,n){var l=Ke();return qd(l,Oe,e,n)},useMemoCache:fr,useCacheRefresh:mf};br.useEffectEvent=tf;var xf={readContext:ot,use:jl,useCallback:sf,useContext:ot,useEffect:yr,useImperativeHandle:af,useInsertionEffect:nf,useLayoutEffect:of,useMemo:rf,useReducer:mr,useRef:Wd,useState:function(){return mr(rn)},useDebugValue:vr,useDeferredValue:function(e,n){var l=Ke();return Oe===null?xr(l,e,n):uf(l,Oe.memoizedState,e,n)},useTransition:function(){var e=mr(rn)[0],n=Ke().memoizedState;return[typeof e=="boolean"?e:Po(e),n]},useSyncExternalStore:Gd,useId:pf,useHostTransitionStatus:Sr,useFormState:jd,useActionState:jd,useOptimistic:function(e,n){var l=Ke();return Oe!==null?qd(l,Oe,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:fr,useCacheRefresh:mf};xf.useEffectEvent=tf;function _r(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:S({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Cr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=wt(),f=wn(s);f.payload=n,l!=null&&(f.callback=l),n=Mn(e,f,s),n!==null&&(vt(n,e,s),Lo(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=wt(),f=wn(s);f.tag=1,f.payload=n,l!=null&&(f.callback=l),n=Mn(e,f,s),n!==null&&(vt(n,e,s),Lo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=wt(),s=wn(l);s.tag=2,n!=null&&(s.callback=n),n=Mn(e,s,l),n!==null&&(vt(n,e,l),Lo(n,e,l))}};function Tf(e,n,l,s,f,h,T){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,h,T):n.prototype&&n.prototype.isPureReactComponent?!No(l,s)||!No(f,h):!0}function Sf(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&Cr.enqueueReplaceState(n,n.state,null)}function di(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=S({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Ef(e){kl(e)}function bf(e){console.error(e)}function _f(e){kl(e)}function ia(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Cf(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ar(e,n,l){return l=wn(l),l.tag=3,l.payload={element:null},l.callback=function(){ia(e,n)},l}function Af(e){return e=wn(e),e.tag=3,e}function Nf(e,n,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var h=s.value;e.payload=function(){return f(h)},e.callback=function(){Cf(n,l,s)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(e.callback=function(){Cf(n,l,s),typeof f!="function"&&(On===null?On=new Set([this]):On.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})})}function wy(e,n,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&ki(n,l,f,!0),l=Ct.current,l!==null){switch(l.tag){case 31:case 13:return Gt===null?ha():l.alternate===null&&Fe===0&&(Fe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===Yl?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),Zr(e,s,f)),!1;case 22:return l.flags|=65536,s===Yl?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),Zr(e,s,f)),!1}throw Error(a(435,l.tag))}return Zr(e,s,f),ha(),!1}if(we)return n=Ct.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,s!==Fs&&(e=Error(a(422),{cause:s}),Mo(Dt(e,l)))):(s!==Fs&&(n=Error(a(423),{cause:s}),Mo(Dt(n,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Dt(s,l),f=Ar(e.stateNode,s,f),nr(e,f),Fe!==4&&(Fe=2)),!1;var h=Error(a(520),{cause:s});if(h=Dt(h,l),$o===null?$o=[h]:$o.push(h),Fe!==4&&(Fe=2),n===null)return!0;s=Dt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=Ar(l.stateNode,s,e),nr(l,e),!1;case 1:if(n=l.type,h=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(On===null||!On.has(h))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Af(f),Nf(f,e,l,s),nr(l,f),!1}l=l.return}while(l!==null);return!1}var Nr=Error(a(461)),Qe=!1;function lt(e,n,l,s){n.child=e===null?Md(n,null,l,s):ui(n,e.child,l,s)}function Rf(e,n,l,s,f){l=l.render;var h=n.ref;if("ref"in s){var T={};for(var b in s)b!=="ref"&&(T[b]=s[b])}else T=s;return li(n),s=rr(e,n,l,T,h,f),b=ur(),e!==null&&!Qe?(cr(e,n,f),un(e,n,f)):(we&&b&&qs(n),n.flags|=1,lt(e,n,s,f),n.child)}function wf(e,n,l,s,f){if(e===null){var h=l.type;return typeof h=="function"&&!Vs(h)&&h.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=h,Mf(e,n,h,s,f)):(e=Hl(l.type,null,s,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!Lr(e,f)){var T=h.memoizedProps;if(l=l.compare,l=l!==null?l:No,l(T,s)&&e.ref===n.ref)return un(e,n,f)}return n.flags|=1,e=nn(h,s),e.ref=n.ref,e.return=n,n.child=e}function Mf(e,n,l,s,f){if(e!==null){var h=e.memoizedProps;if(No(h,s)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=s=h,Lr(e,f))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,un(e,n,f)}return Rr(e,n,l,s,f)}function If(e,n,l,s){var f=s.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|l:l,e!==null){for(s=n.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~h}else s=0,n.child=null;return Uf(e,n,h,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zl(n,h!==null?h.cachePool:null),h!==null?Dd(n,h):or(),kd(n);else return s=n.lanes=536870912,Uf(e,n,h!==null?h.baseLanes|l:l,l,s)}else h!==null?(zl(n,h.cachePool),Dd(n,h),Un(),n.memoizedState=null):(e!==null&&zl(n,null),or(),Un());return lt(e,n,f,l),n.child}function zo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Uf(e,n,l,s,f){var h=js();return h=h===null?null:{parent:Xe._currentValue,pool:h},n.memoizedState={baseLanes:l,cachePool:h},e!==null&&zl(n,null),or(),kd(n),e!==null&&ki(e,n,s,!0),n.childLanes=f,null}function oa(e,n){return n=aa({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Df(e,n,l){return ui(n,e.child,null,l),e=oa(n,n.pendingProps),e.flags|=2,At(n),n.memoizedState=null,e}function My(e,n,l){var s=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(we){if(s.mode==="hidden")return e=oa(n,s),n.lanes=536870912,zo(null,e);if(ar(n),(e=Ve)?(e=Fp(e,Ot),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:$t,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=hd(e),l.return=n,n.child=l,it=n,Ve=null)):e=null,e===null)throw An(n);return n.lanes=536870912,null}return oa(n,s)}var h=e.memoizedState;if(h!==null){var T=h.dehydrated;if(ar(n),f)if(n.flags&256)n.flags&=-257,n=Df(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||ki(e,n,l,!1),f=(l&e.childLanes)!==0,Qe||f){if(s=Pe,s!==null&&(T=Ec(s,l),T!==0&&T!==h.retryLane))throw h.retryLane=T,ti(e,T),vt(s,e,T),Nr;ha(),n=Df(e,n,l)}else e=h.treeContext,Ve=Ht(T.nextSibling),it=n,we=!0,Cn=null,Ot=!1,e!==null&&vd(n,e),n=oa(n,s),n.flags|=4096;return n}return e=nn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function la(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function Rr(e,n,l,s,f){return li(n),l=rr(e,n,l,s,void 0,f),s=ur(),e!==null&&!Qe?(cr(e,n,f),un(e,n,f)):(we&&s&&qs(n),n.flags|=1,lt(e,n,l,f),n.child)}function kf(e,n,l,s,f,h){return li(n),n.updateQueue=null,l=Od(n,s,l,f),Ld(e),s=ur(),e!==null&&!Qe?(cr(e,n,h),un(e,n,h)):(we&&s&&qs(n),n.flags|=1,lt(e,n,l,h),n.child)}function Lf(e,n,l,s,f){if(li(n),n.stateNode===null){var h=Mi,T=l.contextType;typeof T=="object"&&T!==null&&(h=ot(T)),h=new l(s,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Cr,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=s,h.state=n.memoizedState,h.refs={},er(n),T=l.contextType,h.context=typeof T=="object"&&T!==null?ot(T):Mi,h.state=n.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(_r(n,l,T,s),h.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(T=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),T!==h.state&&Cr.enqueueReplaceState(h,h.state,null),Go(n,s,h,f),Oo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){h=n.stateNode;var b=n.memoizedProps,R=di(l,b);h.props=R;var G=h.context,K=l.contextType;T=Mi,typeof K=="object"&&K!==null&&(T=ot(K));var $=l.getDerivedStateFromProps;K=typeof $=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,K||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||G!==T)&&Sf(n,h,s,T),Rn=!1;var V=n.memoizedState;h.state=V,Go(n,s,h,f),Oo(),G=n.memoizedState,b||V!==G||Rn?(typeof $=="function"&&(_r(n,l,$,s),G=n.memoizedState),(R=Rn||Tf(n,l,R,s,V,G,T))?(K||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=G),h.props=s,h.state=G,h.context=T,s=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{h=n.stateNode,tr(e,n),T=n.memoizedProps,K=di(l,T),h.props=K,$=n.pendingProps,V=h.context,G=l.contextType,R=Mi,typeof G=="object"&&G!==null&&(R=ot(G)),b=l.getDerivedStateFromProps,(G=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T!==$||V!==R)&&Sf(n,h,s,R),Rn=!1,V=n.memoizedState,h.state=V,Go(n,s,h,f),Oo();var q=n.memoizedState;T!==$||V!==q||Rn||e!==null&&e.dependencies!==null&&Vl(e.dependencies)?(typeof b=="function"&&(_r(n,l,b,s),q=n.memoizedState),(K=Rn||Tf(n,l,K,s,V,q,R)||e!==null&&e.dependencies!==null&&Vl(e.dependencies))?(G||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,q,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,q,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=q),h.props=s,h.state=q,h.context=R,s=K):(typeof h.componentDidUpdate!="function"||T===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||T===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),s=!1)}return h=s,la(e,n),s=(n.flags&128)!==0,h||s?(h=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&s?(n.child=ui(n,e.child,null,f),n.child=ui(n,null,l,f)):lt(e,n,l,f),n.memoizedState=h.state,e=n.child):e=un(e,n,f),e}function Of(e,n,l,s){return ii(),n.flags|=256,lt(e,n,l,s),n.child}var wr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mr(e){return{baseLanes:e,cachePool:_d()}}function Ir(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Rt),e}function Gf(e,n,l){var s=n.pendingProps,f=!1,h=(n.flags&128)!==0,T;if((T=h)||(T=e!==null&&e.memoizedState===null?!1:(Je.current&2)!==0),T&&(f=!0,n.flags&=-129),T=(n.flags&32)!==0,n.flags&=-33,e===null){if(we){if(f?In(n):Un(),(e=Ve)?(e=Fp(e,Ot),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_n!==null?{id:$t,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=hd(e),l.return=n,n.child=l,it=n,Ve=null)):e=null,e===null)throw An(n);return pu(e)?n.lanes=32:n.lanes=536870912,null}var b=s.children;return s=s.fallback,f?(Un(),f=n.mode,b=aa({mode:"hidden",children:b},f),s=ni(s,f,l,null),b.return=n,s.return=n,b.sibling=s,n.child=b,s=n.child,s.memoizedState=Mr(l),s.childLanes=Ir(e,T,l),n.memoizedState=wr,zo(null,s)):(In(n),Ur(n,b))}var R=e.memoizedState;if(R!==null&&(b=R.dehydrated,b!==null)){if(h)n.flags&256?(In(n),n.flags&=-257,n=Dr(e,n,l)):n.memoizedState!==null?(Un(),n.child=e.child,n.flags|=128,n=null):(Un(),b=s.fallback,f=n.mode,s=aa({mode:"visible",children:s.children},f),b=ni(b,f,l,null),b.flags|=2,s.return=n,b.return=n,s.sibling=b,n.child=s,ui(n,e.child,null,l),s=n.child,s.memoizedState=Mr(l),s.childLanes=Ir(e,T,l),n.memoizedState=wr,n=zo(null,s));else if(In(n),pu(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var G=T.dgst;T=G,s=Error(a(419)),s.stack="",s.digest=T,Mo({value:s,source:null,stack:null}),n=Dr(e,n,l)}else if(Qe||ki(e,n,l,!1),T=(l&e.childLanes)!==0,Qe||T){if(T=Pe,T!==null&&(s=Ec(T,l),s!==0&&s!==R.retryLane))throw R.retryLane=s,ti(e,s),vt(T,e,s),Nr;fu(b)||ha(),n=Dr(e,n,l)}else fu(b)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Ve=Ht(b.nextSibling),it=n,we=!0,Cn=null,Ot=!1,e!==null&&vd(n,e),n=Ur(n,s.children),n.flags|=4096);return n}return f?(Un(),b=s.fallback,f=n.mode,R=e.child,G=R.sibling,s=nn(R,{mode:"hidden",children:s.children}),s.subtreeFlags=R.subtreeFlags&65011712,G!==null?b=nn(G,b):(b=ni(b,f,l,null),b.flags|=2),b.return=n,s.return=n,s.sibling=b,n.child=s,zo(null,s),s=n.child,b=e.child.memoizedState,b===null?b=Mr(l):(f=b.cachePool,f!==null?(R=Xe._currentValue,f=f.parent!==R?{parent:R,pool:R}:f):f=_d(),b={baseLanes:b.baseLanes|l,cachePool:f}),s.memoizedState=b,s.childLanes=Ir(e,T,l),n.memoizedState=wr,zo(e.child,s)):(In(n),l=e.child,e=l.sibling,l=nn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(T=n.deletions,T===null?(n.deletions=[e],n.flags|=16):T.push(e)),n.child=l,n.memoizedState=null,l)}function Ur(e,n){return n=aa({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function aa(e,n){return e=_t(22,e,null,n),e.lanes=0,e}function Dr(e,n,l){return ui(n,e.child,null,l),e=Ur(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Hf(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Xs(e.return,n,l)}function kr(e,n,l,s,f,h){var T=e.memoizedState;T===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:h}:(T.isBackwards=n,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=l,T.tailMode=f,T.treeForkCount=h)}function Pf(e,n,l){var s=n.pendingProps,f=s.revealOrder,h=s.tail;s=s.children;var T=Je.current,b=(T&2)!==0;if(b?(T=T&1|2,n.flags|=128):T&=1,F(Je,T),lt(e,n,s,l),s=we?wo:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hf(e,l,n);else if(e.tag===19)Hf(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=n.child,f=null;l!==null;)e=l.alternate,e!==null&&Xl(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=n.child,n.child=null):(f=l.sibling,l.sibling=null),kr(n,!1,f,l,h,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Xl(e)===null){n.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}kr(n,!0,l,null,h,s);break;case"together":kr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function un(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Ln|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(ki(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=nn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=nn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function Lr(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vl(e)))}function Iy(e,n,l){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Nn(n,Xe,e.memoizedState.cache),ii();break;case 27:case 5:qe(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Nn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ar(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(In(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Gf(e,n,l):(In(n),e=un(e,n,l),e!==null?e.sibling:null);In(n);break;case 19:var f=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(ki(e,n,l,!1),s=(l&n.childLanes)!==0),f){if(s)return Pf(e,n,l);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(Je,Je.current),s)break;return null;case 22:return n.lanes=0,If(e,n,l,n.pendingProps);case 24:Nn(n,Xe,e.memoizedState.cache)}return un(e,n,l)}function Vf(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!Lr(e,l)&&(n.flags&128)===0)return Qe=!1,Iy(e,n,l);Qe=(e.flags&131072)!==0}else Qe=!1,we&&(n.flags&1048576)!==0&&yd(n,wo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=si(n.elementType),n.type=e,typeof e=="function")Vs(e)?(s=di(e,s),n.tag=1,n=Lf(null,n,e,s,l)):(n.tag=0,n=Rr(null,n,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===B){n.tag=11,n=Rf(null,n,e,s,l);break e}else if(f===j){n.tag=14,n=wf(null,n,e,s,l);break e}}throw n=ge(e)||e,Error(a(306,n,""))}}return n;case 0:return Rr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,f=di(s,n.pendingProps),Lf(e,n,s,f,l);case 3:e:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var h=n.memoizedState;f=h.element,tr(e,n),Go(n,s,null,l);var T=n.memoizedState;if(s=T.cache,Nn(n,Xe,s),s!==h.cache&&$s(n,[Xe],l,!0),Oo(),s=T.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:T.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Of(e,n,s,l);break e}else if(s!==f){f=Dt(Error(a(424)),n),Mo(f),n=Of(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Ht(e.firstChild),it=n,we=!0,Cn=null,Ot=!0,l=Md(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ii(),s===f){n=un(e,n,l);break e}lt(e,n,s,l)}n=n.child}return n;case 26:return la(e,n),e===null?(l=Zp(n.type,null,n.pendingProps,null))?n.memoizedState=l:we||(l=n.type,e=n.pendingProps,s=Ea(ne.current).createElement(l),s[nt]=n,s[ft]=e,at(s,l,e),We(s),n.stateNode=s):n.memoizedState=Zp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qe(n),e===null&&we&&(s=n.stateNode=Xp(n.type,n.pendingProps,ne.current),it=n,Ot=!0,f=Ve,Vn(n.type)?(mu=f,Ve=Ht(s.firstChild)):Ve=f),lt(e,n,n.pendingProps.children,l),la(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&we&&((f=s=Ve)&&(s=sv(s,n.type,n.pendingProps,Ot),s!==null?(n.stateNode=s,it=n,Ve=Ht(s.firstChild),Ot=!1,f=!0):f=!1),f||An(n)),qe(n),f=n.type,h=n.pendingProps,T=e!==null?e.memoizedProps:null,s=h.children,uu(f,h)?s=null:T!==null&&uu(f,T)&&(n.flags|=32),n.memoizedState!==null&&(f=rr(e,n,Ey,null,null,l),il._currentValue=f),la(e,n),lt(e,n,s,l),n.child;case 6:return e===null&&we&&((e=l=Ve)&&(l=rv(l,n.pendingProps,Ot),l!==null?(n.stateNode=l,it=n,Ve=null,e=!0):e=!1),e||An(n)),null;case 13:return Gf(e,n,l);case 4:return ye(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=ui(n,null,s,l):lt(e,n,s,l),n.child;case 11:return Rf(e,n,n.type,n.pendingProps,l);case 7:return lt(e,n,n.pendingProps,l),n.child;case 8:return lt(e,n,n.pendingProps.children,l),n.child;case 12:return lt(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Nn(n,n.type,s.value),lt(e,n,s.children,l),n.child;case 9:return f=n.type._context,s=n.pendingProps.children,li(n),f=ot(f),s=s(f),n.flags|=1,lt(e,n,s,l),n.child;case 14:return wf(e,n,n.type,n.pendingProps,l);case 15:return Mf(e,n,n.type,n.pendingProps,l);case 19:return Pf(e,n,l);case 31:return My(e,n,l);case 22:return If(e,n,l,n.pendingProps);case 24:return li(n),s=ot(Xe),e===null?(f=js(),f===null&&(f=Pe,h=Qs(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=l),f=h),n.memoizedState={parent:s,cache:f},er(n),Nn(n,Xe,f)):((e.lanes&l)!==0&&(tr(e,n),Go(n,null,null,l),Oo()),f=e.memoizedState,h=n.memoizedState,f.parent!==s?(f={parent:s,cache:s},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Nn(n,Xe,s)):(s=h.cache,Nn(n,Xe,s),s!==f.cache&&$s(n,[Xe],l,!0))),lt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cn(e){e.flags|=4}function Or(e,n,l,s,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(pp())e.flags|=8192;else throw ri=Yl,Ws}else e.flags&=-16777217}function Bf(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!nm(n))if(pp())e.flags|=8192;else throw ri=Yl,Ws}function sa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?xc():536870912,e.lanes|=n,Ji|=n)}function qo(e,n){if(!we)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Be(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function Uy(e,n,l){var s=n.pendingProps;switch(Ys(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(n),null;case 1:return Be(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),an(Xe),Se(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Di(n)?cn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Js())),Be(n),null;case 26:var f=n.type,h=n.memoizedState;return e===null?(cn(n),h!==null?(Be(n),Bf(n,h)):(Be(n),Or(n,f,null,s,l))):h?h!==e.memoizedState?(cn(n),Be(n),Bf(n,h)):(Be(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&cn(n),Be(n),Or(n,f,e,s,l)),null;case 27:if(Xn(n),l=ne.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&cn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Be(n),null}e=L.current,Di(n)?xd(n):(e=Xp(f,s,l),n.stateNode=e,cn(n))}return Be(n),null;case 5:if(Xn(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&cn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Be(n),null}if(h=L.current,Di(n))xd(n);else{var T=Ea(ne.current);switch(h){case 1:h=T.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=T.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=T.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=T.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?h.multiple=!0:s.size&&(h.size=s.size);break;default:h=typeof s.is=="string"?T.createElement(f,{is:s.is}):T.createElement(f)}}h[nt]=n,h[ft]=s;e:for(T=n.child;T!==null;){if(T.tag===5||T.tag===6)h.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===n)break e;for(;T.sibling===null;){if(T.return===null||T.return===n)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}n.stateNode=h;e:switch(at(h,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&cn(n)}}return Be(n),Or(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&cn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=ne.current,Di(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,f=it,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[nt]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Gp(e.nodeValue,l)),e||An(n,!0)}else e=Ea(e).createTextNode(s),e[nt]=n,n.stateNode=e}return Be(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Di(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),e=!1}else l=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(At(n),n):(At(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Be(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Di(n),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[nt]=n}else ii(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Be(n),f=!1}else f=Js(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(At(n),n):(At(n),null)}return At(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==f&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),sa(n,n.updateQueue),Be(n),null);case 4:return Se(),e===null&&ou(n.stateNode.containerInfo),Be(n),null;case 10:return an(n.type),Be(n),null;case 19:if(U(Je),s=n.memoizedState,s===null)return Be(n),null;if(f=(n.flags&128)!==0,h=s.rendering,h===null)if(f)qo(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Xl(e),h!==null){for(n.flags|=128,qo(s,!1),e=h.updateQueue,n.updateQueue=e,sa(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)md(l,e),l=l.sibling;return F(Je,Je.current&1|2),we&&on(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&Tt()>fa&&(n.flags|=128,f=!0,qo(s,!1),n.lanes=4194304)}else{if(!f)if(e=Xl(h),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,sa(n,e),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!we)return Be(n),null}else 2*Tt()-s.renderingStartTime>fa&&l!==536870912&&(n.flags|=128,f=!0,qo(s,!1),n.lanes=4194304);s.isBackwards?(h.sibling=n.child,n.child=h):(e=s.last,e!==null?e.sibling=h:n.child=h,s.last=h)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,l=Je.current,F(Je,f?l&1|2:l&1),we&&on(n,s.treeForkCount),e):(Be(n),null);case 22:case 23:return At(n),lr(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Be(n),n.subtreeFlags&6&&(n.flags|=8192)):Be(n),l=n.updateQueue,l!==null&&sa(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&U(ai),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),an(Xe),Be(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Dy(e,n){switch(Ys(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return an(Xe),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xn(n),null;case 31:if(n.memoizedState!==null){if(At(n),n.alternate===null)throw Error(a(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(At(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ii()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return U(Je),null;case 4:return Se(),null;case 10:return an(n.type),null;case 22:case 23:return At(n),lr(),e!==null&&U(ai),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return an(Xe),null;case 25:return null;default:return null}}function zf(e,n){switch(Ys(n),n.tag){case 3:an(Xe),Se();break;case 26:case 27:case 5:Xn(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&At(n);break;case 13:At(n);break;case 19:U(Je);break;case 10:an(n.type);break;case 22:case 23:At(n),lr(),e!==null&&U(ai);break;case 24:an(Xe)}}function Yo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var h=l.create,T=l.inst;s=h(),T.destroy=s}l=l.next}while(l!==f)}}catch(b){Le(n,n.return,b)}}function Dn(e,n,l){try{var s=n.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var h=f.next;s=h;do{if((s.tag&e)===e){var T=s.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=n;var R=l,G=b;try{G()}catch(K){Le(f,R,K)}}}s=s.next}while(s!==h)}}catch(K){Le(n,n.return,K)}}function qf(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Ud(n,l)}catch(s){Le(e,e.return,s)}}}function Yf(e,n,l){l.props=di(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){Le(e,n,s)}}function Fo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){Le(e,n,f)}}function Zt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){Le(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Le(e,n,f)}else l.current=null}function Ff(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){Le(e,e.return,f)}}function Gr(e,n,l){try{var s=e.stateNode;tv(s,e.type,l,n),s[ft]=n}catch(f){Le(e,e.return,f)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vn(e.type)||e.tag===4}function Hr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=en));else if(s!==4&&(s===27&&Vn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Pr(e,n,l),e=e.sibling;e!==null;)Pr(e,n,l),e=e.sibling}function ra(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Vn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ra(e,n,l),e=e.sibling;e!==null;)ra(e,n,l),e=e.sibling}function Kf(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);at(n,s,l),n[nt]=e,n[ft]=l}catch(h){Le(e,e.return,h)}}var dn=!1,Ze=!1,Vr=!1,Xf=typeof WeakSet=="function"?WeakSet:Set,et=null;function ky(e,n){if(e=e.containerInfo,su=wa,e=ld(e),Ds(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var T=0,b=-1,R=-1,G=0,K=0,$=e,V=null;t:for(;;){for(var q;$!==l||f!==0&&$.nodeType!==3||(b=T+f),$!==h||s!==0&&$.nodeType!==3||(R=T+s),$.nodeType===3&&(T+=$.nodeValue.length),(q=$.firstChild)!==null;)V=$,$=q;for(;;){if($===e)break t;if(V===l&&++G===f&&(b=T),V===h&&++K===s&&(R=T),(q=$.nextSibling)!==null)break;$=V,V=$.parentNode}$=q}l=b===-1||R===-1?null:{start:b,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(ru={focusedElem:e,selectionRange:l},wa=!1,et=n;et!==null;)if(n=et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,et=e;else for(;et!==null;){switch(n=et,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,l=n,f=h.memoizedProps,h=h.memoizedState,s=l.stateNode;try{var re=di(l.type,f);e=s.getSnapshotBeforeUpdate(re,h),s.__reactInternalSnapshotBeforeUpdate=e}catch(he){Le(l,l.return,he)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)du(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,et=e;break}et=n.return}}function $f(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:pn(e,l),s&4&&Yo(5,l);break;case 1:if(pn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(T){Le(l,l.return,T)}else{var f=di(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(T){Le(l,l.return,T)}}s&64&&qf(l),s&512&&Fo(l,l.return);break;case 3:if(pn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Ud(e,n)}catch(T){Le(l,l.return,T)}}break;case 27:n===null&&s&4&&Kf(l);case 26:case 5:pn(e,l),n===null&&s&4&&Ff(l),s&512&&Fo(l,l.return);break;case 12:pn(e,l);break;case 31:pn(e,l),s&4&&jf(e,l);break;case 13:pn(e,l),s&4&&Wf(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=qy.bind(null,l),uv(e,l))));break;case 22:if(s=l.memoizedState!==null||dn,!s){n=n!==null&&n.memoizedState!==null||Ze,f=dn;var h=Ze;dn=s,(Ze=n)&&!h?mn(e,l,(l.subtreeFlags&8772)!==0):pn(e,l),dn=f,Ze=h}break;case 30:break;default:pn(e,l)}}function Qf(e){var n=e.alternate;n!==null&&(e.alternate=null,Qf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&gs(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,mt=!1;function fn(e,n,l){for(l=l.child;l!==null;)Zf(e,n,l),l=l.sibling}function Zf(e,n,l){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ho,l)}catch{}switch(l.tag){case 26:Ze||Zt(l,n),fn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ze||Zt(l,n);var s=ze,f=mt;Vn(l.type)&&(ze=l.stateNode,mt=!1),fn(e,n,l),el(l.stateNode),ze=s,mt=f;break;case 5:Ze||Zt(l,n);case 6:if(s=ze,f=mt,ze=null,fn(e,n,l),ze=s,mt=f,ze!==null)if(mt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(l.stateNode)}catch(h){Le(l,n,h)}else try{ze.removeChild(l.stateNode)}catch(h){Le(l,n,h)}break;case 18:ze!==null&&(mt?(e=ze,qp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),eo(e)):qp(ze,l.stateNode));break;case 4:s=ze,f=mt,ze=l.stateNode.containerInfo,mt=!0,fn(e,n,l),ze=s,mt=f;break;case 0:case 11:case 14:case 15:Dn(2,l,n),Ze||Dn(4,l,n),fn(e,n,l);break;case 1:Ze||(Zt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Yf(l,n,s)),fn(e,n,l);break;case 21:fn(e,n,l);break;case 22:Ze=(s=Ze)||l.memoizedState!==null,fn(e,n,l),Ze=s;break;default:fn(e,n,l)}}function jf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(l){Le(n,n.return,l)}}}function Wf(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(l){Le(n,n.return,l)}}function Ly(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Xf),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Xf),n;default:throw Error(a(435,e.tag))}}function ua(e,n){var l=Ly(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var f=Yy.bind(null,e,s);s.then(f,f)}})}function ht(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],h=e,T=n,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Vn(b.type)){ze=b.stateNode,mt=!1;break e}break;case 5:ze=b.stateNode,mt=!1;break e;case 3:case 4:ze=b.stateNode.containerInfo,mt=!0;break e}b=b.return}if(ze===null)throw Error(a(160));Zf(h,T,f),ze=null,mt=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,e),n=n.sibling}var qt=null;function ep(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(n,e),gt(e),s&4&&(Dn(3,e,e.return),Yo(3,e),Dn(5,e,e.return));break;case 1:ht(n,e),gt(e),s&512&&(Ze||l===null||Zt(l,l.return)),s&64&&dn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=qt;if(ht(n,e),gt(e),s&512&&(Ze||l===null||Zt(l,l.return)),s&4){var h=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":h=f.getElementsByTagName("title")[0],(!h||h[vo]||h[nt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(s),f.head.insertBefore(h,f.querySelector("head > title"))),at(h,s,l),h[nt]=e,We(h),s=h;break e;case"link":var T=em("link","href",f).get(s+(l.href||""));if(T){for(var b=0;b<T.length;b++)if(h=T[b],h.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&h.getAttribute("rel")===(l.rel==null?null:l.rel)&&h.getAttribute("title")===(l.title==null?null:l.title)&&h.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(b,1);break t}}h=f.createElement(s),at(h,s,l),f.head.appendChild(h);break;case"meta":if(T=em("meta","content",f).get(s+(l.content||""))){for(b=0;b<T.length;b++)if(h=T[b],h.getAttribute("content")===(l.content==null?null:""+l.content)&&h.getAttribute("name")===(l.name==null?null:l.name)&&h.getAttribute("property")===(l.property==null?null:l.property)&&h.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&h.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(b,1);break t}}h=f.createElement(s),at(h,s,l),f.head.appendChild(h);break;default:throw Error(a(468,s))}h[nt]=e,We(h),s=h}e.stateNode=s}else tm(f,e.type,e.stateNode);else e.stateNode=Wp(f,s,e.memoizedProps);else h!==s?(h===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):h.count--,s===null?tm(f,e.type,e.stateNode):Wp(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Gr(e,e.memoizedProps,l.memoizedProps)}break;case 27:ht(n,e),gt(e),s&512&&(Ze||l===null||Zt(l,l.return)),l!==null&&s&4&&Gr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ht(n,e),gt(e),s&512&&(Ze||l===null||Zt(l,l.return)),e.flags&32){f=e.stateNode;try{bi(f,"")}catch(re){Le(e,e.return,re)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Gr(e,f,l!==null?l.memoizedProps:f)),s&1024&&(Vr=!0);break;case 6:if(ht(n,e),gt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(re){Le(e,e.return,re)}}break;case 3:if(Ca=null,f=qt,qt=ba(n.containerInfo),ht(n,e),qt=f,gt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(re){Le(e,e.return,re)}Vr&&(Vr=!1,tp(e));break;case 4:s=qt,qt=ba(e.stateNode.containerInfo),ht(n,e),gt(e),qt=s;break;case 12:ht(n,e),gt(e);break;case 31:ht(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 13:ht(n,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(da=Tt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 22:f=e.memoizedState!==null;var R=l!==null&&l.memoizedState!==null,G=dn,K=Ze;if(dn=G||f,Ze=K||R,ht(n,e),Ze=K,dn=G,gt(e),s&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(l===null||R||dn||Ze||fi(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){R=l=n;try{if(h=R.stateNode,f)T=h.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=R.stateNode;var $=R.memoizedProps.style,V=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(re){Le(R,R.return,re)}}}else if(n.tag===6){if(l===null){R=n;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(re){Le(R,R.return,re)}}}else if(n.tag===18){if(l===null){R=n;try{var q=R.stateNode;f?Yp(q,!0):Yp(R.stateNode,!1)}catch(re){Le(R,R.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,ua(e,l))));break;case 19:ht(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,ua(e,s)));break;case 30:break;case 21:break;default:ht(n,e),gt(e)}}function gt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Jf(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,h=Hr(e);ra(e,h,f);break;case 5:var T=l.stateNode;l.flags&32&&(bi(T,""),l.flags&=-33);var b=Hr(e);ra(e,b,T);break;case 3:case 4:var R=l.stateNode.containerInfo,G=Hr(e);Pr(e,G,R);break;default:throw Error(a(161))}}catch(K){Le(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function tp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$f(e,n.alternate,n),n=n.sibling}function fi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Dn(4,n,n.return),fi(n);break;case 1:Zt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Yf(n,n.return,l),fi(n);break;case 27:el(n.stateNode);case 26:case 5:Zt(n,n.return),fi(n);break;case 22:n.memoizedState===null&&fi(n);break;case 30:fi(n);break;default:fi(n)}e=e.sibling}}function mn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,f=e,h=n,T=h.flags;switch(h.tag){case 0:case 11:case 15:mn(f,h,l),Yo(4,h);break;case 1:if(mn(f,h,l),s=h,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Le(s,s.return,G)}if(s=h,f=s.updateQueue,f!==null){var b=s.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Id(R[f],b)}catch(G){Le(s,s.return,G)}}l&&T&64&&qf(h),Fo(h,h.return);break;case 27:Kf(h);case 26:case 5:mn(f,h,l),l&&s===null&&T&4&&Ff(h),Fo(h,h.return);break;case 12:mn(f,h,l);break;case 31:mn(f,h,l),l&&T&4&&jf(f,h);break;case 13:mn(f,h,l),l&&T&4&&Wf(f,h);break;case 22:h.memoizedState===null&&mn(f,h,l),Fo(h,h.return);break;case 30:break;default:mn(f,h,l)}n=n.sibling}}function Br(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Io(l))}function zr(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Io(e))}function Yt(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)np(e,n,l,s),n=n.sibling}function np(e,n,l,s){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Yt(e,n,l,s),f&2048&&Yo(9,n);break;case 1:Yt(e,n,l,s);break;case 3:Yt(e,n,l,s),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Io(e)));break;case 12:if(f&2048){Yt(e,n,l,s),e=n.stateNode;try{var h=n.memoizedProps,T=h.id,b=h.onPostCommit;typeof b=="function"&&b(T,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Le(n,n.return,R)}}else Yt(e,n,l,s);break;case 31:Yt(e,n,l,s);break;case 13:Yt(e,n,l,s);break;case 23:break;case 22:h=n.stateNode,T=n.alternate,n.memoizedState!==null?h._visibility&2?Yt(e,n,l,s):Jo(e,n):h._visibility&2?Yt(e,n,l,s):(h._visibility|=2,qi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),f&2048&&Br(T,n);break;case 24:Yt(e,n,l,s),f&2048&&zr(n.alternate,n);break;default:Yt(e,n,l,s)}}function qi(e,n,l,s,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,T=n,b=l,R=s,G=T.flags;switch(T.tag){case 0:case 11:case 15:qi(h,T,b,R,f),Yo(8,T);break;case 23:break;case 22:var K=T.stateNode;T.memoizedState!==null?K._visibility&2?qi(h,T,b,R,f):Jo(h,T):(K._visibility|=2,qi(h,T,b,R,f)),f&&G&2048&&Br(T.alternate,T);break;case 24:qi(h,T,b,R,f),f&&G&2048&&zr(T.alternate,T);break;default:qi(h,T,b,R,f)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,f=s.flags;switch(s.tag){case 22:Jo(l,s),f&2048&&Br(s.alternate,s);break;case 24:Jo(l,s),f&2048&&zr(s.alternate,s);break;default:Jo(l,s)}n=n.sibling}}var Ko=8192;function Yi(e,n,l){if(e.subtreeFlags&Ko)for(e=e.child;e!==null;)ip(e,n,l),e=e.sibling}function ip(e,n,l){switch(e.tag){case 26:Yi(e,n,l),e.flags&Ko&&e.memoizedState!==null&&Sv(l,qt,e.memoizedState,e.memoizedProps);break;case 5:Yi(e,n,l);break;case 3:case 4:var s=qt;qt=ba(e.stateNode.containerInfo),Yi(e,n,l),qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ko,Ko=16777216,Yi(e,n,l),Ko=s):Yi(e,n,l));break;default:Yi(e,n,l)}}function op(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Xo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];et=s,ap(s,e)}op(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)lp(e),e=e.sibling}function lp(e){switch(e.tag){case 0:case 11:case 15:Xo(e),e.flags&2048&&Dn(9,e,e.return);break;case 3:Xo(e);break;case 12:Xo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ca(e)):Xo(e);break;default:Xo(e)}}function ca(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];et=s,ap(s,e)}op(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Dn(8,n,n.return),ca(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ca(n));break;default:ca(n)}e=e.sibling}}function ap(e,n){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:Dn(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Io(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,et=s;else e:for(l=e;et!==null;){s=et;var f=s.sibling,h=s.return;if(Qf(s),s===l){et=null;break e}if(f!==null){f.return=h,et=f;break e}et=h}}}var Oy={getCacheForType:function(e){var n=ot(Xe),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return ot(Xe).controller.signal}},Gy=typeof WeakMap=="function"?WeakMap:Map,De=0,Pe=null,_e=null,Ne=0,ke=0,Nt=null,kn=!1,Fi=!1,qr=!1,hn=0,Fe=0,Ln=0,pi=0,Yr=0,Rt=0,Ji=0,$o=null,yt=null,Fr=!1,da=0,sp=0,fa=1/0,pa=null,On=null,je=0,Gn=null,Ki=null,gn=0,Jr=0,Kr=null,rp=null,Qo=0,Xr=null;function wt(){return(De&2)!==0&&Ne!==0?Ne&-Ne:k.T!==null?eu():bc()}function up(){if(Rt===0)if((Ne&536870912)===0||we){var e=Sl;Sl<<=1,(Sl&3932160)===0&&(Sl=262144),Rt=e}else Rt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Rt}function vt(e,n,l){(e===Pe&&(ke===2||ke===9)||e.cancelPendingCommit!==null)&&(Xi(e,0),Hn(e,Ne,Rt,!1)),yo(e,l),((De&2)===0||e!==Pe)&&(e===Pe&&((De&2)===0&&(pi|=l),Fe===4&&Hn(e,Ne,Rt,!1)),jt(e))}function cp(e,n,l){if((De&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||go(e,n),f=s?Vy(e,n):Qr(e,n,!0),h=s;do{if(f===0){Fi&&!s&&Hn(e,n,0,!1);break}else{if(l=e.current.alternate,h&&!Hy(l)){f=Qr(e,n,!1),h=!1;continue}if(f===2){if(h=n,e.errorRecoveryDisabledLanes&h)var T=0;else T=e.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){n=T;e:{var b=e;f=$o;var R=b.current.memoizedState.isDehydrated;if(R&&(Xi(b,T).flags|=256),T=Qr(b,T,!1),T!==2){if(qr&&!R){b.errorRecoveryDisabledLanes|=h,pi|=h,f=4;break e}h=yt,yt=f,h!==null&&(yt===null?yt=h:yt.push.apply(yt,h))}f=T}if(h=!1,f!==2)continue}}if(f===1){Xi(e,0),Hn(e,n,0,!0);break}e:{switch(s=e,h=f,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Hn(s,n,Rt,!kn);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(f=da+300-Tt(),10<f)){if(Hn(s,n,Rt,!kn),bl(s,0,!0)!==0)break e;gn=n,s.timeoutHandle=Bp(dp.bind(null,s,l,yt,pa,Fr,n,Rt,pi,Ji,kn,h,"Throttled",-0,0),f);break e}dp(s,l,yt,pa,Fr,n,Rt,pi,Ji,kn,h,null,-0,0)}}break}while(!0);jt(e)}function dp(e,n,l,s,f,h,T,b,R,G,K,$,V,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},ip(n,h,$);var re=(h&62914560)===h?da-Tt():(h&4194048)===h?sp-Tt():0;if(re=Ev($,re),re!==null){gn=h,e.cancelPendingCommit=re(xp.bind(null,e,n,h,l,s,f,T,b,R,K,$,null,V,q)),Hn(e,h,T,!G);return}}xp(e,n,h,l,s,f,T,b,R)}function Hy(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],h=f.getSnapshot;f=f.value;try{if(!bt(h(),f))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(e,n,l,s){n&=~Yr,n&=~pi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var f=n;0<f;){var h=31-Et(f),T=1<<h;s[h]=-1,f&=~T}l!==0&&Tc(e,l,n)}function ma(){return(De&6)===0?(Zo(0),!1):!0}function $r(){if(_e!==null){if(ke===0)var e=_e.return;else e=_e,ln=oi=null,dr(e),Hi=null,Do=0,e=_e;for(;e!==null;)zf(e.alternate,e),e=e.return;_e=null}}function Xi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,ov(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),gn=0,$r(),Pe=e,_e=l=nn(e.current,null),Ne=n,ke=0,Nt=null,kn=!1,Fi=go(e,n),qr=!1,Ji=Rt=Yr=pi=Ln=Fe=0,yt=$o=null,Fr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var f=31-Et(s),h=1<<f;n|=e[f],s&=~h}return hn=n,Ll(),l}function fp(e,n){Te=null,k.H=Bo,n===Gi||n===ql?(n=Nd(),ke=3):n===Ws?(n=Nd(),ke=4):ke=n===Nr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nt=n,_e===null&&(Fe=1,ia(e,Dt(n,e.current)))}function pp(){var e=Ct.current;return e===null?!0:(Ne&4194048)===Ne?Gt===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Gt:!1}function mp(){var e=k.H;return k.H=Bo,e===null?Bo:e}function hp(){var e=k.A;return k.A=Oy,e}function ha(){Fe=4,kn||(Ne&4194048)!==Ne&&Ct.current!==null||(Fi=!0),(Ln&134217727)===0&&(pi&134217727)===0||Pe===null||Hn(Pe,Ne,Rt,!1)}function Qr(e,n,l){var s=De;De|=2;var f=mp(),h=hp();(Pe!==e||Ne!==n)&&(pa=null,Xi(e,n)),n=!1;var T=Fe;e:do try{if(ke!==0&&_e!==null){var b=_e,R=Nt;switch(ke){case 8:$r(),T=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(n=!0);var G=ke;if(ke=0,Nt=null,$i(e,b,R,G),l&&Fi){T=0;break e}break;default:G=ke,ke=0,Nt=null,$i(e,b,R,G)}}Py(),T=Fe;break}catch(K){fp(e,K)}while(!0);return n&&e.shellSuspendCounter++,ln=oi=null,De=s,k.H=f,k.A=h,_e===null&&(Pe=null,Ne=0,Ll()),T}function Py(){for(;_e!==null;)gp(_e)}function Vy(e,n){var l=De;De|=2;var s=mp(),f=hp();Pe!==e||Ne!==n?(pa=null,fa=Tt()+500,Xi(e,n)):Fi=go(e,n);e:do try{if(ke!==0&&_e!==null){n=_e;var h=Nt;t:switch(ke){case 1:ke=0,Nt=null,$i(e,n,h,1);break;case 2:case 9:if(Cd(h)){ke=0,Nt=null,yp(n);break}n=function(){ke!==2&&ke!==9||Pe!==e||(ke=7),jt(e)},h.then(n,n);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:Cd(h)?(ke=0,Nt=null,yp(n)):(ke=0,Nt=null,$i(e,n,h,7));break;case 5:var T=null;switch(_e.tag){case 26:T=_e.memoizedState;case 5:case 27:var b=_e;if(T?nm(T):b.stateNode.complete){ke=0,Nt=null;var R=b.sibling;if(R!==null)_e=R;else{var G=b.return;G!==null?(_e=G,ga(G)):_e=null}break t}}ke=0,Nt=null,$i(e,n,h,5);break;case 6:ke=0,Nt=null,$i(e,n,h,6);break;case 8:$r(),Fe=6;break e;default:throw Error(a(462))}}By();break}catch(K){fp(e,K)}while(!0);return ln=oi=null,k.H=s,k.A=f,De=l,_e!==null?0:(Pe=null,Ne=0,Ll(),Fe)}function By(){for(;_e!==null&&!c0();)gp(_e)}function gp(e){var n=Vf(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?ga(e):_e=n}function yp(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=kf(l,n,n.pendingProps,n.type,void 0,Ne);break;case 11:n=kf(l,n,n.pendingProps,n.type.render,n.ref,Ne);break;case 5:dr(n);default:zf(l,n),n=_e=md(n,hn),n=Vf(l,n,hn)}e.memoizedProps=e.pendingProps,n===null?ga(e):_e=n}function $i(e,n,l,s){ln=oi=null,dr(n),Hi=null,Do=0;var f=n.return;try{if(wy(e,f,n,l,Ne)){Fe=1,ia(e,Dt(l,e.current)),_e=null;return}}catch(h){if(f!==null)throw _e=f,h;Fe=1,ia(e,Dt(l,e.current)),_e=null;return}n.flags&32768?(we||s===1?e=!0:Fi||(Ne&536870912)!==0?e=!1:(kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ct.current,s!==null&&s.tag===13&&(s.flags|=16384))),vp(n,e)):ga(n)}function ga(e){var n=e;do{if((n.flags&32768)!==0){vp(n,kn);return}e=n.return;var l=Uy(n.alternate,n,hn);if(l!==null){_e=l;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=e}while(n!==null);Fe===0&&(Fe=5)}function vp(e,n){do{var l=Dy(e.alternate,e);if(l!==null){l.flags&=32767,_e=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){_e=e;return}_e=e=l}while(e!==null);Fe=6,_e=null}function xp(e,n,l,s,f,h,T,b,R){e.cancelPendingCommit=null;do ya();while(je!==0);if((De&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Hs,T0(e,l,h,T,b,R),e===Pe&&(_e=Pe=null,Ne=0),Ki=n,Gn=e,gn=l,Jr=h,Kr=f,rp=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Fy(xl,function(){return _p(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,f=W.p,W.p=2,T=De,De|=4;try{ky(e,n,l)}finally{De=T,W.p=f,k.T=s}}je=1,Tp(),Sp(),Ep()}}function Tp(){if(je===1){je=0;var e=Gn,n=Ki,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var s=W.p;W.p=2;var f=De;De|=4;try{ep(n,e);var h=ru,T=ld(e.containerInfo),b=h.focusedElem,R=h.selectionRange;if(T!==b&&b&&b.ownerDocument&&od(b.ownerDocument.documentElement,b)){if(R!==null&&Ds(b)){var G=R.start,K=R.end;if(K===void 0&&(K=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(K,b.value.length);else{var $=b.ownerDocument||document,V=$&&$.defaultView||window;if(V.getSelection){var q=V.getSelection(),re=b.textContent.length,he=Math.min(R.start,re),He=R.end===void 0?he:Math.min(R.end,re);!q.extend&&he>He&&(T=He,He=he,he=T);var D=id(b,he),w=id(b,He);if(D&&w&&(q.rangeCount!==1||q.anchorNode!==D.node||q.anchorOffset!==D.offset||q.focusNode!==w.node||q.focusOffset!==w.offset)){var O=$.createRange();O.setStart(D.node,D.offset),q.removeAllRanges(),he>He?(q.addRange(O),q.extend(w.node,w.offset)):(O.setEnd(w.node,w.offset),q.addRange(O))}}}}for($=[],q=b;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var X=$[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}wa=!!su,ru=su=null}finally{De=f,W.p=s,k.T=l}}e.current=n,je=2}}function Sp(){if(je===2){je=0;var e=Gn,n=Ki,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var s=W.p;W.p=2;var f=De;De|=4;try{$f(e,n.alternate,n)}finally{De=f,W.p=s,k.T=l}}je=3}}function Ep(){if(je===4||je===3){je=0,d0();var e=Gn,n=Ki,l=gn,s=rp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,Ki=Gn=null,bp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(On=null),ms(l),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ho,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,f=W.p,W.p=2,k.T=null;try{for(var h=e.onRecoverableError,T=0;T<s.length;T++){var b=s[T];h(b.value,{componentStack:b.stack})}}finally{k.T=n,W.p=f}}(gn&3)!==0&&ya(),jt(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Xr?Qo++:(Qo=0,Xr=e):Qo=0,Zo(0)}}function bp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Io(n)))}function ya(){return Tp(),Sp(),Ep(),_p()}function _p(){if(je!==5)return!1;var e=Gn,n=Jr;Jr=0;var l=ms(gn),s=k.T,f=W.p;try{W.p=32>l?32:l,k.T=null,l=Kr,Kr=null;var h=Gn,T=gn;if(je=0,Ki=Gn=null,gn=0,(De&6)!==0)throw Error(a(331));var b=De;if(De|=4,lp(h.current),np(h,h.current,T,l),De=b,Zo(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ho,h)}catch{}return!0}finally{W.p=f,k.T=s,bp(e,n)}}function Cp(e,n,l){n=Dt(l,n),n=Ar(e.stateNode,n,2),e=Mn(e,n,2),e!==null&&(yo(e,2),jt(e))}function Le(e,n,l){if(e.tag===3)Cp(e,e,l);else for(;n!==null;){if(n.tag===3){Cp(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(On===null||!On.has(s))){e=Dt(l,e),l=Af(2),s=Mn(n,l,2),s!==null&&(Nf(l,s,n,e),yo(s,2),jt(s));break}}n=n.return}}function Zr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Gy;var f=new Set;s.set(n,f)}else f=s.get(n),f===void 0&&(f=new Set,s.set(n,f));f.has(l)||(qr=!0,f.add(l),e=zy.bind(null,e,n,l),n.then(e,e))}function zy(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Pe===e&&(Ne&l)===l&&(Fe===4||Fe===3&&(Ne&62914560)===Ne&&300>Tt()-da?(De&2)===0&&Xi(e,0):Yr|=l,Ji===Ne&&(Ji=0)),jt(e)}function Ap(e,n){n===0&&(n=xc()),e=ti(e,n),e!==null&&(yo(e,n),jt(e))}function qy(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),Ap(e,l)}function Yy(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Ap(e,l)}function Fy(e,n){return cs(e,n)}var va=null,Qi=null,jr=!1,xa=!1,Wr=!1,Pn=0;function jt(e){e!==Qi&&e.next===null&&(Qi===null?va=Qi=e:Qi=Qi.next=e),xa=!0,jr||(jr=!0,Ky())}function Zo(e,n){if(!Wr&&xa){Wr=!0;do for(var l=!1,s=va;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var h=0;else{var T=s.suspendedLanes,b=s.pingedLanes;h=(1<<31-Et(42|e)+1)-1,h&=f&~(T&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(l=!0,Mp(s,h))}else h=Ne,h=bl(s,s===Pe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(h&3)===0||go(s,h)||(l=!0,Mp(s,h));s=s.next}while(l);Wr=!1}}function Jy(){Np()}function Np(){xa=jr=!1;var e=0;Pn!==0&&iv()&&(e=Pn);for(var n=Tt(),l=null,s=va;s!==null;){var f=s.next,h=Rp(s,n);h===0?(s.next=null,l===null?va=f:l.next=f,f===null&&(Qi=l)):(l=s,(e!==0||(h&3)!==0)&&(xa=!0)),s=f}je!==0&&je!==5||Zo(e),Pn!==0&&(Pn=0)}function Rp(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var T=31-Et(h),b=1<<T,R=f[T];R===-1?((b&l)===0||(b&s)!==0)&&(f[T]=x0(b,n)):R<=n&&(e.expiredLanes|=b),h&=~b}if(n=Pe,l=Ne,l=bl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(ke===2||ke===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ds(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||go(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&ds(s),ms(l)){case 2:case 8:l=yc;break;case 32:l=xl;break;case 268435456:l=vc;break;default:l=xl}return s=wp.bind(null,e),l=cs(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&ds(s),e.callbackPriority=2,e.callbackNode=null,2}function wp(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(ya()&&e.callbackNode!==l)return null;var s=Ne;return s=bl(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(cp(e,s,n),Rp(e,Tt()),e.callbackNode!=null&&e.callbackNode===l?wp.bind(null,e):null)}function Mp(e,n){if(ya())return null;cp(e,n,!0)}function Ky(){lv(function(){(De&6)!==0?cs(gc,Jy):Np()})}function eu(){if(Pn===0){var e=Li;e===0&&(e=Tl,Tl<<=1,(Tl&261888)===0&&(Tl=256)),Pn=e}return Pn}function Ip(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Nl(""+e)}function Up(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function Xy(e,n,l,s,f){if(n==="submit"&&l&&l.stateNode===f){var h=Ip((f[ft]||null).action),T=s.submitter;T&&(n=(n=T[ft]||null)?Ip(n.formAction):T.getAttribute("formAction"),n!==null&&(h=n,T=null));var b=new Il("action","action",null,s,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var R=T?Up(f,T):new FormData(f);Tr(l,{pending:!0,data:R,method:f.method,action:h},null,R)}}else typeof h=="function"&&(b.preventDefault(),R=T?Up(f,T):new FormData(f),Tr(l,{pending:!0,data:R,method:f.method,action:h},h,R))},currentTarget:f}]})}}for(var tu=0;tu<Gs.length;tu++){var nu=Gs[tu],$y=nu.toLowerCase(),Qy=nu[0].toUpperCase()+nu.slice(1);zt($y,"on"+Qy)}zt(rd,"onAnimationEnd"),zt(ud,"onAnimationIteration"),zt(cd,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(fy,"onTransitionRun"),zt(py,"onTransitionStart"),zt(my,"onTransitionCancel"),zt(dd,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jo));function Dp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var h=void 0;if(n)for(var T=s.length-1;0<=T;T--){var b=s[T],R=b.instance,G=b.currentTarget;if(b=b.listener,R!==h&&f.isPropagationStopped())break e;h=b,f.currentTarget=G;try{h(f)}catch(K){kl(K)}f.currentTarget=null,h=R}else for(T=0;T<s.length;T++){if(b=s[T],R=b.instance,G=b.currentTarget,b=b.listener,R!==h&&f.isPropagationStopped())break e;h=b,f.currentTarget=G;try{h(f)}catch(K){kl(K)}f.currentTarget=null,h=R}}}}function Ce(e,n){var l=n[hs];l===void 0&&(l=n[hs]=new Set);var s=e+"__bubble";l.has(s)||(kp(n,e,2,!1),l.add(s))}function iu(e,n,l){var s=0;n&&(s|=4),kp(l,e,s,n)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[Ta]){e[Ta]=!0,Ac.forEach(function(l){l!=="selectionchange"&&(Zy.has(l)||iu(l,!1,e),iu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ta]||(n[Ta]=!0,iu("selectionchange",!1,n))}}function kp(e,n,l,s){switch(um(n)){case 2:var f=Cv;break;case 8:f=Av;break;default:f=xu}l=f.bind(null,n,l,e),f=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(n,l,{capture:!0,passive:f}):e.addEventListener(n,l,!0):f!==void 0?e.addEventListener(n,l,{passive:f}):e.addEventListener(n,l,!1)}function lu(e,n,l,s,f){var h=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var b=s.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=s.return;T!==null;){var R=T.tag;if((R===3||R===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=vi(b),T===null)return;if(R=T.tag,R===5||R===6||R===26||R===27){s=h=T;continue e}b=b.parentNode}}s=s.return}Hc(function(){var G=h,K=Es(l),$=[];e:{var V=fd.get(e);if(V!==void 0){var q=Il,re=e;switch(e){case"keypress":if(wl(l)===0)break e;case"keydown":case"keyup":q=Y0;break;case"focusin":re="focus",q=Rs;break;case"focusout":re="blur",q=Rs;break;case"beforeblur":case"afterblur":q=Rs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=U0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=K0;break;case rd:case ud:case cd:q=L0;break;case dd:q=$0;break;case"scroll":case"scrollend":q=M0;break;case"wheel":q=Z0;break;case"copy":case"cut":case"paste":q=G0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qc;break;case"toggle":case"beforetoggle":q=W0}var he=(n&4)!==0,He=!he&&(e==="scroll"||e==="scrollend"),D=he?V!==null?V+"Capture":null:V;he=[];for(var w=G,O;w!==null;){var X=w;if(O=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||O===null||D===null||(X=To(w,D),X!=null&&he.push(Wo(w,X,O))),He)break;w=w.return}0<he.length&&(V=new q(V,re,null,l,K),$.push({event:V,listeners:he}))}}if((n&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",V&&l!==Ss&&(re=l.relatedTarget||l.fromElement)&&(vi(re)||re[yi]))break e;if((q||V)&&(V=K.window===K?K:(V=K.ownerDocument)?V.defaultView||V.parentWindow:window,q?(re=l.relatedTarget||l.toElement,q=G,re=re?vi(re):null,re!==null&&(He=c(re),he=re.tag,re!==He||he!==5&&he!==27&&he!==6)&&(re=null)):(q=null,re=G),q!==re)){if(he=Bc,X="onMouseLeave",D="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(he=qc,X="onPointerLeave",D="onPointerEnter",w="pointer"),He=q==null?V:xo(q),O=re==null?V:xo(re),V=new he(X,w+"leave",q,l,K),V.target=He,V.relatedTarget=O,X=null,vi(K)===G&&(he=new he(D,w+"enter",re,l,K),he.target=O,he.relatedTarget=He,X=he),He=X,q&&re)t:{for(he=jy,D=q,w=re,O=0,X=D;X;X=he(X))O++;X=0;for(var me=w;me;me=he(me))X++;for(;0<O-X;)D=he(D),O--;for(;0<X-O;)w=he(w),X--;for(;O--;){if(D===w||w!==null&&D===w.alternate){he=D;break t}D=he(D),w=he(w)}he=null}else he=null;q!==null&&Lp($,V,q,he,!1),re!==null&&He!==null&&Lp($,He,re,he,!0)}}e:{if(V=G?xo(G):window,q=V.nodeName&&V.nodeName.toLowerCase(),q==="select"||q==="input"&&V.type==="file")var Me=Zc;else if($c(V))if(jc)Me=uy;else{Me=sy;var de=ay}else q=V.nodeName,!q||q.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?G&&Ts(G.elementType)&&(Me=Zc):Me=ry;if(Me&&(Me=Me(e,G))){Qc($,Me,l,K);break e}de&&de(e,V,G),e==="focusout"&&G&&V.type==="number"&&G.memoizedProps.value!=null&&xs(V,"number",V.value)}switch(de=G?xo(G):window,e){case"focusin":($c(de)||de.contentEditable==="true")&&(Ni=de,ks=G,Ro=null);break;case"focusout":Ro=ks=Ni=null;break;case"mousedown":Ls=!0;break;case"contextmenu":case"mouseup":case"dragend":Ls=!1,ad($,l,K);break;case"selectionchange":if(dy)break;case"keydown":case"keyup":ad($,l,K)}var Ee;if(Ms)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Ai?Kc(e,l)&&(Re="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(Yc&&l.locale!=="ko"&&(Ai||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Ai&&(Ee=Pc()):(bn=K,Cs="value"in bn?bn.value:bn.textContent,Ai=!0)),de=Sa(G,Re),0<de.length&&(Re=new zc(Re,e,null,l,K),$.push({event:Re,listeners:de}),Ee?Re.data=Ee:(Ee=Xc(l),Ee!==null&&(Re.data=Ee)))),(Ee=ty?ny(e,l):iy(e,l))&&(Re=Sa(G,"onBeforeInput"),0<Re.length&&(de=new zc("onBeforeInput","beforeinput",null,l,K),$.push({event:de,listeners:Re}),de.data=Ee)),Xy($,e,G,l,K)}Dp($,n)})}function Wo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function Sa(e,n){for(var l=n+"Capture",s=[];e!==null;){var f=e,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=To(e,l),f!=null&&s.unshift(Wo(e,f,h)),f=To(e,n),f!=null&&s.push(Wo(e,f,h))),e.tag===3)return s;e=e.return}return[]}function jy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Lp(e,n,l,s,f){for(var h=n._reactName,T=[];l!==null&&l!==s;){var b=l,R=b.alternate,G=b.stateNode;if(b=b.tag,R!==null&&R===s)break;b!==5&&b!==26&&b!==27||G===null||(R=G,f?(G=To(l,h),G!=null&&T.unshift(Wo(l,G,R))):f||(G=To(l,h),G!=null&&T.push(Wo(l,G,R)))),l=l.return}T.length!==0&&e.push({event:n,listeners:T})}var Wy=/\r\n?/g,ev=/\u0000|\uFFFD/g;function Op(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(ev,"")}function Gp(e,n){return n=Op(n),Op(e)===n}function Ge(e,n,l,s,f,h){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||bi(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&bi(e,""+s);break;case"className":Cl(e,"class",s);break;case"tabIndex":Cl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Cl(e,l,s);break;case"style":Oc(e,s,h);break;case"data":if(n!=="object"){Cl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Nl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(l==="formAction"?(n!=="input"&&Ge(e,n,"name",f.name,f,null),Ge(e,n,"formEncType",f.formEncType,f,null),Ge(e,n,"formMethod",f.formMethod,f,null),Ge(e,n,"formTarget",f.formTarget,f,null)):(Ge(e,n,"encType",f.encType,f,null),Ge(e,n,"method",f.method,f,null),Ge(e,n,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Nl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=en);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Nl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),_l(e,"popover",s);break;case"xlinkActuate":Wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Wt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Wt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Wt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Wt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":_l(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=R0.get(l)||l,_l(e,l,s))}}function au(e,n,l,s,f,h){switch(l){case"style":Oc(e,s,h);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?bi(e,s):(typeof s=="number"||typeof s=="bigint")&&bi(e,""+s);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Nc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),n=l.slice(2,f?l.length-7:void 0),h=e[ft]||null,h=h!=null?h[l]:null,typeof h=="function"&&e.removeEventListener(n,h,f),typeof s=="function")){typeof h!="function"&&h!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):_l(e,l,s)}}}function at(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var s=!1,f=!1,h;for(h in l)if(l.hasOwnProperty(h)){var T=l[h];if(T!=null)switch(h){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,h,T,l,null)}}f&&Ge(e,n,"srcSet",l.srcSet,l,null),s&&Ge(e,n,"src",l.src,l,null);return;case"input":Ce("invalid",e);var b=h=T=f=null,R=null,G=null;for(s in l)if(l.hasOwnProperty(s)){var K=l[s];if(K!=null)switch(s){case"name":f=K;break;case"type":T=K;break;case"checked":R=K;break;case"defaultChecked":G=K;break;case"value":h=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:Ge(e,n,s,K,l,null)}}Uc(e,h,b,R,G,T,f,!1);return;case"select":Ce("invalid",e),s=T=h=null;for(f in l)if(l.hasOwnProperty(f)&&(b=l[f],b!=null))switch(f){case"value":h=b;break;case"defaultValue":T=b;break;case"multiple":s=b;default:Ge(e,n,f,b,l,null)}n=h,l=T,e.multiple=!!s,n!=null?Ei(e,!!s,n,!1):l!=null&&Ei(e,!!s,l,!0);return;case"textarea":Ce("invalid",e),h=f=s=null;for(T in l)if(l.hasOwnProperty(T)&&(b=l[T],b!=null))switch(T){case"value":s=b;break;case"defaultValue":f=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:Ge(e,n,T,b,l,null)}kc(e,s,f,h);return;case"option":for(R in l)if(l.hasOwnProperty(R)&&(s=l[R],s!=null))switch(R){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ge(e,n,R,s,l,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(s=0;s<jo.length;s++)Ce(jo[s],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(s=l[G],s!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ge(e,n,G,s,l,null)}return;default:if(Ts(n)){for(K in l)l.hasOwnProperty(K)&&(s=l[K],s!==void 0&&au(e,n,K,s,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(s=l[b],s!=null&&Ge(e,n,b,s,l,null))}function tv(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,T=null,b=null,R=null,G=null,K=null;for(q in l){var $=l[q];if(l.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=$;default:s.hasOwnProperty(q)||Ge(e,n,q,null,s,$)}}for(var V in s){var q=s[V];if($=l[V],s.hasOwnProperty(V)&&(q!=null||$!=null))switch(V){case"type":h=q;break;case"name":f=q;break;case"checked":G=q;break;case"defaultChecked":K=q;break;case"value":T=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&Ge(e,n,V,q,s,$)}}vs(e,T,b,R,G,K,h,f);return;case"select":q=T=b=V=null;for(h in l)if(R=l[h],l.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":q=R;default:s.hasOwnProperty(h)||Ge(e,n,h,null,s,R)}for(f in s)if(h=s[f],R=l[f],s.hasOwnProperty(f)&&(h!=null||R!=null))switch(f){case"value":V=h;break;case"defaultValue":b=h;break;case"multiple":T=h;default:h!==R&&Ge(e,n,f,h,s,R)}n=b,l=T,s=q,V!=null?Ei(e,!!l,V,!1):!!s!=!!l&&(n!=null?Ei(e,!!l,n,!0):Ei(e,!!l,l?[]:"",!1));return;case"textarea":q=V=null;for(b in l)if(f=l[b],l.hasOwnProperty(b)&&f!=null&&!s.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ge(e,n,b,null,s,f)}for(T in s)if(f=s[T],h=l[T],s.hasOwnProperty(T)&&(f!=null||h!=null))switch(T){case"value":V=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==h&&Ge(e,n,T,f,s,h)}Dc(e,V,q);return;case"option":for(var re in l)if(V=l[re],l.hasOwnProperty(re)&&V!=null&&!s.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ge(e,n,re,null,s,V)}for(R in s)if(V=s[R],q=l[R],s.hasOwnProperty(R)&&V!==q&&(V!=null||q!=null))switch(R){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:Ge(e,n,R,V,s,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in l)V=l[he],l.hasOwnProperty(he)&&V!=null&&!s.hasOwnProperty(he)&&Ge(e,n,he,null,s,V);for(G in s)if(V=s[G],q=l[G],s.hasOwnProperty(G)&&V!==q&&(V!=null||q!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Ge(e,n,G,V,s,q)}return;default:if(Ts(n)){for(var He in l)V=l[He],l.hasOwnProperty(He)&&V!==void 0&&!s.hasOwnProperty(He)&&au(e,n,He,void 0,s,V);for(K in s)V=s[K],q=l[K],!s.hasOwnProperty(K)||V===q||V===void 0&&q===void 0||au(e,n,K,V,s,q);return}}for(var D in l)V=l[D],l.hasOwnProperty(D)&&V!=null&&!s.hasOwnProperty(D)&&Ge(e,n,D,null,s,V);for($ in s)V=s[$],q=l[$],!s.hasOwnProperty($)||V===q||V==null&&q==null||Ge(e,n,$,V,s,q)}function Hp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],h=f.transferSize,T=f.initiatorType,b=f.duration;if(h&&b&&Hp(T)){for(T=0,b=f.responseEnd,s+=1;s<l.length;s++){var R=l[s],G=R.startTime;if(G>b)break;var K=R.transferSize,$=R.initiatorType;K&&Hp($)&&(R=R.responseEnd,T+=K*(R<b?1:(b-G)/(R-G)))}if(--s,n+=8*(h+T)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var su=null,ru=null;function Ea(e){return e.nodeType===9?e:e.ownerDocument}function Pp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function uu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cu=null;function iv(){var e=window.event;return e&&e.type==="popstate"?e===cu?!1:(cu=e,!0):(cu=null,!1)}var Bp=typeof setTimeout=="function"?setTimeout:void 0,ov=typeof clearTimeout=="function"?clearTimeout:void 0,zp=typeof Promise=="function"?Promise:void 0,lv=typeof queueMicrotask=="function"?queueMicrotask:typeof zp<"u"?function(e){return zp.resolve(null).then(e).catch(av)}:Bp;function av(e){setTimeout(function(){throw e})}function Vn(e){return e==="head"}function qp(e,n){var l=n,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),eo(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")el(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,el(l);for(var h=l.firstChild;h;){var T=h.nextSibling,b=h.nodeName;h[vo]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||l.removeChild(h),h=T}}else l==="body"&&el(e.ownerDocument.body);l=f}while(l);eo(n)}function Yp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function du(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":du(l),gs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function sv(e,n,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[vo])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=Ht(e.nextSibling),e===null)break}return null}function rv(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ht(e.nextSibling),e===null))return null;return e}function Fp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ht(e.nextSibling),e===null))return null;return e}function fu(e){return e.data==="$?"||e.data==="$~"}function pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uv(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ht(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var mu=null;function Jp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return Ht(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Kp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Xp(e,n,l){switch(n=Ea(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function el(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);gs(e)}var Pt=new Map,$p=new Set;function ba(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=W.d;W.d={f:cv,r:dv,D:fv,C:pv,L:mv,m:hv,X:yv,S:gv,M:vv};function cv(){var e=yn.f(),n=ma();return e||n}function dv(e){var n=xi(e);n!==null&&n.tag===5&&n.type==="form"?ff(n):yn.r(e)}var Zi=typeof document>"u"?null:document;function Qp(e,n,l){var s=Zi;if(s&&typeof n=="string"&&n){var f=It(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),$p.has(f)||($p.add(f),e={rel:e,crossOrigin:l,href:n},s.querySelector(f)===null&&(n=s.createElement("link"),at(n,"link",e),We(n),s.head.appendChild(n)))}}function fv(e){yn.D(e),Qp("dns-prefetch",e,null)}function pv(e,n){yn.C(e,n),Qp("preconnect",e,n)}function mv(e,n,l){yn.L(e,n,l);var s=Zi;if(s&&e&&n){var f='link[rel="preload"][as="'+It(n)+'"]';n==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+It(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+It(l.imageSizes)+'"]')):f+='[href="'+It(e)+'"]';var h=f;switch(n){case"style":h=ji(e);break;case"script":h=Wi(e)}Pt.has(h)||(e=S({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),Pt.set(h,e),s.querySelector(f)!==null||n==="style"&&s.querySelector(tl(h))||n==="script"&&s.querySelector(nl(h))||(n=s.createElement("link"),at(n,"link",e),We(n),s.head.appendChild(n)))}}function hv(e,n){yn.m(e,n);var l=Zi;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+It(s)+'"][href="'+It(e)+'"]',h=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Wi(e)}if(!Pt.has(h)&&(e=S({rel:"modulepreload",href:e},n),Pt.set(h,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(nl(h)))return}s=l.createElement("link"),at(s,"link",e),We(s),l.head.appendChild(s)}}}function gv(e,n,l){yn.S(e,n,l);var s=Zi;if(s&&e){var f=Ti(s).hoistableStyles,h=ji(e);n=n||"default";var T=f.get(h);if(!T){var b={loading:0,preload:null};if(T=s.querySelector(tl(h)))b.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},l),(l=Pt.get(h))&&hu(e,l);var R=T=s.createElement("link");We(R),at(R,"link",e),R._p=new Promise(function(G,K){R.onload=G,R.onerror=K}),R.addEventListener("load",function(){b.loading|=1}),R.addEventListener("error",function(){b.loading|=2}),b.loading|=4,_a(T,n,s)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(h,T)}}}function yv(e,n){yn.X(e,n);var l=Zi;if(l&&e){var s=Ti(l).hoistableScripts,f=Wi(e),h=s.get(f);h||(h=l.querySelector(nl(f)),h||(e=S({src:e,async:!0},n),(n=Pt.get(f))&&gu(e,n),h=l.createElement("script"),We(h),at(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function vv(e,n){yn.M(e,n);var l=Zi;if(l&&e){var s=Ti(l).hoistableScripts,f=Wi(e),h=s.get(f);h||(h=l.querySelector(nl(f)),h||(e=S({src:e,async:!0,type:"module"},n),(n=Pt.get(f))&&gu(e,n),h=l.createElement("script"),We(h),at(h,"link",e),l.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},s.set(f,h))}}function Zp(e,n,l,s){var f=(f=ne.current)?ba(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ji(l.href),l=Ti(f).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ji(l.href);var h=Ti(f).hoistableStyles,T=h.get(e);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,T),(h=f.querySelector(tl(e)))&&!h._p&&(T.instance=h,T.state.loading=5),Pt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Pt.set(e,l),h||xv(f,e,l,T.state))),n&&s===null)throw Error(a(528,""));return T}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Wi(l),l=Ti(f).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ji(e){return'href="'+It(e)+'"'}function tl(e){return'link[rel="stylesheet"]['+e+"]"}function jp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function xv(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),at(n,"link",l),We(n),e.head.appendChild(n))}function Wi(e){return'[src="'+It(e)+'"]'}function nl(e){return"script[async]"+e}function Wp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+It(l.href)+'"]');if(s)return n.instance=s,We(s),s;var f=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),at(s,"style",f),_a(s,l.precedence,e),n.instance=s;case"stylesheet":f=ji(l.href);var h=e.querySelector(tl(f));if(h)return n.state.loading|=4,n.instance=h,We(h),h;s=jp(l),(f=Pt.get(f))&&hu(s,f),h=(e.ownerDocument||e).createElement("link"),We(h);var T=h;return T._p=new Promise(function(b,R){T.onload=b,T.onerror=R}),at(h,"link",s),n.state.loading|=4,_a(h,l.precedence,e),n.instance=h;case"script":return h=Wi(l.src),(f=e.querySelector(nl(h)))?(n.instance=f,We(f),f):(s=l,(f=Pt.get(h))&&(s=S({},l),gu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),We(f),at(f,"link",s),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,_a(s,l.precedence,e));return n.instance}function _a(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,h=f,T=0;T<s.length;T++){var b=s[T];if(b.dataset.precedence===n)h=b;else if(h!==f)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function hu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ca=null;function em(e,n,l){if(Ca===null){var s=new Map,f=Ca=new Map;f.set(l,s)}else f=Ca,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var h=l[f];if(!(h[vo]||h[nt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var T=h.getAttribute(n)||"";T=e+T;var b=s.get(T);b?b.push(h):s.set(T,[h])}}return s}function tm(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Tv(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function nm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Sv(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=ji(s.href),h=n.querySelector(tl(f));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Aa.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=h,We(h);return}h=n.ownerDocument||n,s=jp(s),(f=Pt.get(f))&&hu(s,f),h=h.createElement("link"),We(h);var T=h;T._p=new Promise(function(b,R){T.onload=b,T.onerror=R}),at(h,"link",s),l.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Aa.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var yu=0;function Ev(e,n){return e.stylesheets&&e.count===0&&Ra(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ra(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&yu===0&&(yu=62500*nv());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ra(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>yu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ra(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Na=null;function Ra(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Na=new Map,n.forEach(bv,e),Na=null,Aa.call(e))}function bv(e,n){if(!(n.state.loading&4)){var l=Na.get(e);if(l)var s=l.get(null);else{l=new Map,Na.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var T=f[h];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),s=T)}s&&l.set(null,s)}f=n.instance,T=f.getAttribute("data-precedence"),h=l.get(T)||s,h===s&&l.set(null,f),l.set(T,f),this.count++,s=Aa.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),h?h.parentNode.insertBefore(f,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var il={$$typeof:J,Provider:null,Consumer:null,_currentValue:P,_currentValue2:P,_threadCount:0};function _v(e,n,l,s,f,h,T,b,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function im(e,n,l,s,f,h,T,b,R,G,K,$){return e=new _v(e,n,l,T,R,G,K,$,b),n=1,h===!0&&(n|=24),h=_t(3,null,null,n),e.current=h,h.stateNode=e,n=Qs(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:s,isDehydrated:l,cache:n},er(h),e}function om(e){return e?(e=Mi,e):Mi}function lm(e,n,l,s,f,h){f=om(f),s.context===null?s.context=f:s.pendingContext=f,s=wn(n),s.payload={element:l},h=h===void 0?null:h,h!==null&&(s.callback=h),l=Mn(e,s,n),l!==null&&(vt(l,e,n),Lo(l,e,n))}function am(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function vu(e,n){am(e,n),(e=e.alternate)&&am(e,n)}function sm(e){if(e.tag===13||e.tag===31){var n=ti(e,67108864);n!==null&&vt(n,e,67108864),vu(e,67108864)}}function rm(e){if(e.tag===13||e.tag===31){var n=wt();n=ps(n);var l=ti(e,n);l!==null&&vt(l,e,n),vu(e,n)}}var wa=!0;function Cv(e,n,l,s){var f=k.T;k.T=null;var h=W.p;try{W.p=2,xu(e,n,l,s)}finally{W.p=h,k.T=f}}function Av(e,n,l,s){var f=k.T;k.T=null;var h=W.p;try{W.p=8,xu(e,n,l,s)}finally{W.p=h,k.T=f}}function xu(e,n,l,s){if(wa){var f=Tu(s);if(f===null)lu(e,n,s,Ma,l),cm(e,s);else if(Rv(f,e,n,l,s))s.stopPropagation();else if(cm(e,s),n&4&&-1<Nv.indexOf(e)){for(;f!==null;){var h=xi(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var T=Qn(h.pendingLanes);if(T!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var R=1<<31-Et(T);b.entanglements[1]|=R,T&=~R}jt(h),(De&6)===0&&(fa=Tt()+500,Zo(0))}}break;case 31:case 13:b=ti(h,2),b!==null&&vt(b,h,2),ma(),vu(h,2)}if(h=Tu(s),h===null&&lu(e,n,s,Ma,l),h===f)break;f=h}f!==null&&s.stopPropagation()}else lu(e,n,s,null,l)}}function Tu(e){return e=Es(e),Su(e)}var Ma=null;function Su(e){if(Ma=null,e=vi(e),e!==null){var n=c(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=g(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ma=e,null}function um(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(f0()){case gc:return 2;case yc:return 8;case xl:case p0:return 32;case vc:return 268435456;default:return 32}default:return 32}}var Eu=!1,Bn=null,zn=null,qn=null,ol=new Map,ll=new Map,Yn=[],Nv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cm(e,n){switch(e){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":ol.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(n.pointerId)}}function al(e,n,l,s,f,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:h,targetContainers:[f]},n!==null&&(n=xi(n),n!==null&&sm(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Rv(e,n,l,s,f){switch(n){case"focusin":return Bn=al(Bn,e,n,l,s,f),!0;case"dragenter":return zn=al(zn,e,n,l,s,f),!0;case"mouseover":return qn=al(qn,e,n,l,s,f),!0;case"pointerover":var h=f.pointerId;return ol.set(h,al(ol.get(h)||null,e,n,l,s,f)),!0;case"gotpointercapture":return h=f.pointerId,ll.set(h,al(ll.get(h)||null,e,n,l,s,f)),!0}return!1}function dm(e){var n=vi(e.target);if(n!==null){var l=c(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,_c(e.priority,function(){rm(l)});return}}else if(n===31){if(n=g(l),n!==null){e.blockedOn=n,_c(e.priority,function(){rm(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ia(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Tu(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Ss=s,l.target.dispatchEvent(s),Ss=null}else return n=xi(l),n!==null&&sm(n),e.blockedOn=l,!1;n.shift()}return!0}function fm(e,n,l){Ia(e)&&l.delete(n)}function wv(){Eu=!1,Bn!==null&&Ia(Bn)&&(Bn=null),zn!==null&&Ia(zn)&&(zn=null),qn!==null&&Ia(qn)&&(qn=null),ol.forEach(fm),ll.forEach(fm)}function Ua(e,n){e.blockedOn===n&&(e.blockedOn=null,Eu||(Eu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wv)))}var Da=null;function pm(e){Da!==e&&(Da=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Da===e&&(Da=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],f=e[n+2];if(typeof s!="function"){if(Su(s||l)===null)continue;break}var h=xi(l);h!==null&&(e.splice(n,3),n-=3,Tr(h,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function eo(e){function n(R){return Ua(R,e)}Bn!==null&&Ua(Bn,e),zn!==null&&Ua(zn,e),qn!==null&&Ua(qn,e),ol.forEach(n),ll.forEach(n);for(var l=0;l<Yn.length;l++){var s=Yn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Yn.length&&(l=Yn[0],l.blockedOn===null);)dm(l),l.blockedOn===null&&Yn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],h=l[s+1],T=f[ft]||null;if(typeof h=="function")T||pm(l);else if(T){var b=null;if(h&&h.hasAttribute("formAction")){if(f=h,T=h[ft]||null)b=T.formAction;else if(Su(f)!==null)continue}else b=T.action;typeof b=="function"?l[s+1]=b:(l.splice(s,3),s-=3),pm(l)}}}function mm(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(T){return f=T})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function bu(e){this._internalRoot=e}ka.prototype.render=bu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=wt();lm(l,s,e,n,null,null)},ka.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;lm(e.current,2,null,e,null,null),ma(),n[yi]=null}};function ka(e){this._internalRoot=e}ka.prototype.unstable_scheduleHydration=function(e){if(e){var n=bc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Yn.length&&n!==0&&n<Yn[l].priority;l++);Yn.splice(l,0,e),l===0&&dm(e)}};var hm=t.version;if(hm!=="19.2.4")throw Error(a(527,hm,"19.2.4"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var Mv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{ho=La.inject(Mv),St=La}catch{}}return rl.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",f=Ef,h=bf,T=_f;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError)),n=im(e,1,!1,null,null,l,s,null,f,h,T,mm),e[yi]=n.current,ou(e),new bu(n)},rl.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,f="",h=Ef,T=bf,b=_f,R=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(h=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.formState!==void 0&&(R=l.formState)),n=im(e,1,!0,n,l??null,s,f,R,h,T,b,mm),n.context=om(null),l=n.current,s=wt(),s=ps(s),f=wn(s),f.callback=null,Mn(l,f,s),l=s,n.current.lanes=l,yo(n,l),jt(n),e[yi]=n.current,ou(e),new ka(n)},rl.version="19.2.4",rl}var Cm;function Vv(){if(Cm)return Au.exports;Cm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Au.exports=Pv(),Au.exports}var Bv=Vv();const zv=sg(Bv);var se=(i=>(i.START="start",i.VECTOR="vector",i.TYPOGRAPHY="typography",i.MONOGRAM="monogram",i.EXTRACTOR="extractor",i.FILTERS="filters",i.AUDIT="audit",i))(se||{});const qv=`[PROTOCOL: GEOMETRIC_PRECISION_V5]
Execute synthesis with absolute mathematical rigor. 
1. PRIMITIVES ONLY: Construct subjects using atomic geometric primitives (circles, triangles, rectangles).
2. STROKE PARITY: Maintain uniform line weights across the entire composition. No tapered strokes.
3. COLOR ISOLATION: Use flat, solid fills. Gradients are strictly forbidden. 
4. SUBJECT PURITY: Isolate the primary subject against a 100% white or transparent background. No environmental noise.
5. SYMMETRY ENFORCEMENT: Prioritize radial or bilateral symmetry where applicable.
[OUTPUT]: High-contrast vector-style synthesis. Minimalist. Deterministic.`,Yv=`[PROTOCOL: GLYPH_SYNTAX_DECONSTRUCTION_URBAN_KINETIC]
Process alphabetic characters as dynamic, aggressive, and expressive forms, reflecting urban calligraphy and graffiti art.
1. KINETIC FLOW: Prioritize fluid, hand-drawn kinetics and intentional overlaps between glyphs. Avoid strict grid-locked alignment if it restricts dynamic movement.
2. STROKE VARIATION: Embrace varying stroke weights, sharp calligraphic terminals, and dynamic sweeps to convey energy. Uniformity is secondary to expressive form.
3. NEGATIVE SPACE: Command the background as a solid, flat void, but allow for implied depth and motion through character placement.
4. SPRAY-PAINT AESTHETICS: Incorporate subtle hints of spray-paint texture or aggressive edge treatment if contextually relevant.
5. IMPACT APEX: Ensure the wordmark delivers raw, high-energy impact and maintains its street art aesthetic across various scales.
[OUTPUT]: High-contrast kinetic, urban, hand-styled wordmark. Expressive. Aggressive.`,Fv=`[PROTOCOL: SEAL_SYNTHESIS_RADIAL]
Fuse character DNA into a single unified geometric seal.
1. INTERLOCKING LOGIC: Letters must share shared paths or interlock within a defined boundary.
2. BOUNDARY LOCK: The composition must fit within a primary geometric container (Circle, Hexagon, or Square).
3. SYMMETRY LATTICE: Enforce perfect radial symmetry across 2, 4, or 8 axes.
4. STROKE RATIO: Maintain a 1:1 ratio between stroke weight and inner negative space.
[OUTPUT]: Geometric signet/seal. Symmetric. Totemic.`,ug=[{id:"sig-vec-01",type:"vector",category:"Signature Vector",name:"Omega Lattice Alpha",description:"The peak of recursive geometric interconnection. High-frequency detail.",prompt:"Recursive geometric lattice structure. Intricate interconnected pathways forming a complex architectural subject. Flat solid fills, high-contrast industrial palette. Absolute subject isolation."},{id:"sig-vec-04",type:"vector",category:"Signature Vector",name:"Glitch-Core Matrix",description:"Deterministic vector glitching. Staggered geometric slices and lateral path offsets.",prompt:"Vector-based glitch art. Subject sliced into parallel horizontal shards with lateral offsets. Sharp geometric displacement, high-contrast flat fills, zero organic curves."},{id:"sig-vec-05",type:"vector",category:"Signature Vector",name:"Neural Fungal PCB",description:"Biological growth logic meets rigid circuit trace architecture.",prompt:"Rhizomatic growth pattern rendered as a rigid PCB circuit. Interlocking 45-degree and 90-degree vector pathways, circular nodes, uniform stroke weights. Synthetic-organic hybrid."},{id:"sig-vec-02",type:"vector",category:"Signature Vector",name:"Prism Void Delta",description:"Refractive geometric deconstruction. Spectral light dispersion blocks.",prompt:"Refractive deconstruction of a subject into geometric shards. Hard-edged color blocks with sharp directional offsets. Prism logic. Flat vector execution."},{id:"sig-vec-03",type:"vector",category:"Signature Vector",name:"Neural Weave V9",description:"Synthetic synaptic pathways mimic biological growth in a rigid grid.",prompt:"Biological neural pathways rendered as synthetic vector circuitry. Branching geometric nodes, uniform line weights, clean mathematical flow. Zero organic noise."},{id:"sig-ty-01",type:"typography",category:"Signature Wordmarks",name:"Kinetic Pulse Pro",description:"High-contrast dynamic wordmark with intentional terminal slices.",prompt:"Dynamic motion wordmark. Sharp terminal slices, parallel speed lines, high-contrast geometry. Geometric display type with zero kerning errors."},{id:"sig-ty-03",type:"typography",category:"Signature Wordmarks",name:"Liquid-Steel Slab",description:"High-viscosity metallic forms deconstructed into razor-sharp vector curves.",prompt:"Viscous liquid letterforms rendered with absolute sharp geometric precision. Mercury-like flow but with strictly defined paths. High-contrast chrome logic, flat vector shading."},{id:"sig-ty-04",type:"typography",category:"Signature Wordmarks",name:"Brutalist X-Ray",description:"Overlapping transparent geometric planes creating emergent character forms.",prompt:"Architectural typography deconstructed into overlapping transparent planes. Emergent shapes at junctions, high-contrast monochrome, strict grid-locked alignment."},{id:"sig-ty-02",type:"typography",category:"Signature Wordmarks",name:"Brutalist Monolith",description:"Heavy monolithic glyphs with zero contrast and iron-grid alignment.",prompt:"Monolithic block typography. Zero contrast stroke weights, jagged brutalist edges, heavy visual mass. Grid-locked architectural alignment."},{id:"sig-mo-01",type:"monogram",category:"Signature Monograms",name:"Nano Seal Omega",description:"Micro-etched signet construction with nested circular frames.",prompt:"Precision geometric seal. Interlocking character geometry, nested circular frames, perfect radial symmetry. High-density signet detail."},{id:"sig-mo-03",type:"monogram",category:"Signature Monograms",name:"Totem Axis Prime",description:"Vertical mirrored character stacking with aggressive symmetry enforcement.",prompt:"Symmetrical vertical totem monogram. Mirrored character DNA stacked into a unified geometric pillar. Central axis dominance, high-impact silhouette."},{id:"sig-mo-04",type:"monogram",category:"Signature Monograms",name:"Orbital Logic V2",description:"Planetary ring logic applied to character intersections. Concentric circuitry.",prompt:"Circular orbital monogram. Letters interlock with concentric ring pathways. PCB-inspired junctions, high-frequency radial detail, geometric signet aesthetic."},{id:"sig-mo-02",type:"monogram",category:"Signature Monograms",name:"Apex Crest Prime",description:"Shield-based heraldry deconstructed into raw geometric primitives.",prompt:"Modern heraldic crest. Subject fused into a geometric shield boundary. Mathematical symmetry, uniform line weights, flat solid fills."},{id:"sig-fi-01",type:"filter",category:"Signature Series",name:"Spectral-V",description:"High-frequency silver luminance with aggressive edge contrast.",prompt:"Filter synthesis: Spectral-V",filter:"grayscale(100%) contrast(180%) brightness(105%) saturate(0%)"},{id:"sig-fi-02",type:"filter",category:"Signature Series",name:"Cobalt-Trace",description:"Deep industrial blue shadows with electric highlight clarity.",prompt:"Filter synthesis: Cobalt-Trace",filter:"hue-rotate(200deg) saturate(180%) contrast(140%) brightness(90%)"}],ja=i=>{const t=ug.filter(a=>a.type===i),o=t.length>0?t[0].category:"Unknown Category";return{title:o,items:t.filter(a=>a.category===o).map(a=>({id:a.id,name:a.name,description:a.description,filter:a.filter,prompt:a.prompt,type:a.type}))}},Wa=i=>{const t=ug.filter(a=>a.type===i);return Array.from(new Set(t.map(a=>a.category))).map(a=>({title:a,items:t.filter(r=>r.category===a).map(r=>({id:r.id,name:r.name,description:r.description,filter:r.filter,prompt:r.prompt,type:r.type}))}))},Jv=ja("vector"),Kv=ja("typography"),Xv=ja("monogram"),$v=ja("filter"),Qv=Wa("vector"),Zv=Wa("typography"),jv=Wa("monogram"),Wv=Wa("filter"),Jn={VECTOR:{signature:Jv,libraries:Qv},TYPOGRAPHY:{signature:Kv,libraries:Zv},MONOGRAM:{signature:Xv,libraries:jv},FILTERS:{signature:$v,libraries:Wv}};var ex={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let tx,nx;function ix(){return{geminiUrl:tx,vertexUrl:nx}}function ox(i,t,o,a){var r,c;if(!(i!=null&&i.baseUrl)){const p=ix();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(c=p.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xn{}function le(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(i,t,o){for(let c=0;c<t.length-1;c++){const p=t[c];if(p.endsWith("[]")){const g=p.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let m=0;m<y.length;m++){const x=y[m];d(x,t.slice(c+1),o[m])}else for(const m of y)d(m,t.slice(c+1),o)}return}else if(p.endsWith("[0]")){const g=p.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];d(y[0],t.slice(c+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const p=i[c];return Array.isArray(p)?p.map(g=>u(g,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function lx(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),c=a.split("."),p=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}ku(i,r,c,0,p)}}function ku(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const p=c.slice(0,-2),g=i;if(p in g&&Array.isArray(g[p]))for(const y of g[p])ku(y,t,o,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,g=Object.keys(p).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of g)y[m]=p[m];for(const[m,x]of Object.entries(y)){const S=[];for(const E of o.slice(a))E==="*"?S.push(m):S.push(E);d(p,S,x)}for(const m of g)delete p[m]}}else{const p=i;c in p&&ku(p[c],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ju(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ax(i){const t={},o=u(i,["operationName"]);o!=null&&d(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&d(t,["_url","resourceName"],a),t}function sx(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response","generateVideoResponse"]);return p!=null&&d(t,["response"],ux(p)),t}function rx(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],cx(p)),t}function ux(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>dx(p))),d(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&d(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function cx(i){const t={},o=u(i,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(p=>fx(p))),d(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&d(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&d(t,["raiMediaFilteredReasons"],r),t}function dx(i){const t={},o=u(i,["video"]);return o!=null&&d(t,["video"],vx(o)),t}function fx(i){const t={},o=u(i,["_self"]);return o!=null&&d(t,["video"],xx(o)),t}function px(i){const t={},o=u(i,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function mx(i){const t={},o=u(i,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function hx(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],gx(p)),t}function gx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&d(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function cg(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],yx(p)),t}function yx(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&d(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function vx(i){const t={},o=u(i,["uri"]);o!=null&&d(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&d(t,["videoBytes"],ju(a));const r=u(i,["encoding"]);return r!=null&&d(t,["mimeType"],r),t}function xx(i){const t={},o=u(i,["gcsUri"]);o!=null&&d(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&d(t,["videoBytes"],ju(a));const r=u(i,["mimeType"]);return r!=null&&d(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Am;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Am||(Am={}));var Nm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Nm||(Nm={}));var Rm;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Rm||(Rm={}));var Ae;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ae||(Ae={}));var wm;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(wm||(wm={}));var Mm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Mm||(Mm={}));var Im;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Im||(Im={}));var Um;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Um||(Um={}));var Dm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Dm||(Dm={}));var km;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(km||(km={}));var Lm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Lm||(Lm={}));var Om;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Om||(Om={}));var Gm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Gm||(Gm={}));var Hm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(Hm||(Hm={}));var Pm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Pm||(Pm={}));var Vm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Vm||(Vm={}));var Bm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Bm||(Bm={}));var zm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zm||(zm={}));var qm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(qm||(qm={}));var Ym;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Ym||(Ym={}));var Fm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Fm||(Fm={}));var qa;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(qa||(qa={}));var Jm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jm||(Jm={}));var Km;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Km||(Km={}));var Xm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xm||(Xm={}));var Lu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Lu||(Lu={}));var $m;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})($m||($m={}));var Qm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Qm||(Qm={}));var Ou;(function(i){i.COLLECTION="COLLECTION"})(Ou||(Ou={}));var Zm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Zm||(Zm={}));var jm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(jm||(jm={}));var Wm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Wm||(Wm={}));var eh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(eh||(eh={}));var th;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(th||(th={}));var nh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(nh||(nh={}));var ih;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ih||(ih={}));var oh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(oh||(oh={}));var lh;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(lh||(lh={}));var ah;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(ah||(ah={}));var sh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(sh||(sh={}));var rh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(rh||(rh={}));var uh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(uh||(uh={}));var ch;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(ch||(ch={}));var dh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(dh||(dh={}));var fh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(fh||(fh={}));var ph;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(ph||(ph={}));var mh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mh||(mh={}));var hh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(hh||(hh={}));var gh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(gh||(gh={}));var yh;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(yh||(yh={}));var vh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vh||(vh={}));var xh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(xh||(xh={}));var Th;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Th||(Th={}));var Sh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sh||(Sh={}));var Eh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Eh||(Eh={}));var bh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(bh||(bh={}));var oo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(oo||(oo={}));class Gu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class ul{get text(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",x=!1;const S=[];for(const E of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,C]of Object.entries(E))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(C!==null||C!==void 0)&&S.push(_);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;x=!0,m+=E.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?m:void 0}get data(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const x=[];for(const S of(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[E,_]of Object.entries(S))E!=="inlineData"&&(_!==null||_!==void 0)&&x.push(E);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,r,c,p,g,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,a,r,c,p,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,r,c,p,g,y,m;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(p=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((x==null?void 0:x.length)!==0)return(m=x==null?void 0:x[0])===null||m===void 0?void 0:m.output}}class _h{}class Ch{}class Tx{}class Sx{}class Ex{}class bx{}class Ah{}class Nh{}class Rh{}class _x{}class Ya{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Ya;let r;const c=t;return o?r=rx(c):r=sx(c),Object.assign(a,r),a}}class wh{}class Mh{}class Ih{}class Uh{}class Cx{}class Ax{}class Nx{}class Wu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Wu,c=hx(t);return Object.assign(a,c),a}}class Rx{}class wx{}class Mx{}class Ix{}class Dh{}class Ux{get text(){var t,o,a;let r="",c=!1;const p=[];for(const g of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(g))y!=="text"&&y!=="thought"&&m!==null&&p.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,o,a;let r="";const c=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(p))g!=="inlineData"&&y!==null&&c.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Dx{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ec{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ec,c=cg(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ue(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function dg(i,t){const o=Ue(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function fg(i){return Array.isArray(i)?i.map(t=>Fa(t)):[Fa(i)]}function Fa(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function pg(i){const t=Fa(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function mg(i){const t=Fa(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function kh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function hg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>kh(t)):[kh(i)]}function Hu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Lh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Oh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function rt(i){if(i==null)throw new Error("ContentUnion is required");return Hu(i)?i:{role:"user",parts:hg(i)}}function tc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=rt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=rt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>rt(o)):[rt(t)]}function Vt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Lh(i)||Oh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(i)]}const t=[],o=[],a=Hu(i[0]);for(const r of i){const c=Hu(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Lh(r)||Oh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:hg(o)}),t}function kx(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Ae).includes(o[0].toUpperCase())?o[0].toUpperCase():Ae.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Ae).includes(a.toUpperCase())?a.toUpperCase():Ae.TYPE_UNSPECIFIED})}}function ao(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&kx(i.type,t);for(const[p,g]of Object.entries(i))if(g!=null)if(p=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Ae).includes(g.toUpperCase())?g.toUpperCase():Ae.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=ao(g);else if(a.includes(p)){const y=[];for(const m of g){if(m.type=="null"){t.nullable=!0;continue}y.push(ao(m))}t[p]=y}else if(r.includes(p)){const y={};for(const[m,x]of Object.entries(g))y[m]=ao(x);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=g}return t}function nc(i){return ao(i)}function ic(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function oc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function uo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=ao(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=ao(t.response));return i}function co(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Lx(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Tn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Lx(i,t,"cachedContents")}function gg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Kn(i){return ju(i)}function Ox(i){return i!=null&&typeof i=="object"&&"name"in i}function Gx(i){return i!=null&&typeof i=="object"&&"video"in i}function Hx(i){return i!=null&&typeof i=="object"&&"uri"in i}function yg(i){var t;let o;if(Ox(i)&&(o=i.name),!(Hx(i)&&(o=i.uri,o===void 0))&&!(Gx(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function vg(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function xg(i){for(const t of["models","tunedModels","publisherModels"])if(Px(i,t))return i[t];return[]}function Px(i,t){return i!==null&&typeof i=="object"&&t in i}function Vx(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Bx(i,t={}){const o=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const p=Vx(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Tg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function zx(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Sg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function fo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Eg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(i){const t={},o=u(i,["responsesFile"]);o!=null&&d(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>bT(p))),d(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["inlinedEmbedContentResponses"],c)}return t}function Yx(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&d(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&d(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Fx(i){const t={},o=u(i,["format"]);o!=null&&d(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&d(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&d(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ba(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&d(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&d(t,["state"],Eg(r));const c=u(i,["metadata","createTime"]);c!=null&&d(t,["createTime"],c);const p=u(i,["metadata","endTime"]);p!=null&&d(t,["endTime"],p);const g=u(i,["metadata","updateTime"]);g!=null&&d(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&d(t,["model"],y);const m=u(i,["metadata","output"]);return m!=null&&d(t,["dest"],qx(Sg(m))),t}function Pu(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["displayName"]);a!=null&&d(t,["displayName"],a);const r=u(i,["state"]);r!=null&&d(t,["state"],Eg(r));const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["createTime"]);p!=null&&d(t,["createTime"],p);const g=u(i,["startTime"]);g!=null&&d(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&d(t,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(t,["updateTime"],m);const x=u(i,["model"]);x!=null&&d(t,["model"],x);const S=u(i,["inputConfig"]);S!=null&&d(t,["src"],Jx(S));const E=u(i,["outputConfig"]);E!=null&&d(t,["dest"],Yx(Sg(E)));const _=u(i,["completionStats"]);return _!=null&&d(t,["completionStats"],_),t}function Jx(i){const t={},o=u(i,["instancesFormat"]);o!=null&&d(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&d(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&d(t,["bigqueryUri"],r),t}function Kx(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&d(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ET(i,p))),d(o,["requests","requests"],c)}return o}function Xx(i){const t={},o=u(i,["format"]);o!=null&&d(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&d(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&d(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function $x(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Qx(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],fo(i,a)),o}function Zx(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],fo(i,a)),o}function jx(i){const t={},o=u(i,["content"]);o!=null&&d(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&d(t,["citationMetadata"],Wx(a));const r=u(i,["tokenCount"]);r!=null&&d(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&d(t,["finishReason"],c);const p=u(i,["avgLogprobs"]);p!=null&&d(t,["avgLogprobs"],p);const g=u(i,["groundingMetadata"]);g!=null&&d(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&d(t,["index"],y);const m=u(i,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const x=u(i,["safetyRatings"]);if(x!=null){let E=x;Array.isArray(E)&&(E=E.map(_=>_)),d(t,["safetyRatings"],E)}const S=u(i,["urlContextMetadata"]);return S!=null&&d(t,["urlContextMetadata"],S),t}function Wx(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),d(t,["citations"],a)}return t}function bg(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>MT(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function eT(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&d(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function tT(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&d(t,["outputConfig"],Fx(zx(r))),o}function Gh(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["_url","model"],Ue(i,a));const r=u(t,["src"]);r!=null&&d(o,["batch","inputConfig"],Kx(i,Tg(i,r)));const c=u(t,["config"]);return c!=null&&eT(c,o),o}function nT(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["model"],Ue(i,a));const r=u(t,["src"]);r!=null&&d(o,["inputConfig"],Xx(Tg(i,r)));const c=u(t,["config"]);return c!=null&&tT(c,o),o}function iT(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&d(t,["batch","displayName"],a),o}function oT(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["_url","model"],Ue(i,a));const r=u(t,["src"]);r!=null&&d(o,["batch","inputConfig"],dT(i,r));const c=u(t,["config"]);return c!=null&&iT(c,o),o}function lT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],fo(i,a)),o}function aT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],fo(i,a)),o}function sT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function rT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);return c!=null&&d(t,["error"],c),t}function uT(i,t){const o={},a=u(t,["contents"]);if(a!=null){let c=tc(i,a);Array.isArray(c)&&(c=c.map(p=>p)),d(o,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(d(o,["_self"],cT(r,o)),lx(o,{"requests[].*":"requests[].request.*"})),o}function cT(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&d(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&d(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function dT(i,t){const o={},a=u(t,["fileName"]);a!=null&&d(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&d(o,["requests"],uT(i,r)),o}function fT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function pT(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mT(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&d(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&d(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function hT(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&d(o,["systemInstruction"],bg(rt(r)));const c=u(t,["temperature"]);c!=null&&d(a,["temperature"],c);const p=u(t,["topP"]);p!=null&&d(a,["topP"],p);const g=u(t,["topK"]);g!=null&&d(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&d(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&d(a,["maxOutputTokens"],m);const x=u(t,["stopSequences"]);x!=null&&d(a,["stopSequences"],x);const S=u(t,["responseLogprobs"]);S!=null&&d(a,["responseLogprobs"],S);const E=u(t,["logprobs"]);E!=null&&d(a,["logprobs"],E);const _=u(t,["presencePenalty"]);_!=null&&d(a,["presencePenalty"],_);const C=u(t,["frequencyPenalty"]);C!=null&&d(a,["frequencyPenalty"],C);const M=u(t,["seed"]);M!=null&&d(a,["seed"],M);const I=u(t,["responseMimeType"]);I!=null&&d(a,["responseMimeType"],I);const A=u(t,["responseSchema"]);A!=null&&d(a,["responseSchema"],nc(A));const Q=u(t,["responseJsonSchema"]);if(Q!=null&&d(a,["responseJsonSchema"],Q),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(o!==void 0&&J!=null){let be=J;Array.isArray(be)&&(be=be.map(ge=>IT(ge))),d(o,["safetySettings"],be)}const B=u(t,["tools"]);if(o!==void 0&&B!=null){let be=co(B);Array.isArray(be)&&(be=be.map(ge=>DT(uo(ge)))),d(o,["tools"],be)}const z=u(t,["toolConfig"]);if(o!==void 0&&z!=null&&d(o,["toolConfig"],UT(z)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(t,["cachedContent"]);o!==void 0&&ie!=null&&d(o,["cachedContent"],Tn(i,ie));const j=u(t,["responseModalities"]);j!=null&&d(a,["responseModalities"],j);const oe=u(t,["mediaResolution"]);oe!=null&&d(a,["mediaResolution"],oe);const ee=u(t,["speechConfig"]);if(ee!=null&&d(a,["speechConfig"],ic(ee)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=u(t,["thinkingConfig"]);ue!=null&&d(a,["thinkingConfig"],ue);const Y=u(t,["imageConfig"]);Y!=null&&d(a,["imageConfig"],ST(Y));const pe=u(t,["enableEnhancedCivicAnswers"]);if(pe!=null&&d(a,["enableEnhancedCivicAnswers"],pe),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function gT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>jx(m))),d(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&d(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&d(t,["promptFeedback"],c);const p=u(i,["responseId"]);p!=null&&d(t,["responseId"],p);const g=u(i,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function yT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],fo(i,a)),o}function vT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],fo(i,a)),o}function xT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function TT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function ST(i){const t={},o=u(i,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&d(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function ET(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["request","model"],Ue(i,a));const r=u(t,["contents"]);if(r!=null){let g=Vt(r);Array.isArray(g)&&(g=g.map(y=>bg(y))),d(o,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&d(o,["metadata"],c);const p=u(t,["config"]);return p!=null&&d(o,["request","generationConfig"],hT(i,p,u(o,["request"],{}))),o}function bT(i){const t={},o=u(i,["response"]);o!=null&&d(t,["response"],gT(o));const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&d(t,["error"],r),t}function _T(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function CT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&d(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),o}function AT(i){const t={},o=u(i,["config"]);return o!=null&&_T(o,t),t}function NT(i){const t={},o=u(i,["config"]);return o!=null&&CT(o,t),t}function RT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Ba(p))),d(t,["batchJobs"],c)}return t}function wT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>Pu(p))),d(t,["batchJobs"],c)}return t}function MT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],fT(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],pT(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],$x(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function IT(i){const t={},o=u(i,["category"]);if(o!=null&&d(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&d(t,["threshold"],a),t}function UT(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&d(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&d(t,["functionCallingConfig"],mT(a)),t}function DT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(S=>S)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],xT(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],TT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(vn||(vn={}));class hi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(c=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kT extends xn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(vn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Gh(this.apiClient,t),a=o._url,r=le("{model}:batchGenerateContent",a),g=o.batch.inputConfig.requests,y=g.requests,m=[];for(const x of y){const S=Object.assign({},x);if(S.systemInstruction){const E=S.systemInstruction;delete S.systemInstruction;const _=S.request;_.systemInstruction=E,S.request=_}m.push(S)}return g.requests=m,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),p=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=nT(this.apiClient,t);return g=le("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>Pu(x))}else{const m=Gh(this.apiClient,t);return g=le("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>Ba(x))}}async createEmbeddingsInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=oT(this.apiClient,t);return c=le("{model}:asyncBatchEmbedContent",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ba(y))}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=vT(this.apiClient,t);return g=le("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>Pu(x))}else{const m=yT(this.apiClient,t);return g=le("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>Ba(x))}}async cancel(t){var o,a,r,c;let p="",g={};if(this.apiClient.isVertexAI()){const y=Zx(this.apiClient,t);p=le("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=Qx(this.apiClient,t);p=le("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=NT(t);return g=le("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=wT(x),E=new Dh;return Object.assign(E,S),E})}else{const m=AT(t);return g=le("batches",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=RT(x),E=new Dh;return Object.assign(E,S),E})}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=aT(this.apiClient,t);return g=le("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>rT(x))}else{const m=lT(this.apiClient,t);return g=le("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>sT(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LT(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Hh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>oS(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function OT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let x=Vt(p);Array.isArray(x)&&(x=x.map(S=>Hh(S))),d(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],Hh(rt(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(S=>aS(S))),d(t,["tools"],x)}const m=u(i,["toolConfig"]);if(t!==void 0&&m!=null&&d(t,["toolConfig"],lS(m)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function GT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&d(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let S=Vt(p);Array.isArray(S)&&(S=S.map(E=>E)),d(t,["contents"],S)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&d(t,["systemInstruction"],rt(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(E=>sS(E))),d(t,["tools"],S)}const m=u(i,["toolConfig"]);t!==void 0&&m!=null&&d(t,["toolConfig"],m);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&d(t,["encryption_spec","kmsKeyName"],x),o}function HT(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["model"],dg(i,a));const r=u(t,["config"]);return r!=null&&OT(r,o),o}function PT(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["model"],dg(i,a));const r=u(t,["config"]);return r!=null&&GT(r,o),o}function VT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Tn(i,a)),o}function BT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Tn(i,a)),o}function zT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function qT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function YT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function FT(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function JT(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&d(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&d(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function KT(i){const t={},o=u(i,["description"]);o!=null&&d(t,["description"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["parameters"]);r!=null&&d(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&d(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&d(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function XT(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Tn(i,a)),o}function $T(i,t){const o={},a=u(t,["name"]);return a!=null&&d(o,["_url","name"],Tn(i,a)),o}function QT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function ZT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function jT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function WT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function eS(i){const t={},o=u(i,["config"]);return o!=null&&jT(o,t),t}function tS(i){const t={},o=u(i,["config"]);return o!=null&&WT(o,t),t}function nS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["cachedContents"],c)}return t}function iS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["cachedContents"],c)}return t}function oS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],YT(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],FT(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],LT(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function lS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&d(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&d(t,["functionCallingConfig"],JT(a)),t}function aS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(S=>S)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],QT(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],ZT(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function sS(i){const t={},o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&d(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&d(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&d(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>KT(E))),d(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],m);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function rS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),o}function uS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&d(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&d(t,["expireTime"],r),o}function cS(i,t){const o={},a=u(t,["name"]);a!=null&&d(o,["_url","name"],Tn(i,a));const r=u(t,["config"]);return r!=null&&rS(r,o),o}function dS(i,t){const o={},a=u(t,["name"]);a!=null&&d(o,["_url","name"],Tn(i,a));const r=u(t,["config"]);return r!=null&&uS(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fS extends xn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(vn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=PT(this.apiClient,t);return g=le("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const m=HT(this.apiClient,t);return g=le("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=$T(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const m=XT(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=BT(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=qT(x),E=new Ih;return Object.assign(E,S),E})}else{const m=VT(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=zT(x),E=new Ih;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=dS(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>x)}else{const m=cS(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>x)}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=tS(t);return g=le("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=iS(x),E=new Uh;return Object.assign(E,S),E})}else{const m=eS(t);return g=le("cachedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=nS(x),E=new Uh;return Object.assign(E,S),E})}}}function Ja(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function Ph(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(i){return this instanceof ve?(this.v=i,this):new ve(i)}function Ft(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(_){return function(C){return Promise.resolve(C).then(_,S)}}function g(_,C){a[_]&&(r[_]=function(M){return new Promise(function(I,A){c.push([_,M,I,A])>1||y(_,M)})},C&&(r[_]=C(r[_])))}function y(_,C){try{m(a[_](C))}catch(M){E(c[0][3],M)}}function m(_){_.value instanceof ve?Promise.resolve(_.value.v).then(x,S):E(c[0][2],_)}function x(_){y("next",_)}function S(_){y("throw",_)}function E(_,C){_(C),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Jt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Ph=="function"?Ph(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=i[c]&&function(p){return new Promise(function(g,y){p=i[c](p),r(g,y,p.done,p.value)})}}function r(c,p,g,y){Promise.resolve(y).then(function(m){c({value:m,done:g})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pS(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:_g(o)}function _g(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function mS(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Vh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),c&&!_g(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class hS{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new gS(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class gS{constructor(t,o,a,r={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),mS(c)}async sendMessage(t){var o;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,p,g;const y=await r,m=(p=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||p===void 0?void 0:p.content,x=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let E=[];x!=null&&(E=(g=x.slice(S))!==null&&g!==void 0?g:[]);const _=m?[m]:[];this.recordHistory(a,_,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=rt(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?Vh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Ft(this,arguments,function*(){var r,c,p,g,y,m;const x=[];try{for(var S=!0,E=Jt(t),_;_=yield ve(E.next()),r=_.done,!r;S=!0){g=_.value,S=!1;const C=g;if(pS(C)){const M=(m=(y=C.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;M!==void 0&&x.push(M)}yield yield ve(C)}}catch(C){c={error:C}}finally{try{!S&&!r&&(p=E.return)&&(yield ve(p.call(E)))}finally{if(c)throw c.error}}this.recordHistory(o,x)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(c=>c.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Vh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,pl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yS(i){const t={},o=u(i,["file"]);return o!=null&&d(t,["file"],o),t}function vS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function xS(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","file"],yg(o)),t}function TS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function SS(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","file"],yg(o)),t}function ES(i){const t={},o=u(i,["uris"]);return o!=null&&d(t,["uris"],o),t}function bS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function _S(i){const t={},o=u(i,["config"]);return o!=null&&bS(o,t),t}function CS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["files"],c)}return t}function AS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),d(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NS extends xn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(vn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=_S(t);return c=le("files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=CS(y),x=new Rx;return Object.assign(x,m),x})}}async createInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=yS(t);return c=le("upload/v1beta/files",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=vS(y),x=new wx;return Object.assign(x,m),x})}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=SS(t);return c=le("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=xS(t);return c=le("files/{file}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=TS(y),x=new Mx;return Object.assign(x,m),x})}}async registerFilesInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ES(t);return c=le("files:register",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=AS(y),x=new Ix;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function za(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function RS(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>YS(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function wS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function MS(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IS(i){const t={},o=u(i,["description"]);o!=null&&d(t,["description"],o);const a=u(i,["name"]);a!=null&&d(t,["name"],a);const r=u(i,["parameters"]);r!=null&&d(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&d(t,["parametersJsonSchema"],c);const p=u(i,["response"]);p!=null&&d(t,["response"],p);const g=u(i,["responseJsonSchema"]);if(g!=null&&d(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function US(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&d(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&d(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&d(t,["candidateCount"],c);const p=u(i,["enableAffectiveDialog"]);p!=null&&d(t,["enableAffectiveDialog"],p);const g=u(i,["frequencyPenalty"]);g!=null&&d(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&d(t,["logprobs"],y);const m=u(i,["maxOutputTokens"]);m!=null&&d(t,["maxOutputTokens"],m);const x=u(i,["mediaResolution"]);x!=null&&d(t,["mediaResolution"],x);const S=u(i,["presencePenalty"]);S!=null&&d(t,["presencePenalty"],S);const E=u(i,["responseLogprobs"]);E!=null&&d(t,["responseLogprobs"],E);const _=u(i,["responseMimeType"]);_!=null&&d(t,["responseMimeType"],_);const C=u(i,["responseModalities"]);C!=null&&d(t,["responseModalities"],C);const M=u(i,["responseSchema"]);M!=null&&d(t,["responseSchema"],M);const I=u(i,["routingConfig"]);I!=null&&d(t,["routingConfig"],I);const A=u(i,["seed"]);A!=null&&d(t,["seed"],A);const Q=u(i,["speechConfig"]);Q!=null&&d(t,["speechConfig"],Q);const J=u(i,["stopSequences"]);J!=null&&d(t,["stopSequences"],J);const B=u(i,["temperature"]);B!=null&&d(t,["temperature"],B);const z=u(i,["thinkingConfig"]);z!=null&&d(t,["thinkingConfig"],z);const ie=u(i,["topK"]);ie!=null&&d(t,["topK"],ie);const j=u(i,["topP"]);if(j!=null&&d(t,["topP"],j),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function DS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function kS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function LS(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],oc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const C=u(i,["systemInstruction"]);t!==void 0&&C!=null&&d(t,["setup","systemInstruction"],RS(rt(C)));const M=u(i,["tools"]);if(t!==void 0&&M!=null){let ie=co(M);Array.isArray(ie)&&(ie=ie.map(j=>JS(uo(j)))),d(t,["setup","tools"],ie)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&d(t,["setup","sessionResumption"],FS(I));const A=u(i,["inputAudioTranscription"]);t!==void 0&&A!=null&&d(t,["setup","inputAudioTranscription"],A);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&d(t,["setup","outputAudioTranscription"],Q);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&d(t,["setup","realtimeInputConfig"],J);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&d(t,["setup","contextWindowCompression"],B);const z=u(i,["proactivity"]);if(t!==void 0&&z!=null&&d(t,["setup","proactivity"],z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function OS(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig"],US(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],oc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const C=u(i,["systemInstruction"]);t!==void 0&&C!=null&&d(t,["setup","systemInstruction"],rt(C));const M=u(i,["tools"]);if(t!==void 0&&M!=null){let j=co(M);Array.isArray(j)&&(j=j.map(oe=>KS(uo(oe)))),d(t,["setup","tools"],j)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&d(t,["setup","sessionResumption"],I);const A=u(i,["inputAudioTranscription"]);t!==void 0&&A!=null&&d(t,["setup","inputAudioTranscription"],A);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&d(t,["setup","outputAudioTranscription"],Q);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&d(t,["setup","realtimeInputConfig"],J);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&d(t,["setup","contextWindowCompression"],B);const z=u(i,["proactivity"]);t!==void 0&&z!=null&&d(t,["setup","proactivity"],z);const ie=u(i,["explicitVadSignal"]);return t!==void 0&&ie!=null&&d(t,["setup","explicitVadSignal"],ie),o}function GS(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["setup","model"],Ue(i,a));const r=u(t,["config"]);return r!=null&&d(o,["config"],LS(r,o)),o}function HS(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["setup","model"],Ue(i,a));const r=u(t,["config"]);return r!=null&&d(o,["config"],OS(r,o)),o}function PS(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],o),t}function VS(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),d(t,["weightedPrompts"],a)}return t}function BS(i){const t={},o=u(i,["media"]);if(o!=null){let m=fg(o);Array.isArray(m)&&(m=m.map(x=>za(x))),d(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&d(t,["audio"],za(mg(a)));const r=u(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&d(t,["video"],za(pg(c)));const p=u(i,["text"]);p!=null&&d(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&d(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function zS(i){const t={},o=u(i,["media"]);if(o!=null){let m=fg(o);Array.isArray(m)&&(m=m.map(x=>x)),d(t,["mediaChunks"],m)}const a=u(i,["audio"]);a!=null&&d(t,["audio"],mg(a));const r=u(i,["audioStreamEnd"]);r!=null&&d(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&d(t,["video"],pg(c));const p=u(i,["text"]);p!=null&&d(t,["text"],p);const g=u(i,["activityStart"]);g!=null&&d(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function qS(i){const t={},o=u(i,["setupComplete"]);o!=null&&d(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&d(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&d(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],c);const p=u(i,["usageMetadata"]);p!=null&&d(t,["usageMetadata"],XS(p));const g=u(i,["goAway"]);g!=null&&d(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&d(t,["sessionResumptionUpdate"],y);const m=u(i,["voiceActivityDetectionSignal"]);m!=null&&d(t,["voiceActivityDetectionSignal"],m);const x=u(i,["voiceActivity"]);return x!=null&&d(t,["voiceActivity"],$S(x)),t}function YS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],wS(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],MS(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],za(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function FS(i){const t={},o=u(i,["handle"]);if(o!=null&&d(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(S=>S)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],DS(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],kS(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function KS(i){const t={},o=u(i,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&d(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&d(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&d(t,["enterpriseWebSearch"],c);const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>IS(E))),d(t,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&d(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&d(t,["googleSearch"],y);const m=u(i,["googleSearchRetrieval"]);m!=null&&d(t,["googleSearchRetrieval"],m);const x=u(i,["urlContext"]);return x!=null&&d(t,["urlContext"],x),t}function XS(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&d(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&d(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&d(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const p=u(i,["thoughtsTokenCount"]);p!=null&&d(t,["thoughtsTokenCount"],p);const g=u(i,["totalTokenCount"]);g!=null&&d(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(C=>C)),d(t,["promptTokensDetails"],_)}const m=u(i,["cacheTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(C=>C)),d(t,["cacheTokensDetails"],_)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(C=>C)),d(t,["responseTokensDetails"],_)}const S=u(i,["toolUsePromptTokensDetails"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(C=>C)),d(t,["toolUsePromptTokensDetails"],_)}const E=u(i,["trafficType"]);return E!=null&&d(t,["trafficType"],E),t}function $S(i){const t={},o=u(i,["type"]);return o!=null&&d(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QS(i,t){const o={},a=u(i,["data"]);if(a!=null&&d(o,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function ZS(i,t){const o={},a=u(i,["content"]);a!=null&&d(o,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&d(o,["citationMetadata"],jS(r));const c=u(i,["tokenCount"]);c!=null&&d(o,["tokenCount"],c);const p=u(i,["finishReason"]);p!=null&&d(o,["finishReason"],p);const g=u(i,["avgLogprobs"]);g!=null&&d(o,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&d(o,["groundingMetadata"],y);const m=u(i,["index"]);m!=null&&d(o,["index"],m);const x=u(i,["logprobsResult"]);x!=null&&d(o,["logprobsResult"],x);const S=u(i,["safetyRatings"]);if(S!=null){let _=S;Array.isArray(_)&&(_=_.map(C=>C)),d(o,["safetyRatings"],_)}const E=u(i,["urlContextMetadata"]);return E!=null&&d(o,["urlContextMetadata"],E),o}function jS(i,t){const o={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["citations"],r)}return o}function WS(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let p=Vt(c);Array.isArray(p)&&(p=p.map(g=>g)),d(a,["contents"],p)}return a}function eE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(o,["tokensInfo"],c)}return o}function tE(i,t){const o={},a=u(i,["values"]);a!=null&&d(o,["values"],a);const r=u(i,["statistics"]);return r!=null&&d(o,["statistics"],nE(r)),o}function nE(i,t){const o={},a=u(i,["truncated"]);a!=null&&d(o,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&d(o,["tokenCount"],r),o}function es(i,t){const o={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>db(p))),d(o,["parts"],c)}const r=u(i,["role"]);return r!=null&&d(o,["role"],r),o}function iE(i,t){const o={},a=u(i,["controlType"]);a!=null&&d(o,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&d(o,["computeControl"],r),o}function oE(i,t){const o={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function lE(i,t,o){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&d(t,["systemInstruction"],rt(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>Rg(y))),d(t,["tools"],g)}const p=u(i,["generationConfig"]);return t!==void 0&&p!=null&&d(t,["generationConfig"],QE(p)),a}function aE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>es(y))),d(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&oE(p),a}function sE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>y)),d(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&lE(p,a),a}function rE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&d(o,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&d(o,["cachedContentTokenCount"],c),o}function uE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&d(o,["totalTokens"],r),o}function cE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],Ue(i,r)),a}function dE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],Ue(i,r)),a}function fE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function pE(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function mE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&d(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&d(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const m=u(i,["seed"]);t!==void 0&&m!=null&&d(t,["parameters","seed"],m);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&d(t,["parameters","safetySetting"],x);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&d(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&d(t,["parameters","language"],C);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&d(t,["parameters","outputOptions","mimeType"],M);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&d(t,["parameters","outputOptions","compressionQuality"],I);const A=u(i,["addWatermark"]);t!==void 0&&A!=null&&d(t,["parameters","addWatermark"],A);const Q=u(i,["labels"]);t!==void 0&&Q!=null&&d(t,["labels"],Q);const J=u(i,["editMode"]);t!==void 0&&J!=null&&d(t,["parameters","editMode"],J);const B=u(i,["baseSteps"]);return t!==void 0&&B!=null&&d(t,["parameters","editConfig","baseSteps"],B),a}function hE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const p=u(t,["referenceImages"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(m=>yb(m))),d(a,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&mE(g,a),a}function gE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ts(p))),d(o,["generatedImages"],c)}return o}function yE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&d(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&d(t,["requests[]","title"],c);const p=u(i,["outputDimensionality"]);if(t!==void 0&&p!=null&&d(t,["requests[]","outputDimensionality"],p),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function vE(i,t,o){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&d(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&d(t,["instances[]","title"],c);const p=u(i,["outputDimensionality"]);t!==void 0&&p!=null&&d(t,["parameters","outputDimensionality"],p);const g=u(i,["mimeType"]);t!==void 0&&g!=null&&d(t,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&d(t,["parameters","autoTruncate"],y),a}function xE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let y=tc(i,c);Array.isArray(y)&&(y=y.map(m=>m)),d(a,["requests[]","content"],y)}const p=u(t,["config"]);p!=null&&yE(p,a);const g=u(t,["model"]);return g!==void 0&&d(a,["requests[]","model"],Ue(i,g)),a}function TE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let g=tc(i,c);Array.isArray(g)&&(g=g.map(y=>y)),d(a,["instances[]","content"],g)}const p=u(t,["config"]);return p!=null&&vE(p,a),a}function SE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>g)),d(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&d(o,["metadata"],c),o}function EE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>tE(g))),d(o,["embeddings"],p)}const c=u(i,["metadata"]);return c!=null&&d(o,["metadata"],c),o}function bE(i,t){const o={},a=u(i,["endpoint"]);a!=null&&d(o,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&d(o,["deployedModelId"],r),o}function _E(i,t){const o={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&d(o,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function CE(i,t){const o={},a=u(i,["id"]);a!=null&&d(o,["id"],a);const r=u(i,["args"]);r!=null&&d(o,["args"],r);const c=u(i,["name"]);if(c!=null&&d(o,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function AE(i,t){const o={},a=u(i,["allowedFunctionNames"]);a!=null&&d(o,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&d(o,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function NE(i,t){const o={},a=u(i,["description"]);a!=null&&d(o,["description"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["parameters"]);c!=null&&d(o,["parameters"],c);const p=u(i,["parametersJsonSchema"]);p!=null&&d(o,["parametersJsonSchema"],p);const g=u(i,["response"]);g!=null&&d(o,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&d(o,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function RE(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&d(o,["systemInstruction"],es(rt(c)));const p=u(t,["temperature"]);p!=null&&d(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&d(r,["topP"],g);const y=u(t,["topK"]);y!=null&&d(r,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&d(r,["candidateCount"],m);const x=u(t,["maxOutputTokens"]);x!=null&&d(r,["maxOutputTokens"],x);const S=u(t,["stopSequences"]);S!=null&&d(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&d(r,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&d(r,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&d(r,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&d(r,["frequencyPenalty"],M);const I=u(t,["seed"]);I!=null&&d(r,["seed"],I);const A=u(t,["responseMimeType"]);A!=null&&d(r,["responseMimeType"],A);const Q=u(t,["responseSchema"]);Q!=null&&d(r,["responseSchema"],nc(Q));const J=u(t,["responseJsonSchema"]);if(J!=null&&d(r,["responseJsonSchema"],J),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(t,["safetySettings"]);if(o!==void 0&&B!=null){let ge=B;Array.isArray(ge)&&(ge=ge.map(Z=>vb(Z))),d(o,["safetySettings"],ge)}const z=u(t,["tools"]);if(o!==void 0&&z!=null){let ge=co(z);Array.isArray(ge)&&(ge=ge.map(Z=>Cb(uo(Z)))),d(o,["tools"],ge)}const ie=u(t,["toolConfig"]);if(o!==void 0&&ie!=null&&d(o,["toolConfig"],_b(ie)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=u(t,["cachedContent"]);o!==void 0&&j!=null&&d(o,["cachedContent"],Tn(i,j));const oe=u(t,["responseModalities"]);oe!=null&&d(r,["responseModalities"],oe);const ee=u(t,["mediaResolution"]);ee!=null&&d(r,["mediaResolution"],ee);const ue=u(t,["speechConfig"]);if(ue!=null&&d(r,["speechConfig"],ic(ue)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=u(t,["thinkingConfig"]);Y!=null&&d(r,["thinkingConfig"],Y);const pe=u(t,["imageConfig"]);pe!=null&&d(r,["imageConfig"],tb(pe));const be=u(t,["enableEnhancedCivicAnswers"]);if(be!=null&&d(r,["enableEnhancedCivicAnswers"],be),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function wE(i,t,o,a){const r={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&d(o,["systemInstruction"],rt(c));const p=u(t,["temperature"]);p!=null&&d(r,["temperature"],p);const g=u(t,["topP"]);g!=null&&d(r,["topP"],g);const y=u(t,["topK"]);y!=null&&d(r,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&d(r,["candidateCount"],m);const x=u(t,["maxOutputTokens"]);x!=null&&d(r,["maxOutputTokens"],x);const S=u(t,["stopSequences"]);S!=null&&d(r,["stopSequences"],S);const E=u(t,["responseLogprobs"]);E!=null&&d(r,["responseLogprobs"],E);const _=u(t,["logprobs"]);_!=null&&d(r,["logprobs"],_);const C=u(t,["presencePenalty"]);C!=null&&d(r,["presencePenalty"],C);const M=u(t,["frequencyPenalty"]);M!=null&&d(r,["frequencyPenalty"],M);const I=u(t,["seed"]);I!=null&&d(r,["seed"],I);const A=u(t,["responseMimeType"]);A!=null&&d(r,["responseMimeType"],A);const Q=u(t,["responseSchema"]);Q!=null&&d(r,["responseSchema"],nc(Q));const J=u(t,["responseJsonSchema"]);J!=null&&d(r,["responseJsonSchema"],J);const B=u(t,["routingConfig"]);B!=null&&d(r,["routingConfig"],B);const z=u(t,["modelSelectionConfig"]);z!=null&&d(r,["modelConfig"],z);const ie=u(t,["safetySettings"]);if(o!==void 0&&ie!=null){let P=ie;Array.isArray(P)&&(P=P.map(ae=>ae)),d(o,["safetySettings"],P)}const j=u(t,["tools"]);if(o!==void 0&&j!=null){let P=co(j);Array.isArray(P)&&(P=P.map(ae=>Rg(uo(ae)))),d(o,["tools"],P)}const oe=u(t,["toolConfig"]);o!==void 0&&oe!=null&&d(o,["toolConfig"],oe);const ee=u(t,["labels"]);o!==void 0&&ee!=null&&d(o,["labels"],ee);const ue=u(t,["cachedContent"]);o!==void 0&&ue!=null&&d(o,["cachedContent"],Tn(i,ue));const Y=u(t,["responseModalities"]);Y!=null&&d(r,["responseModalities"],Y);const pe=u(t,["mediaResolution"]);pe!=null&&d(r,["mediaResolution"],pe);const be=u(t,["speechConfig"]);be!=null&&d(r,["speechConfig"],ic(be));const ge=u(t,["audioTimestamp"]);ge!=null&&d(r,["audioTimestamp"],ge);const Z=u(t,["thinkingConfig"]);Z!=null&&d(r,["thinkingConfig"],Z);const k=u(t,["imageConfig"]);if(k!=null&&d(r,["imageConfig"],nb(k)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const W=u(t,["modelArmorConfig"]);return o!==void 0&&W!=null&&d(o,["modelArmorConfig"],W),r}function Bh(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>es(y))),d(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&d(a,["generationConfig"],RE(i,p,a)),a}function zh(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["contents"]);if(c!=null){let g=Vt(c);Array.isArray(g)&&(g=g.map(y=>y)),d(a,["contents"],g)}const p=u(t,["config"]);return p!=null&&d(a,["generationConfig"],wE(i,p,a)),a}function qh(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(x=>ZS(x))),d(o,["candidates"],m)}const c=u(i,["modelVersion"]);c!=null&&d(o,["modelVersion"],c);const p=u(i,["promptFeedback"]);p!=null&&d(o,["promptFeedback"],p);const g=u(i,["responseId"]);g!=null&&d(o,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&d(o,["usageMetadata"],y),o}function Yh(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(S=>S)),d(o,["candidates"],x)}const c=u(i,["createTime"]);c!=null&&d(o,["createTime"],c);const p=u(i,["modelVersion"]);p!=null&&d(o,["modelVersion"],p);const g=u(i,["promptFeedback"]);g!=null&&d(o,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&d(o,["responseId"],y);const m=u(i,["usageMetadata"]);return m!=null&&d(o,["usageMetadata"],m),o}function ME(i,t,o){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c);const p=u(i,["guidanceScale"]);if(t!==void 0&&p!=null&&d(t,["parameters","guidanceScale"],p),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&d(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const m=u(i,["includeSafetyAttributes"]);t!==void 0&&m!=null&&d(t,["parameters","includeSafetyAttributes"],m);const x=u(i,["includeRaiReason"]);t!==void 0&&x!=null&&d(t,["parameters","includeRaiReason"],x);const S=u(i,["language"]);t!==void 0&&S!=null&&d(t,["parameters","language"],S);const E=u(i,["outputMimeType"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","mimeType"],E);const _=u(i,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&d(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function IE(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&d(t,["parameters","negativePrompt"],c);const p=u(i,["numberOfImages"]);t!==void 0&&p!=null&&d(t,["parameters","sampleCount"],p);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const m=u(i,["seed"]);t!==void 0&&m!=null&&d(t,["parameters","seed"],m);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&d(t,["parameters","safetySetting"],x);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const E=u(i,["includeSafetyAttributes"]);t!==void 0&&E!=null&&d(t,["parameters","includeSafetyAttributes"],E);const _=u(i,["includeRaiReason"]);t!==void 0&&_!=null&&d(t,["parameters","includeRaiReason"],_);const C=u(i,["language"]);t!==void 0&&C!=null&&d(t,["parameters","language"],C);const M=u(i,["outputMimeType"]);t!==void 0&&M!=null&&d(t,["parameters","outputOptions","mimeType"],M);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&d(t,["parameters","outputOptions","compressionQuality"],I);const A=u(i,["addWatermark"]);t!==void 0&&A!=null&&d(t,["parameters","addWatermark"],A);const Q=u(i,["labels"]);t!==void 0&&Q!=null&&d(t,["labels"],Q);const J=u(i,["imageSize"]);t!==void 0&&J!=null&&d(t,["parameters","sampleImageSize"],J);const B=u(i,["enhancePrompt"]);return t!==void 0&&B!=null&&d(t,["parameters","enhancePrompt"],B),a}function UE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&ME(p,a),a}function DE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const p=u(t,["config"]);return p!=null&&IE(p,a),a}function kE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>JE(g))),d(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&d(o,["positivePromptSafetyAttributes"],Ag(c)),o}function LE(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(g=>ts(g))),d(o,["generatedImages"],p)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&d(o,["positivePromptSafetyAttributes"],Ng(c)),o}function OE(i,t,o){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&d(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&d(t,["parameters","aspectRatio"],p);const g=u(i,["resolution"]);t!==void 0&&g!=null&&d(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(i,["negativePrompt"]);t!==void 0&&m!=null&&d(t,["parameters","negativePrompt"],m);const x=u(i,["enhancePrompt"]);if(t!==void 0&&x!=null&&d(t,["parameters","enhancePrompt"],x),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=u(i,["lastFrame"]);t!==void 0&&S!=null&&d(t,["instances[0]","lastFrame"],ns(S));const E=u(i,["referenceImages"]);if(t!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(C=>Hb(C))),d(t,["instances[0]","referenceImages"],_)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function GE(i,t,o){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&d(t,["parameters","storageUri"],c);const p=u(i,["fps"]);t!==void 0&&p!=null&&d(t,["parameters","fps"],p);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&d(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&d(t,["parameters","aspectRatio"],m);const x=u(i,["resolution"]);t!==void 0&&x!=null&&d(t,["parameters","resolution"],x);const S=u(i,["personGeneration"]);t!==void 0&&S!=null&&d(t,["parameters","personGeneration"],S);const E=u(i,["pubsubTopic"]);t!==void 0&&E!=null&&d(t,["parameters","pubsubTopic"],E);const _=u(i,["negativePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","negativePrompt"],_);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&d(t,["parameters","enhancePrompt"],C);const M=u(i,["generateAudio"]);t!==void 0&&M!=null&&d(t,["parameters","generateAudio"],M);const I=u(i,["lastFrame"]);t!==void 0&&I!=null&&d(t,["instances[0]","lastFrame"],Kt(I));const A=u(i,["referenceImages"]);if(t!==void 0&&A!=null){let B=A;Array.isArray(B)&&(B=B.map(z=>Pb(z))),d(t,["instances[0]","referenceImages"],B)}const Q=u(i,["mask"]);t!==void 0&&Q!=null&&d(t,["instances[0]","mask"],Gb(Q));const J=u(i,["compressionQuality"]);return t!==void 0&&J!=null&&d(t,["parameters","compressionQuality"],J),a}function HE(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["metadata"]);r!=null&&d(o,["metadata"],r);const c=u(i,["done"]);c!=null&&d(o,["done"],c);const p=u(i,["error"]);p!=null&&d(o,["error"],p);const g=u(i,["response","generateVideoResponse"]);return g!=null&&d(o,["response"],zE(g)),o}function PE(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["metadata"]);r!=null&&d(o,["metadata"],r);const c=u(i,["done"]);c!=null&&d(o,["done"],c);const p=u(i,["error"]);p!=null&&d(o,["error"],p);const g=u(i,["response"]);return g!=null&&d(o,["response"],qE(g)),o}function VE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&d(a,["instances[0]","image"],ns(p));const g=u(t,["video"]);g!=null&&d(a,["instances[0]","video"],wg(g));const y=u(t,["source"]);y!=null&&YE(y,a);const m=u(t,["config"]);return m!=null&&OE(m,a),a}function BE(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["prompt"]);c!=null&&d(a,["instances[0]","prompt"],c);const p=u(t,["image"]);p!=null&&d(a,["instances[0]","image"],Kt(p));const g=u(t,["video"]);g!=null&&d(a,["instances[0]","video"],Mg(g));const y=u(t,["source"]);y!=null&&FE(y,a);const m=u(t,["config"]);return m!=null&&GE(m,a),a}function zE(i,t){const o={},a=u(i,["generatedSamples"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>XE(g))),d(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&d(o,["raiMediaFilteredReasons"],c),o}function qE(i,t){const o={},a=u(i,["videos"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(g=>$E(g))),d(o,["generatedVideos"],p)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&d(o,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&d(o,["raiMediaFilteredReasons"],c),o}function YE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],ns(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&d(t,["instances[0]","video"],wg(p)),a}function FE(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],Kt(c));const p=u(i,["video"]);return t!==void 0&&p!=null&&d(t,["instances[0]","video"],Mg(p)),a}function JE(i,t){const o={},a=u(i,["_self"]);a!=null&&d(o,["image"],ib(a));const r=u(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&d(o,["safetyAttributes"],Ag(c)),o}function ts(i,t){const o={},a=u(i,["_self"]);a!=null&&d(o,["image"],Cg(a));const r=u(i,["raiFilteredReason"]);r!=null&&d(o,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&d(o,["safetyAttributes"],Ng(c));const p=u(i,["prompt"]);return p!=null&&d(o,["enhancedPrompt"],p),o}function KE(i,t){const o={},a=u(i,["_self"]);a!=null&&d(o,["mask"],Cg(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(o,["labels"],c)}return o}function XE(i,t){const o={},a=u(i,["video"]);return a!=null&&d(o,["video"],Lb(a)),o}function $E(i,t){const o={},a=u(i,["_self"]);return a!=null&&d(o,["video"],Ob(a)),o}function QE(i,t){const o={},a=u(i,["modelSelectionConfig"]);a!=null&&d(o,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&d(o,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&d(o,["audioTimestamp"],c);const p=u(i,["candidateCount"]);p!=null&&d(o,["candidateCount"],p);const g=u(i,["enableAffectiveDialog"]);g!=null&&d(o,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&d(o,["frequencyPenalty"],y);const m=u(i,["logprobs"]);m!=null&&d(o,["logprobs"],m);const x=u(i,["maxOutputTokens"]);x!=null&&d(o,["maxOutputTokens"],x);const S=u(i,["mediaResolution"]);S!=null&&d(o,["mediaResolution"],S);const E=u(i,["presencePenalty"]);E!=null&&d(o,["presencePenalty"],E);const _=u(i,["responseLogprobs"]);_!=null&&d(o,["responseLogprobs"],_);const C=u(i,["responseMimeType"]);C!=null&&d(o,["responseMimeType"],C);const M=u(i,["responseModalities"]);M!=null&&d(o,["responseModalities"],M);const I=u(i,["responseSchema"]);I!=null&&d(o,["responseSchema"],I);const A=u(i,["routingConfig"]);A!=null&&d(o,["routingConfig"],A);const Q=u(i,["seed"]);Q!=null&&d(o,["seed"],Q);const J=u(i,["speechConfig"]);J!=null&&d(o,["speechConfig"],J);const B=u(i,["stopSequences"]);B!=null&&d(o,["stopSequences"],B);const z=u(i,["temperature"]);z!=null&&d(o,["temperature"],z);const ie=u(i,["thinkingConfig"]);ie!=null&&d(o,["thinkingConfig"],ie);const j=u(i,["topK"]);j!=null&&d(o,["topK"],j);const oe=u(i,["topP"]);if(oe!=null&&d(o,["topP"],oe),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function ZE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],Ue(i,r)),a}function jE(i,t,o){const a={},r=u(t,["model"]);return r!=null&&d(a,["_url","name"],Ue(i,r)),a}function WE(i,t){const o={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&d(o,["enableWidget"],a),o}function eb(i,t){const o={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&d(o,["timeRangeFilter"],a),o}function tb(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&d(o,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&d(o,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function nb(i,t){const o={},a=u(i,["aspectRatio"]);a!=null&&d(o,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&d(o,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&d(o,["personGeneration"],c);const p=u(i,["outputMimeType"]);p!=null&&d(o,["imageOutputOptions","mimeType"],p);const g=u(i,["outputCompressionQuality"]);return g!=null&&d(o,["imageOutputOptions","compressionQuality"],g),o}function ib(i,t){const o={},a=u(i,["bytesBase64Encoded"]);a!=null&&d(o,["imageBytes"],Kn(a));const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function Cg(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&d(o,["imageBytes"],Kn(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function ns(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&d(o,["bytesBase64Encoded"],Kn(a));const r=u(i,["mimeType"]);return r!=null&&d(o,["mimeType"],r),o}function Kt(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&d(o,["bytesBase64Encoded"],Kn(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function ob(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&d(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&d(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&d(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],vg(i,y)),r}function lb(i,t,o,a){const r={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&d(o,["_query","pageSize"],c);const p=u(t,["pageToken"]);o!==void 0&&p!=null&&d(o,["_query","pageToken"],p);const g=u(t,["filter"]);o!==void 0&&g!=null&&d(o,["_query","filter"],g);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&d(o,["_url","models_url"],vg(i,y)),r}function ab(i,t,o){const a={},r=u(t,["config"]);return r!=null&&ob(i,r,a),a}function sb(i,t,o){const a={},r=u(t,["config"]);return r!=null&&lb(i,r,a),a}function rb(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=xg(c);Array.isArray(p)&&(p=p.map(g=>Vu(g))),d(o,["models"],p)}return o}function ub(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let p=xg(c);Array.isArray(p)&&(p=p.map(g=>Bu(g))),d(o,["models"],p)}return o}function cb(i,t){const o={},a=u(i,["maskMode"]);a!=null&&d(o,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&d(o,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&d(o,["dilation"],c),o}function Vu(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["displayName"]);r!=null&&d(o,["displayName"],r);const c=u(i,["description"]);c!=null&&d(o,["description"],c);const p=u(i,["version"]);p!=null&&d(o,["version"],p);const g=u(i,["_self"]);g!=null&&d(o,["tunedModelInfo"],Ab(g));const y=u(i,["inputTokenLimit"]);y!=null&&d(o,["inputTokenLimit"],y);const m=u(i,["outputTokenLimit"]);m!=null&&d(o,["outputTokenLimit"],m);const x=u(i,["supportedGenerationMethods"]);x!=null&&d(o,["supportedActions"],x);const S=u(i,["temperature"]);S!=null&&d(o,["temperature"],S);const E=u(i,["maxTemperature"]);E!=null&&d(o,["maxTemperature"],E);const _=u(i,["topP"]);_!=null&&d(o,["topP"],_);const C=u(i,["topK"]);C!=null&&d(o,["topK"],C);const M=u(i,["thinking"]);return M!=null&&d(o,["thinking"],M),o}function Bu(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["name"],a);const r=u(i,["displayName"]);r!=null&&d(o,["displayName"],r);const c=u(i,["description"]);c!=null&&d(o,["description"],c);const p=u(i,["versionId"]);p!=null&&d(o,["version"],p);const g=u(i,["deployedModels"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>bE(_))),d(o,["endpoints"],E)}const y=u(i,["labels"]);y!=null&&d(o,["labels"],y);const m=u(i,["_self"]);m!=null&&d(o,["tunedModelInfo"],Nb(m));const x=u(i,["defaultCheckpointId"]);x!=null&&d(o,["defaultCheckpointId"],x);const S=u(i,["checkpoints"]);if(S!=null){let E=S;Array.isArray(E)&&(E=E.map(_=>_)),d(o,["checkpoints"],E)}return o}function db(i,t){const o={},a=u(i,["mediaResolution"]);a!=null&&d(o,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&d(o,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&d(o,["executableCode"],c);const p=u(i,["fileData"]);p!=null&&d(o,["fileData"],_E(p));const g=u(i,["functionCall"]);g!=null&&d(o,["functionCall"],CE(g));const y=u(i,["functionResponse"]);y!=null&&d(o,["functionResponse"],y);const m=u(i,["inlineData"]);m!=null&&d(o,["inlineData"],QS(m));const x=u(i,["text"]);x!=null&&d(o,["text"],x);const S=u(i,["thought"]);S!=null&&d(o,["thought"],S);const E=u(i,["thoughtSignature"]);E!=null&&d(o,["thoughtSignature"],E);const _=u(i,["videoMetadata"]);return _!=null&&d(o,["videoMetadata"],_),o}function fb(i,t){const o={},a=u(i,["productImage"]);return a!=null&&d(o,["image"],Kt(a)),o}function pb(i,t,o){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&d(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&d(t,["parameters","baseSteps"],c);const p=u(i,["outputGcsUri"]);t!==void 0&&p!=null&&d(t,["parameters","storageUri"],p);const g=u(i,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&d(t,["parameters","safetySetting"],y);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&d(t,["parameters","personGeneration"],m);const x=u(i,["addWatermark"]);t!==void 0&&x!=null&&d(t,["parameters","addWatermark"],x);const S=u(i,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const E=u(i,["outputCompressionQuality"]);t!==void 0&&E!=null&&d(t,["parameters","outputOptions","compressionQuality"],E);const _=u(i,["enhancePrompt"]);t!==void 0&&_!=null&&d(t,["parameters","enhancePrompt"],_);const C=u(i,["labels"]);return t!==void 0&&C!=null&&d(t,["labels"],C),a}function mb(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["source"]);c!=null&&gb(c,a);const p=u(t,["config"]);return p!=null&&pb(p,a),a}function hb(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>ts(c))),d(o,["generatedImages"],r)}return o}function gb(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&d(t,["instances[0]","personImage","image"],Kt(c));const p=u(i,["productImages"]);if(t!==void 0&&p!=null){let g=p;Array.isArray(g)&&(g=g.map(y=>fb(y))),d(t,["instances[0]","productImages"],g)}return a}function yb(i,t){const o={},a=u(i,["referenceImage"]);a!=null&&d(o,["referenceImage"],Kt(a));const r=u(i,["referenceId"]);r!=null&&d(o,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&d(o,["referenceType"],c);const p=u(i,["maskImageConfig"]);p!=null&&d(o,["maskImageConfig"],cb(p));const g=u(i,["controlImageConfig"]);g!=null&&d(o,["controlImageConfig"],iE(g));const y=u(i,["styleImageConfig"]);y!=null&&d(o,["styleImageConfig"],y);const m=u(i,["subjectImageConfig"]);return m!=null&&d(o,["subjectImageConfig"],m),o}function Ag(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&d(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&d(o,["contentType"],c),o}function Ng(i,t){const o={},a=u(i,["safetyAttributes","categories"]);a!=null&&d(o,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&d(o,["scores"],r);const c=u(i,["contentType"]);return c!=null&&d(o,["contentType"],c),o}function vb(i,t){const o={},a=u(i,["category"]);if(a!=null&&d(o,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&d(o,["threshold"],r),o}function xb(i,t){const o={},a=u(i,["image"]);return a!=null&&d(o,["image"],Kt(a)),o}function Tb(i,t,o){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&d(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&d(t,["parameters","maxPredictions"],c);const p=u(i,["confidenceThreshold"]);t!==void 0&&p!=null&&d(t,["parameters","confidenceThreshold"],p);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&d(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&d(t,["parameters","binaryColorThreshold"],y);const m=u(i,["labels"]);return t!==void 0&&m!=null&&d(t,["labels"],m),a}function Sb(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["source"]);c!=null&&bb(c,a);const p=u(t,["config"]);return p!=null&&Tb(p,a),a}function Eb(i,t){const o={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>KE(c))),d(o,["generatedMasks"],r)}return o}function bb(i,t,o){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&d(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&d(t,["instances[0]","image"],Kt(c));const p=u(i,["scribbleImage"]);return t!==void 0&&p!=null&&d(t,["instances[0]","scribble"],xb(p)),a}function _b(i,t){const o={},a=u(i,["retrievalConfig"]);a!=null&&d(o,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&d(o,["functionCallingConfig"],AE(r)),o}function Cb(i,t){const o={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&d(o,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&d(o,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&d(o,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=u(i,["functionDeclarations"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(E=>E)),d(o,["functionDeclarations"],S)}const g=u(i,["googleMaps"]);g!=null&&d(o,["googleMaps"],WE(g));const y=u(i,["googleSearch"]);y!=null&&d(o,["googleSearch"],eb(y));const m=u(i,["googleSearchRetrieval"]);m!=null&&d(o,["googleSearchRetrieval"],m);const x=u(i,["urlContext"]);return x!=null&&d(o,["urlContext"],x),o}function Rg(i,t){const o={},a=u(i,["retrieval"]);a!=null&&d(o,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&d(o,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&d(o,["codeExecution"],c);const p=u(i,["enterpriseWebSearch"]);p!=null&&d(o,["enterpriseWebSearch"],p);const g=u(i,["functionDeclarations"]);if(g!=null){let E=g;Array.isArray(E)&&(E=E.map(_=>NE(_))),d(o,["functionDeclarations"],E)}const y=u(i,["googleMaps"]);y!=null&&d(o,["googleMaps"],y);const m=u(i,["googleSearch"]);m!=null&&d(o,["googleSearch"],m);const x=u(i,["googleSearchRetrieval"]);x!=null&&d(o,["googleSearchRetrieval"],x);const S=u(i,["urlContext"]);return S!=null&&d(o,["urlContext"],S),o}function Ab(i,t){const o={},a=u(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&d(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&d(o,["updateTime"],c),o}function Nb(i,t){const o={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&d(o,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&d(o,["updateTime"],c),o}function Rb(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&d(t,["defaultCheckpointId"],p),a}function wb(i,t,o){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const p=u(i,["defaultCheckpointId"]);return t!==void 0&&p!=null&&d(t,["defaultCheckpointId"],p),a}function Mb(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","name"],Ue(i,r));const c=u(t,["config"]);return c!=null&&Rb(c,a),a}function Ib(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["config"]);return c!=null&&wb(c,a),a}function Ub(i,t,o){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&d(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&d(t,["parameters","safetySetting"],c);const p=u(i,["personGeneration"]);t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&d(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","mimeType"],y);const m=u(i,["outputCompressionQuality"]);t!==void 0&&m!=null&&d(t,["parameters","outputOptions","compressionQuality"],m);const x=u(i,["enhanceInputImage"]);t!==void 0&&x!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],x);const S=u(i,["imagePreservationFactor"]);t!==void 0&&S!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],S);const E=u(i,["labels"]);t!==void 0&&E!=null&&d(t,["labels"],E);const _=u(i,["numberOfImages"]);t!==void 0&&_!=null&&d(t,["parameters","sampleCount"],_);const C=u(i,["mode"]);return t!==void 0&&C!=null&&d(t,["parameters","mode"],C),a}function Db(i,t,o){const a={},r=u(t,["model"]);r!=null&&d(a,["_url","model"],Ue(i,r));const c=u(t,["image"]);c!=null&&d(a,["instances[0]","image"],Kt(c));const p=u(t,["upscaleFactor"]);p!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],p);const g=u(t,["config"]);return g!=null&&Ub(g,a),a}function kb(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>ts(p))),d(o,["generatedImages"],c)}return o}function Lb(i,t){const o={},a=u(i,["uri"]);a!=null&&d(o,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&d(o,["videoBytes"],Kn(r));const c=u(i,["encoding"]);return c!=null&&d(o,["mimeType"],c),o}function Ob(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&d(o,["videoBytes"],Kn(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}function Gb(i,t){const o={},a=u(i,["image"]);a!=null&&d(o,["_self"],Kt(a));const r=u(i,["maskMode"]);return r!=null&&d(o,["maskMode"],r),o}function Hb(i,t){const o={},a=u(i,["image"]);a!=null&&d(o,["image"],ns(a));const r=u(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function Pb(i,t){const o={},a=u(i,["image"]);a!=null&&d(o,["image"],Kt(a));const r=u(i,["referenceType"]);return r!=null&&d(o,["referenceType"],r),o}function wg(i,t){const o={},a=u(i,["uri"]);a!=null&&d(o,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&d(o,["encodedVideo"],Kn(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["encoding"],c),o}function Mg(i,t){const o={},a=u(i,["uri"]);a!=null&&d(o,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&d(o,["bytesBase64Encoded"],Kn(r));const c=u(i,["mimeType"]);return c!=null&&d(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Vb(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&d(t,["displayName"],a),o}function Bb(i){const t={},o=u(i,["config"]);return o!=null&&Vb(o,t),t}function zb(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&d(t,["_query","force"],a),o}function qb(i){const t={},o=u(i,["name"]);o!=null&&d(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&zb(a,t),t}function Yb(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","name"],o),t}function Fb(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&d(t,["chunkingConfig"],r),o}function Jb(i){const t={},o=u(i,["name"]);o!=null&&d(t,["name"],o);const a=u(i,["metadata"]);a!=null&&d(t,["metadata"],a);const r=u(i,["done"]);r!=null&&d(t,["done"],r);const c=u(i,["error"]);c!=null&&d(t,["error"],c);const p=u(i,["response"]);return p!=null&&d(t,["response"],Xb(p)),t}function Kb(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&d(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&Fb(r,t),t}function Xb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&d(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&d(t,["documentName"],r),t}function $b(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function Qb(i){const t={},o=u(i,["config"]);return o!=null&&$b(o,t),t}function Zb(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["fileSearchStores"],c)}return t}function Ig(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&d(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&d(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),d(t,["customMetadata"],g)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&d(t,["chunkingConfig"],p),o}function jb(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&Ig(a,t),t}function Wb(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e_="Content-Type",t_="X-Server-Timeout",n_="User-Agent",zu="x-goog-api-client",i_="1.40.0",o_=`google-genai-sdk/${i_}`,l_="v1beta1",a_="v1beta";class s_{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:l_}else{if(!this.clientOptions.apiKey)throw new pl({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:a_,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Ou.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,g]of Object.entries(t.queryParams))r.searchParams.append(p,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(o))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const c=new AbortController,p=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const g=setTimeout(()=>c.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=p}return o&&o.extraBody!==null&&r_(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Fh(r),new Gu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await Fh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Ft(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:x}=yield ve(r.read());if(m){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=c.decode(x,{stream:!0});try{const C=JSON.parse(S);if("error"in C){const M=JSON.parse(JSON.stringify(C.error)),I=M.status,A=M.code,Q=`got status: ${I}. ${JSON.stringify(C)}`;if(A>=400&&A<600)throw new pl({message:Q,status:A})}}catch(C){if(C.name==="ApiError")throw C}p+=S;let E=-1,_=0;for(;;){E=-1,_=0;for(const I of y){const A=p.indexOf(I);A!==-1&&(E===-1||A<E)&&(E=A,_=I.length)}if(E===-1)break;const C=p.substring(0,E);p=p.substring(E+_);const M=C.trim();if(M.startsWith(g)){const I=M.substring(g.length).trim();try{const A=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield ve(new Gu(A))}catch(A){throw new Error(`exception parsing stream chunk ${I}. ${A}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=o_+" "+this.clientOptions.userAgentExtra;return t[n_]=o,t[zu]=o,t[e_]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(t_,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,p=await c.stat(t);r.sizeBytes=String(p.size);const g=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},m=this.getFileName(t),x=le("upload/v1beta/files",y._url),S=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,m,y,o==null?void 0:o.httpOptions);return c.upload(t,S,this)}async uploadFileToFileSearchStore(t,o,a){var r;const c=this.clientOptions.uploader,p=await c.stat(o),g=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(o),S={};a!=null&&Ig(a,S);const E=await this.fetchUploadUrl(m,g,y,x,S,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,c,p){var g;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=m==null?void 0:m.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function Fh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new pl({message:r,status:o}):new Error(r)}}function r_(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,p){const g=Object.assign({},c);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const m=p[y],x=g[y];m&&typeof m=="object"&&!Array.isArray(m)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=a(x,m):(x&&m&&typeof x!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof m}. Overwriting.`),g[y]=m)}return g}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u_="mcp_used/unknown";let c_=!1;function Ug(i){for(const t of i)if(d_(t)||typeof t=="object"&&"inputSchema"in t)return!0;return c_}function Dg(i){var t;const o=(t=i[zu])!==null&&t!==void 0?t:"";i[zu]=(o+` ${u_}`).trimStart()}function d_(i){return i!==null&&typeof i=="object"&&i instanceof lc}function f_(i){return Ft(this,arguments,function*(o,a=100){let r,c=0;for(;c<a;){const p=yield ve(o.listTools({cursor:r}));for(const g of p.tools)yield yield ve(g),c++;if(!p.nextCursor)break;r=p.nextCursor}})}class lc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new lc(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const c={},p=[];for(const x of this.mcpClients)try{for(var g=!0,y=(o=void 0,Jt(f_(x))),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const S=r;p.push(S);const E=S.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=x}}catch(S){o={error:S}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Bx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function p_(i,t,o){const a=new Dx;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class m_{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),p=y_(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let m=()=>{};const x=new Promise(J=>{m=J}),S=t.callbacks,E=function(){m({})},_=this.apiClient,C={onopen:E,onmessage:J=>{p_(_,S.onmessage,J)},onerror:(o=S==null?void 0:S.onerror)!==null&&o!==void 0?o:function(J){},onclose:(a=S==null?void 0:S.onclose)!==null&&a!==void 0?a:function(J){}},M=this.webSocketFactory.create(y,g_(p),C);M.connect(),await x;const Q={setup:{model:Ue(this.apiClient,t.model)}};return M.send(JSON.stringify(Q)),new h_(M,this.apiClient)}}class h_{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=VS(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=PS(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(oo.PLAY)}pause(){this.sendPlaybackControl(oo.PAUSE)}stop(){this.sendPlaybackControl(oo.STOP)}resetContext(){this.sendPlaybackControl(oo.RESET_CONTEXT)}close(){this.conn.close()}}function g_(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function y_(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function x_(i,t,o){const a=new Ux;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const c=JSON.parse(r);if(i.isVertexAI()){const p=qS(c);Object.assign(a,p)}else Object.assign(a,c);t(a)}class T_{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new m_(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,c,p,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let x;const S=this.apiClient.getHeaders();t.config&&t.config.tools&&Ug(t.config.tools)&&Dg(S);const E=__(S);if(this.apiClient.isVertexAI()){const ee=this.apiClient.getProject(),ue=this.apiClient.getLocation(),Y=this.apiClient.getApiKey(),pe=!!ee&&!!ue||!!Y;this.apiClient.getCustomBaseUrl()&&!pe?x=y:(x=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,x))}else{const ee=this.apiClient.getApiKey();let ue="BidiGenerateContent",Y="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",Y="access_token"),x=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ue}?${Y}=${ee}`}let _=()=>{};const C=new Promise(ee=>{_=ee}),M=t.callbacks,I=function(){var ee;(ee=M==null?void 0:M.onopen)===null||ee===void 0||ee.call(M),_({})},A=this.apiClient,Q={onopen:I,onmessage:ee=>{x_(A,M.onmessage,ee)},onerror:(o=M==null?void 0:M.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(a=M==null?void 0:M.onclose)!==null&&a!==void 0?a:function(ee){}},J=this.webSocketFactory.create(x,b_(E),Q);J.connect(),await C;let B=Ue(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&B.startsWith("publishers/")){const ee=this.apiClient.getProject(),ue=this.apiClient.getLocation();ee&&ue&&(B=`projects/${ee}/locations/${ue}/`+B)}let z={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[qa.AUDIO]}:t.config.responseModalities=[qa.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(g=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[],j=[];for(const ee of ie)if(this.isCallableTool(ee)){const ue=ee;j.push(await ue.tool())}else j.push(ee);j.length>0&&(t.config.tools=j);const oe={model:B,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?z=HS(this.apiClient,oe):z=GS(this.apiClient,oe),delete z.config,J.send(JSON.stringify(z)),new E_(J,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const S_={turnComplete:!0};class E_{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Vt(o.turns),t.isVertexAI()||(a=a.map(r=>es(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(v_)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},S_),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:zS(t)}:o={realtimeInput:BS(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function b_(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function __(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jh=10;function Kh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(so(p)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function so(i){return"callTool"in i&&typeof i.callTool=="function"}function C_(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>so(r)))!==null&&a!==void 0?a:!1}function Xh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(so(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(r)}),o}function $h(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class A_ extends xn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,c,p,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!C_(o)||Kh(o.config))return await this.generateContentInternal(y);const m=Xh(o);if(m.length>0){const M=m.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${M}.`)}let x,S;const E=Vt(y.contents),_=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:Jh;let C=0;for(;C<_&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const M=x.candidates[0].content,I=[];for(const A of(g=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&g!==void 0?g:[])if(so(A)){const J=await A.callTool(x.functionCalls);I.push(...J)}C++,S={role:"user",parts:I},y.contents=Vt(y.contents),y.contents.push(M),y.contents.push(S),$h(y.config)&&(E.push(M),E.push(S))}return $h(y.config)&&(x.automaticFunctionCallingHistory=E),x},this.generateContentStream=async o=>{var a,r,c,p,g;if(this.maybeMoveToResponseJsonSchem(o),Kh(o.config)){const S=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(S)}const y=Xh(o);if(y.length>0){const S=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,x=(g=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(m&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let c;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:p.push(y);let g;return c?g={generatedImages:p,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new hi(vn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,c,p,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(c=o.source)===null||c===void 0?void 0:c.video)===null||p===void 0)&&p.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const p=await Promise.all(c.map(async y=>so(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(g.config.tools=p,t.config&&t.config.tools&&Ug(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Dg(m),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return g}async initAfcToolsMap(t){var o,a,r;const c=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(so(p)){const g=p,y=await g.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,g)}}return c}async processAfcStream(t){var o,a,r;const c=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:Jh;let p=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(m,x,S){return Ft(this,arguments,function*(){for(var E,_,C,M,I,A;g<c;){p&&(g++,p=!1);const z=yield ve(m.processParamsMaybeAddMcpUsage(S)),ie=yield ve(m.generateContentStreamInternal(z)),j=[],oe=[];try{for(var Q=!0,J=(_=void 0,Jt(ie)),B;B=yield ve(J.next()),E=B.done,!E;Q=!0){M=B.value,Q=!1;const ee=M;if(yield yield ve(ee),ee.candidates&&(!((I=ee.candidates[0])===null||I===void 0)&&I.content)){oe.push(ee.candidates[0].content);for(const ue of(A=ee.candidates[0].content.parts)!==null&&A!==void 0?A:[])if(g<c&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(ue.functionCall.name)){const Y=yield ve(x.get(ue.functionCall.name).callTool([ue.functionCall]));j.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(ee){_={error:ee}}finally{try{!Q&&!E&&(C=J.return)&&(yield ve(C.call(J)))}finally{if(_)throw _.error}}if(j.length>0){p=!0;const ee=new ul;ee.candidates=[{content:{role:"user",parts:j}}],yield yield ve(ee);const ue=[];ue.push(...oe),ue.push({role:"user",parts:j});const Y=Vt(S.contents).concat(ue);S.contents=Y}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=zh(this.apiClient,t);return g=le("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=Yh(x),E=new ul;return Object.assign(E,S),E})}else{const m=Bh(this.apiClient,t);return g=le("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=qh(x),E=new ul;return Object.assign(E,S),E})}}async generateContentStreamInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=zh(this.apiClient,t);return g=le("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(S){return Ft(this,arguments,function*(){var E,_,C,M;try{for(var I=!0,A=Jt(S),Q;Q=yield ve(A.next()),E=Q.done,!E;I=!0){M=Q.value,I=!1;const J=M,B=Yh(yield ve(J.json()),t);B.sdkHttpResponse={headers:J.headers};const z=new ul;Object.assign(z,B),yield yield ve(z)}}catch(J){_={error:J}}finally{try{!I&&!E&&(C=A.return)&&(yield ve(C.call(A)))}finally{if(_)throw _.error}}})})}else{const m=Bh(this.apiClient,t);return g=le("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),p.then(function(S){return Ft(this,arguments,function*(){var E,_,C,M;try{for(var I=!0,A=Jt(S),Q;Q=yield ve(A.next()),E=Q.done,!E;I=!0){M=Q.value,I=!1;const J=M,B=qh(yield ve(J.json()),t);B.sdkHttpResponse={headers:J.headers};const z=new ul;Object.assign(z,B),yield yield ve(z)}}catch(J){_={error:J}}finally{try{!I&&!E&&(C=A.return)&&(yield ve(C.call(A)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=TE(this.apiClient,t);return g=le("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=EE(x),E=new _h;return Object.assign(E,S),E})}else{const m=xE(this.apiClient,t);return g=le("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=SE(x),E=new _h;return Object.assign(E,S),E})}}async generateImagesInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=DE(this.apiClient,t);return g=le("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=LE(x),E=new Ch;return Object.assign(E,S),E})}else{const m=UE(this.apiClient,t);return g=le("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=kE(x),E=new Ch;return Object.assign(E,S),E})}}async editImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=hE(this.apiClient,t);return c=le("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=gE(y),x=new Tx;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=Db(this.apiClient,t);return c=le("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=kb(y),x=new Sx;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=mb(this.apiClient,t);return c=le("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=hb(y),x=new Ex;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=Sb(this.apiClient,t);return c=le("{model}:predict",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Eb(y),x=new bx;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=jE(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>Bu(x))}else{const m=ZE(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>Vu(x))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=sb(this.apiClient,t);return g=le("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=ub(x),E=new Ah;return Object.assign(E,S),E})}else{const m=ab(this.apiClient,t);return g=le("{models_url}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=rb(x),E=new Ah;return Object.assign(E,S),E})}}async update(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=Ib(this.apiClient,t);return g=le("{model}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>Bu(x))}else{const m=Mb(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>Vu(x))}}async delete(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=dE(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=pE(x),E=new Nh;return Object.assign(E,S),E})}else{const m=cE(this.apiClient,t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=fE(x),E=new Nh;return Object.assign(E,S),E})}}async countTokens(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=sE(this.apiClient,t);return g=le("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=uE(x),E=new Rh;return Object.assign(E,S),E})}else{const m=aE(this.apiClient,t);return g=le("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=rE(x),E=new Rh;return Object.assign(E,S),E})}}async computeTokens(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=WS(this.apiClient,t);return c=le("{model}:computeTokens",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const m=eE(y),x=new _x;return Object.assign(x,m),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=BE(this.apiClient,t);return g=le("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p.then(x=>{const S=PE(x),E=new Ya;return Object.assign(E,S),E})}else{const m=VE(this.apiClient,t);return g=le("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p.then(x=>{const S=HE(x),E=new Ya;return Object.assign(E,S),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class N_ extends xn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=mx(t);return g=le("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),p}else{const m=px(t);return g=le("{operationName}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=ax(t);return c=le("{resourceName}:fetchPredictOperation",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R_(i){const t={},o=u(i,["data"]);if(o!=null&&d(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function w_(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(c=>H_(c))),d(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&d(t,["role"],a),t}function M_(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&d(o,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&d(o,["newSessionExpireTime"],c);const p=u(t,["uses"]);o!==void 0&&p!=null&&d(o,["uses"],p);const g=u(t,["liveConnectConstraints"]);o!==void 0&&g!=null&&d(o,["bidiGenerateContentSetup"],G_(i,g));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),a}function I_(i,t){const o={},a=u(t,["config"]);return a!=null&&d(o,["config"],M_(i,a,o)),o}function U_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function D_(i){const t={},o=u(i,["id"]);o!=null&&d(t,["id"],o);const a=u(i,["args"]);a!=null&&d(t,["args"],a);const r=u(i,["name"]);if(r!=null&&d(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function k_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function L_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function O_(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&d(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const p=u(i,["topP"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topP"],p);const g=u(i,["topK"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(i,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const x=u(i,["seed"]);t!==void 0&&x!=null&&d(t,["setup","generationConfig","seed"],x);const S=u(i,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],oc(S));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","thinkingConfig"],E);const _=u(i,["enableAffectiveDialog"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],_);const C=u(i,["systemInstruction"]);t!==void 0&&C!=null&&d(t,["setup","systemInstruction"],w_(rt(C)));const M=u(i,["tools"]);if(t!==void 0&&M!=null){let ie=co(M);Array.isArray(ie)&&(ie=ie.map(j=>V_(uo(j)))),d(t,["setup","tools"],ie)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&d(t,["setup","sessionResumption"],P_(I));const A=u(i,["inputAudioTranscription"]);t!==void 0&&A!=null&&d(t,["setup","inputAudioTranscription"],A);const Q=u(i,["outputAudioTranscription"]);t!==void 0&&Q!=null&&d(t,["setup","outputAudioTranscription"],Q);const J=u(i,["realtimeInputConfig"]);t!==void 0&&J!=null&&d(t,["setup","realtimeInputConfig"],J);const B=u(i,["contextWindowCompression"]);t!==void 0&&B!=null&&d(t,["setup","contextWindowCompression"],B);const z=u(i,["proactivity"]);if(t!==void 0&&z!=null&&d(t,["setup","proactivity"],z),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function G_(i,t){const o={},a=u(t,["model"]);a!=null&&d(o,["setup","model"],Ue(i,a));const r=u(t,["config"]);return r!=null&&d(o,["config"],O_(r,o)),o}function H_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&d(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&d(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&d(t,["fileData"],U_(c));const p=u(i,["functionCall"]);p!=null&&d(t,["functionCall"],D_(p));const g=u(i,["functionResponse"]);g!=null&&d(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&d(t,["inlineData"],R_(y));const m=u(i,["text"]);m!=null&&d(t,["text"],m);const x=u(i,["thought"]);x!=null&&d(t,["thought"],x);const S=u(i,["thoughtSignature"]);S!=null&&d(t,["thoughtSignature"],S);const E=u(i,["videoMetadata"]);return E!=null&&d(t,["videoMetadata"],E),t}function P_(i){const t={},o=u(i,["handle"]);if(o!=null&&d(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function V_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&d(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&d(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&d(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(S=>S)),d(t,["functionDeclarations"],x)}const p=u(i,["googleMaps"]);p!=null&&d(t,["googleMaps"],k_(p));const g=u(i,["googleSearch"]);g!=null&&d(t,["googleSearch"],L_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&d(t,["googleSearchRetrieval"],y);const m=u(i,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B_(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${o}.${c}`);t.push(...r)}else t.push(o)}return t.join(",")}function z_(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,o=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const c=B_(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(m=>p.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class q_ extends xn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=I_(this.apiClient,t);c=le("auth_tokens",g._url),p=g._query,delete g.config,delete g._url,delete g._query;const y=z_(g,t.config);return r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&d(t,["_query","force"],a),o}function F_(i){const t={},o=u(i,["name"]);o!=null&&d(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&Y_(a,t),t}function J_(i){const t={},o=u(i,["name"]);return o!=null&&d(t,["_url","name"],o),t}function K_(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&d(t,["_query","pageToken"],r),o}function X_(i){const t={},o=u(i,["parent"]);o!=null&&d(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&K_(a,t),t}function $_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&d(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(p=>p)),d(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q_ extends xn{constructor(t){super(),this.apiClient=t,this.list=async o=>new hi(vn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=J_(t);return c=le("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=F_(t);r=le("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=X_(t);return c=le("{parent}/documents",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=$_(y),x=new Cx;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_ extends xn{constructor(t,o=new Q_(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new hi(vn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Bb(t);return c=le("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Yb(t);return c=le("{name}",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=qb(t);r=le("{name}",p._url),c=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Qb(t);return c=le("fileSearchStores",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Zb(y),x=new Ax;return Object.assign(x,m),x})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jb(t);return c=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Wb(y),x=new Nx;return Object.assign(x,m),x})}}async importFile(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Kb(t);return c=le("{file_search_store_name}:importFile",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const m=Jb(y),x=new Wu;return Object.assign(x,m),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let kg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return kg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const j_=()=>kg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Yu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bt extends Error{}class dt extends Bt{constructor(t,o,a,r){super(`${dt.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new is({message:a,cause:Yu(o)});const c=o;return t===400?new Og(t,c,a,r):t===401?new Gg(t,c,a,r):t===403?new Hg(t,c,a,r):t===404?new Pg(t,c,a,r):t===409?new Vg(t,c,a,r):t===422?new Bg(t,c,a,r):t===429?new zg(t,c,a,r):t>=500?new qg(t,c,a,r):new dt(t,c,a,r)}}class Fu extends dt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class is extends dt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Lg extends is{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Og extends dt{}class Gg extends dt{}class Hg extends dt{}class Pg extends dt{}class Vg extends dt{}class Bg extends dt{}class zg extends dt{}class qg extends dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const W_=/^[a-z][a-z0-9+.-]*:/i,eC=i=>W_.test(i);let Ju=i=>(Ju=Array.isArray,Ju(i));const tC=Ju;let nC=tC;const Qh=nC;function iC(i){if(!i)return!0;for(const t in i)return!1;return!0}function oC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const lC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Bt(`${i} must be an integer`);if(t<0)throw new Bt(`${i} must be a positive integer`);return t},aC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const io="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const uC=()=>{var i,t,o,a,r;const c=rC();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":jh(Deno.build.os),"X-Stainless-Arch":Zh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":jh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Zh((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=cC();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":io,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function cC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${c}.${p}`}}}return null}const Zh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",jh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Oa;const dC=()=>Oa??(Oa=uC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Yg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function pC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Yg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Fg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mC(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Mu(i,t,o){return Jg(),new File(i,t??"unknown_file",o)}function gC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const yC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",vC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Kg(i),xC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function TC(i,t,o){if(Jg(),i=await i,vC(i))return i instanceof File?i:Mu([await i.arrayBuffer()],i.name);if(xC(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Mu(await Ku(r),t,o)}const a=await Ku(i);if(t||(t=gC(i)),!(o!=null&&o.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return Mu(a,t,o)}async function Ku(i){var t,o,a,r,c;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Kg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(yC(i))try{for(var g=!0,y=Jt(i),m;m=await y.next(),t=m.done,!t;g=!0){r=m.value,g=!1;const x=r;p.push(...await Ku(x))}}catch(x){o={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const x=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${SC(i)}`)}return p}function SC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xg{constructor(t){this._client=t}}Xg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $g(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Wh=Object.freeze(Object.create(null)),EC=(i=$g)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const c=[],p=o.reduce((x,S,E)=>{var _,C,M;/[?#]/.test(S)&&(r=!0);const I=a[E];let A=(r?encodeURIComponent:i)(""+I);return E!==a.length&&(I==null||typeof I=="object"&&I.toString===((M=Object.getPrototypeOf((C=Object.getPrototypeOf((_=I.hasOwnProperty)!==null&&_!==void 0?_:Wh))!==null&&C!==void 0?C:Wh))===null||M===void 0?void 0:M.toString))&&(A=I+"",c.push({start:x.length+S.length,length:A.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),x+S+(E===a.length?"":A)},""),g=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(g))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((x,S)=>x.start-S.start),c.length>0){let x=0;const S=c.reduce((E,_)=>{const C=" ".repeat(_.start-x),M="^".repeat(_.length);return x=_.start+_.length,E+C+M},"");throw new Bt(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${p}
${S}`)}return p}),Ga=EC($g);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qg extends Xg{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,c=Ja(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Bt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Bt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ga`/${r}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Ga`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Ga`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const c=o??{},{api_version:p=this._client.apiVersion}=c,g=Ja(c,["api_version"]);return this._client.get(Ga`/${p}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}Qg._key=Object.freeze(["interactions"]);class Zg extends Qg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bC(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ha;function ac(i){let t;return(Ha??(t=new globalThis.TextEncoder,Ha=t.encode.bind(t)))(i)}let Pa;function eg(i){let t;return(Pa??(t=new globalThis.TextDecoder,Pa=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class os{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ac(t):t;this.buffer=bC([this.buffer,o]);const a=[];let r;for(;(r=_C(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(eg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=eg(this.buffer.subarray(0,c));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}os.NEWLINE_CHARS=new Set([`
`,"\r"]);os.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function _C(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function CC(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ka={off:0,error:200,warn:300,info:400,debug:500},tg=(i,t,o)=>{if(i){if(oC(Ka,i))return i;ct(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(Ka))}`)}};function dl(){}function Va(i,t,o){return!t||Ka[i]>Ka[o]?dl:t[i].bind(t)}const AC={error:dl,warn:dl,info:dl,debug:dl};let ng=new WeakMap;function ct(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return AC;const r=ng.get(o);if(r&&r[0]===a)return r[1];const c={error:Va("error",o,a),warn:Va("warn",o,a),info:Va("info",o,a),debug:Va("debug",o,a)};return ng.set(o,[a,c]),c}const mi=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lo{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const c=a?ct(a):console;function p(){return Ft(this,arguments,function*(){var y,m,x,S;if(r)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var _=!0,C=Jt(NC(t,o)),M;M=yield ve(C.next()),y=M.done,!y;_=!0){S=M.value,_=!1;const I=S;if(!E)if(I.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield ve(JSON.parse(I.data))}catch(A){throw c.error("Could not parse message into JSON:",I.data),c.error("From chunk:",I.raw),A}}}catch(I){m={error:I}}finally{try{!_&&!y&&(x=C.return)&&(yield ve(x.call(C)))}finally{if(m)throw m.error}}E=!0}catch(I){if(qu(I))return yield ve(void 0);throw I}finally{E||o.abort()}})}return new lo(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function c(){return Ft(this,arguments,function*(){var y,m,x,S;const E=new os,_=Fg(t);try{for(var C=!0,M=Jt(_),I;I=yield ve(M.next()),y=I.done,!y;C=!0){S=I.value,C=!1;const A=S;for(const Q of E.decode(A))yield yield ve(Q)}}catch(A){m={error:A}}finally{try{!C&&!y&&(x=M.return)&&(yield ve(x.call(M)))}finally{if(m)throw m.error}}for(const A of E.flush())yield yield ve(A)})}function p(){return Ft(this,arguments,function*(){var y,m,x,S;if(r)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var _=!0,C=Jt(c()),M;M=yield ve(C.next()),y=M.done,!y;_=!0){S=M.value,_=!1;const I=S;E||I&&(yield yield ve(JSON.parse(I)))}}catch(I){m={error:I}}finally{try{!_&&!y&&(x=C.return)&&(yield ve(x.call(C)))}finally{if(m)throw m.error}}E=!0}catch(I){if(qu(I))return yield ve(void 0);throw I}finally{E||o.abort()}})}return new lo(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const p=a.next();t.push(p),o.push(p)}return c.shift()}});return[new lo(()=>r(t),this.controller,this.client),new lo(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Yg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await o.next();if(c)return a.close();const p=ac(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function NC(i,t){return Ft(this,arguments,function*(){var a,r,c,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bt("Attempted to iterate over a response with no body");const g=new wC,y=new os,m=Fg(i.body);try{for(var x=!0,S=Jt(RC(m)),E;E=yield ve(S.next()),a=E.done,!a;x=!0){p=E.value,x=!1;const _=p;for(const C of y.decode(_)){const M=g.decode(C);M&&(yield yield ve(M))}}}catch(_){r={error:_}}finally{try{!x&&!a&&(c=S.return)&&(yield ve(c.call(S)))}finally{if(r)throw r.error}}for(const _ of y.flush()){const C=g.decode(_);C&&(yield yield ve(C))}})}function RC(i){return Ft(this,arguments,function*(){var o,a,r,c;let p=new Uint8Array;try{for(var g=!0,y=Jt(i),m;m=yield ve(y.next()),o=m.done,!o;g=!0){c=m.value,g=!1;const x=c;if(x==null)continue;const S=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?ac(x):x;let E=new Uint8Array(p.length+S.length);E.set(p),E.set(S,p.length),p=E;let _;for(;(_=CC(p))!==-1;)yield yield ve(p.slice(0,_)),p=p.slice(_)}}catch(x){a={error:x}}finally{try{!g&&!o&&(r=y.return)&&(yield ve(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield ve(p))})}class wC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=MC(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function MC(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function IC(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,p=await(async()=>{var g;if(t.options.stream)return ct(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):lo.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?o.headers.get("content-length")==="0"?void 0:await o.json():await o.text()})();return ct(i).debug(`[${a}] response parsed`,mi({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-c})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sc extends Promise{constructor(t,o,a=IC){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new sc(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jg=Symbol("brand.privateNullableHeaders");function*UC(i){if(!i)return;if(jg in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Qh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=Qh(a[1])?a[1]:[a[1]];let p=!1;for(const g of c)g!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,g])}}const cl=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[c,p]of UC(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),p===null?(t.delete(c),o.add(g)):(t.append(c,p),o.delete(g))}}return{[jg]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iu=i=>{var t,o,a,r,c,p;if(typeof globalThis.process<"u")return(a=(o=(t=ex)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wg;class ls{constructor(t){var o,a,r,c,p,g,y,{baseURL:m=Iu("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(o=Iu("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:S="v1beta"}=t,E=Ja(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:x,apiVersion:S},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(a=_.timeout)!==null&&a!==void 0?a:ls.DEFAULT_TIMEOUT,this.logger=(r=_.logger)!==null&&r!==void 0?r:console;const C="warn";this.logLevel=C,this.logLevel=(p=(c=tg(_.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:tg(Iu("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:C,this.fetchOptions=_.fetchOptions,this.maxRetries=(g=_.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=_.fetch)!==null&&y!==void 0?y:fC(),this.encoder=hC,this._options=_,this.apiKey=x,this.apiVersion=S,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=cl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return cl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return cl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Bt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${io}`}defaultIdempotencyKey(){return`stainless-node-retry-${j_()}`}makeStatusError(t,o,a,r){return dt.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=eC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return iC(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new sc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,c,p;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(g);const{req:m,url:x,timeout:S}=await this.buildRequest(g,{retryCount:y-o});await this.prepareRequest(m,{url:x,options:g});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=a===void 0?"":`, retryOf: ${a}`,C=Date.now();if(ct(this).debug(`[${E}] sending request`,mi({retryOfRequestLogID:a,method:g.method,url:x,options:g,headers:m.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new Fu;const M=new AbortController,I=await this.fetchWithTimeout(x,m,S,M).catch(Yu),A=Date.now();if(I instanceof globalThis.Error){const J=`retrying, ${o} attempts remaining`;if(!((p=g.signal)===null||p===void 0)&&p.aborted)throw new Fu;const B=qu(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(o)return ct(this).info(`[${E}] connection ${B?"timed out":"failed"} - ${J}`),ct(this).debug(`[${E}] connection ${B?"timed out":"failed"} (${J})`,mi({retryOfRequestLogID:a,url:x,durationMs:A-C,message:I.message})),this.retryRequest(g,o,a??E);throw ct(this).info(`[${E}] connection ${B?"timed out":"failed"} - error; no more retries left`),ct(this).debug(`[${E}] connection ${B?"timed out":"failed"} (error; no more retries left)`,mi({retryOfRequestLogID:a,url:x,durationMs:A-C,message:I.message})),B?new Lg:new is({cause:I})}const Q=`[${E}${_}] ${m.method} ${x} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${A-C}ms`;if(!I.ok){const J=await this.shouldRetry(I);if(o&&J){const ee=`retrying, ${o} attempts remaining`;return await mC(I.body),ct(this).info(`${Q} - ${ee}`),ct(this).debug(`[${E}] response error (${ee})`,mi({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:A-C})),this.retryRequest(g,o,a??E,I.headers)}const B=J?"error; no more retries left":"error; not retryable";ct(this).info(`${Q} - ${B}`);const z=await I.text().catch(ee=>Yu(ee).message),ie=aC(z),j=ie?void 0:z;throw ct(this).debug(`[${E}] response error (${B})`,mi({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,message:j,durationMs:Date.now()-C})),this.makeStatusError(I.status,ie,j,I.headers)}return ct(this).info(Q),ct(this).debug(`[${E}] response start`,mi({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:A-C})),{response:I,options:g,controller:M,requestLogID:E,retryOfRequestLogID:a,startTime:C}}async fetchWithTimeout(t,o,a,r){const c=o||{},{signal:p,method:g}=c,y=Ja(c,["signal","method"]),m=r.abort.bind(r);p&&p.addEventListener("abort",m,{once:!0});const x=setTimeout(m,a),S=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),y);g&&(E.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,E)}finally{clearTimeout(x)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var c;let p;const g=r==null?void 0:r.get("retry-after-ms");if(g){const m=parseFloat(g);Number.isNaN(m)||(p=m)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const m=parseFloat(y);Number.isNaN(m)?p=Date.parse(y)-Date.now():p=m*1e3}if(!(p&&0<=p&&p<60*1e3)){const m=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,m)}return await sC(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,p=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return p*g*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,c;const p=Object.assign({},t),{method:g,path:y,query:m,defaultBaseURL:x}=p,S=this.buildURL(y,m,x);"timeout"in p&&lC("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:_}=this.buildBody({options:p}),C=await this.buildHeaders({options:t,method:g,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:C},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=p.fetchOptions)!==null&&c!==void 0?c:{}),url:S,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let g=cl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),dC()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(g),g.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=cl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:pC(t)}:this.encoder({body:t,headers:a})}}ls.DEFAULT_TIMEOUT=6e4;class tt extends ls{constructor(){super(...arguments),this.interactions=new Zg(this)}}Wg=tt;tt.GeminiNextGenAPIClient=Wg;tt.GeminiNextGenAPIClientError=Bt;tt.APIError=dt;tt.APIConnectionError=is;tt.APIConnectionTimeoutError=Lg;tt.APIUserAbortError=Fu;tt.NotFoundError=Pg;tt.ConflictError=Vg;tt.RateLimitError=zg;tt.BadRequestError=Og;tt.AuthenticationError=Gg;tt.InternalServerError=qg;tt.PermissionDeniedError=Hg;tt.UnprocessableEntityError=Bg;tt.toFile=TC;tt.Interactions=Zg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function kC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function LC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function OC(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&d(o,["sdkHttpResponse"],a),o}function GC(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&d(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&d(t,["tuningTask","hyperparameters","epochCount"],c);const p=u(i,["learningRateMultiplier"]);if(p!=null&&d(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&d(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return a}function HC(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const z=u(i,["validationDataset"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec"],Uu(z))}else if(r==="PREFERENCE_TUNING"){const z=u(i,["validationDataset"]);t!==void 0&&z!=null&&d(t,["preferenceOptimizationSpec"],Uu(z))}else if(r==="DISTILLATION"){const z=u(i,["validationDataset"]);t!==void 0&&z!=null&&d(t,["distillationSpec"],Uu(z))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&d(t,["tunedModelDisplayName"],c);const p=u(i,["description"]);t!==void 0&&p!=null&&d(t,["description"],p);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const z=u(i,["epochCount"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],z)}else if(g==="PREFERENCE_TUNING"){const z=u(i,["epochCount"]);t!==void 0&&z!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],z)}else if(g==="DISTILLATION"){const z=u(i,["epochCount"]);t!==void 0&&z!=null&&d(t,["distillationSpec","hyperParameters","epochCount"],z)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const z=u(i,["learningRateMultiplier"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="PREFERENCE_TUNING"){const z=u(i,["learningRateMultiplier"]);t!==void 0&&z!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],z)}else if(y==="DISTILLATION"){const z=u(i,["learningRateMultiplier"]);t!==void 0&&z!=null&&d(t,["distillationSpec","hyperParameters","learningRateMultiplier"],z)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const z=u(i,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],z)}else if(m==="PREFERENCE_TUNING"){const z=u(i,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],z)}else if(m==="DISTILLATION"){const z=u(i,["exportLastCheckpointOnly"]);t!==void 0&&z!=null&&d(t,["distillationSpec","exportLastCheckpointOnly"],z)}let x=u(o,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const z=u(i,["adapterSize"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],z)}else if(x==="PREFERENCE_TUNING"){const z=u(i,["adapterSize"]);t!==void 0&&z!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],z)}else if(x==="DISTILLATION"){const z=u(i,["adapterSize"]);t!==void 0&&z!=null&&d(t,["distillationSpec","hyperParameters","adapterSize"],z)}let S=u(o,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const z=u(i,["tuningMode"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","tuningMode"],z)}const E=u(i,["customBaseModel"]);t!==void 0&&E!=null&&d(t,["customBaseModel"],E);let _=u(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const z=u(i,["batchSize"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","hyperParameters","batchSize"],z)}let C=u(o,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const z=u(i,["learningRate"]);t!==void 0&&z!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRate"],z)}const M=u(i,["labels"]);t!==void 0&&M!=null&&d(t,["labels"],M);const I=u(i,["beta"]);t!==void 0&&I!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],I);const A=u(i,["baseTeacherModel"]);t!==void 0&&A!=null&&d(t,["distillationSpec","baseTeacherModel"],A);const Q=u(i,["tunedTeacherModelSource"]);t!==void 0&&Q!=null&&d(t,["distillationSpec","tunedTeacherModelSource"],Q);const J=u(i,["sftLossWeightMultiplier"]);t!==void 0&&J!=null&&d(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],J);const B=u(i,["outputUri"]);return t!==void 0&&B!=null&&d(t,["outputUri"],B),a}function PC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&QC(c);const p=u(i,["config"]);return p!=null&&GC(p,o),o}function VC(i,t){const o={},a=u(i,["baseModel"]);a!=null&&d(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&d(o,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&ZC(c,o,t);const p=u(i,["config"]);return p!=null&&HC(p,o,t),o}function BC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function zC(i,t){const o={},a=u(i,["name"]);return a!=null&&d(o,["_url","name"],a),o}function qC(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&d(t,["_query","filter"],p),a}function YC(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&d(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&d(t,["_query","pageToken"],c);const p=u(i,["filter"]);return t!==void 0&&p!=null&&d(t,["_query","filter"],p),a}function FC(i,t){const o={},a=u(i,["config"]);return a!=null&&qC(a,o),o}function JC(i,t){const o={},a=u(i,["config"]);return a!=null&&YC(a,o),o}function KC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>e0(g))),d(o,["tuningJobs"],p)}return o}function XC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&d(o,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>Xu(g))),d(o,["tuningJobs"],p)}return o}function $C(i,t){const o={},a=u(i,["name"]);a!=null&&d(o,["model"],a);const r=u(i,["name"]);return r!=null&&d(o,["endpoint"],r),o}function QC(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),d(o,["examples","examples"],r)}return o}function ZC(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(r==="DISTILLATION"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&d(t,["distillationSpec","promptDatasetUri"],p)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(c==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}else if(c==="DISTILLATION"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&d(t,["distillationSpec","promptDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function e0(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["state"]);c!=null&&d(o,["state"],gg(c));const p=u(i,["createTime"]);p!=null&&d(o,["createTime"],p);const g=u(i,["tuningTask","startTime"]);g!=null&&d(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(o,["updateTime"],m);const x=u(i,["description"]);x!=null&&d(o,["description"],x);const S=u(i,["baseModel"]);S!=null&&d(o,["baseModel"],S);const E=u(i,["_self"]);return E!=null&&d(o,["tunedModel"],$C(E)),o}function Xu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["state"]);c!=null&&d(o,["state"],gg(c));const p=u(i,["createTime"]);p!=null&&d(o,["createTime"],p);const g=u(i,["startTime"]);g!=null&&d(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&d(o,["endTime"],y);const m=u(i,["updateTime"]);m!=null&&d(o,["updateTime"],m);const x=u(i,["error"]);x!=null&&d(o,["error"],x);const S=u(i,["description"]);S!=null&&d(o,["description"],S);const E=u(i,["baseModel"]);E!=null&&d(o,["baseModel"],E);const _=u(i,["tunedModel"]);_!=null&&d(o,["tunedModel"],_);const C=u(i,["preTunedModel"]);C!=null&&d(o,["preTunedModel"],C);const M=u(i,["supervisedTuningSpec"]);M!=null&&d(o,["supervisedTuningSpec"],M);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&d(o,["preferenceOptimizationSpec"],I);const A=u(i,["distillationSpec"]);A!=null&&d(o,["distillationSpec"],A);const Q=u(i,["tuningDataStats"]);Q!=null&&d(o,["tuningDataStats"],Q);const J=u(i,["encryptionSpec"]);J!=null&&d(o,["encryptionSpec"],J);const B=u(i,["partnerModelTuningSpec"]);B!=null&&d(o,["partnerModelTuningSpec"],B);const z=u(i,["customBaseModel"]);z!=null&&d(o,["customBaseModel"],z);const ie=u(i,["experiment"]);ie!=null&&d(o,["experiment"],ie);const j=u(i,["labels"]);j!=null&&d(o,["labels"],j);const oe=u(i,["outputUri"]);oe!=null&&d(o,["outputUri"],oe);const ee=u(i,["pipelineJob"]);ee!=null&&d(o,["pipelineJob"],ee);const ue=u(i,["serviceAccount"]);ue!=null&&d(o,["serviceAccount"],ue);const Y=u(i,["tunedModelDisplayName"]);Y!=null&&d(o,["tunedModelDisplayName"],Y);const pe=u(i,["veoTuningSpec"]);return pe!=null&&d(o,["veoTuningSpec"],pe),o}function jC(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&d(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&d(o,["name"],r);const c=u(i,["metadata"]);c!=null&&d(o,["metadata"],c);const p=u(i,["done"]);p!=null&&d(o,["done"],p);const g=u(i,["error"]);return g!=null&&d(o,["error"],g),o}function Uu(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&d(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&d(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WC extends xn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new hi(vn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),c=await this.tuneMldevInternal(r);let p="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?p=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(p=c.name.split("/operations/")[0]),{name:p,state:Lu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=zC(t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>Xu(x))}else{const m=BC(t);return g=le("{name}",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>e0(x))}}async listInternal(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=JC(t);return g=le("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=XC(x),E=new wh;return Object.assign(E,S),E})}else{const m=FC(t);return g=le("tunedModels",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=KC(x),E=new wh;return Object.assign(E,S),E})}}async cancel(t){var o,a,r,c;let p,g="",y={};if(this.apiClient.isVertexAI()){const m=kC(t);return g=le("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=OC(x),E=new Mh;return Object.assign(E,S),E})}else{const m=DC(t);return g=le("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(S=>{const E=S;return E.sdkHttpResponse={headers:x.headers},E})),p.then(x=>{const S=LC(x),E=new Mh;return Object.assign(E,S),E})}}async tuneInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI()){const g=VC(t,t);return c=le("tuningJobs",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>Xu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,c="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=PC(t);return c=le("tunedModels",g._url),p=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const x=m;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>jC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eA{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const tA=1024*1024*8,nA=3,iA=1e3,oA=2,Xa="x-goog-upload-status";async function lA(i,t,o){var a;const r=await t0(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function aA(i,t,o){var a;const r=await t0(i,t,o),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Xa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=cg(c),g=new ec;return Object.assign(g,p),g}async function t0(i,t,o){var a,r;let c=0,p=0,g=new Gu(new Response),y="upload";for(c=i.size;p<c;){const m=Math.min(tA,c-p),x=i.slice(p,p+m);p+m>=c&&(y+=", finalize");let S=0,E=iA;for(;S<nA&&(g=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Xa]));)S++,await rA(E),E=E*oA;if(p+=m,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Xa])!=="active")break;if(c<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function sA(i){return{size:i.size,type:i.type}}function rA(i){return new Promise(t=>setTimeout(t,i))}class uA{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lA(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await aA(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cA{create(t,o,a){return new dA(t,o,a)}}class dA{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ig="x-goog-api-key";class fA{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(ig)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ig,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pA="gl-node/";class hl{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=ox(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new fA(this.apiKey);this.apiClient=new s_({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:pA+"web",uploader:new uA,downloader:new eA}),this.models=new A_(this.apiClient),this.live=new T_(this.apiClient,r,new cA),this.batches=new kT(this.apiClient),this.chats=new hS(this.models,this.apiClient),this.caches=new fS(this.apiClient),this.files=new NS(this.apiClient),this.operations=new N_(this.apiClient),this.authTokens=new q_(this.apiClient),this.tunings=new WC(this.apiClient),this.fileSearchStores=new Z_(this.apiClient)}}/**
 * @license
 * SPDX-License-Identifier: Apache-2.0
 */const to=["mathematical precision, constructed geometry, vector-perfect curves, bezier path optimization","minimalist geometric forms, Bauhaus-inspired composition, structural balance, architectural intent","Swiss design principles, grid-based alignment, intentional white space, typographic hierarchy","Constructivist geometric shapes, primary form deconstruction, solid fills, zero gradients","uniform line weights, mono-weight strokes, geometric purity, mathematical tessellation","high-contrast flat color palette, Pantone-accurate fills, solid opaque surfaces, zero textures","minimalist visual hierarchy, legibility-first construction, clean isolated subject, mathematical kerning","geometric abstraction, simplified silhouette, thick uniform outlines, iconic visual strength","flat vector aesthetic, minimal detail for maximum impact, hard-edged shapes, crisp geometric borders","monochrome high-contrast seal, symmetric geometric monogram, interlocked character geometry","infinite scalability logic, vector-ready outlines, sharp geometric edges, mathematically defined paths","clean subject isolation, white background purity, zero raster noise, zero artifacts","geometric precision, modular construction, repeating geometric motifs, rhythmic symmetry"];function mA(i){const t=to[Math.floor(Math.random()*to.length)],o=to[Math.floor(Math.random()*to.length)],a=to[Math.floor(Math.random()*to.length)];return`${t}, ${o}, ${a}, ${i}`}function rc(i){if(!i)return null;const t=i.split(",");return t.length>1?t[1]:null}const as={thinkingBudget:0,temperature:.1,model:"gemini-3-flash-preview",deviceContext:"MAXIMUM_ARCHITECTURE_OMEGA_V5"},hA=`You are a high-density computation and design analysis engine. 
All operations must be geometric, precise, and deterministic. 
Maintain absolute architectural consistency across the lattice.`,n0=`You are a specialized image generation engine focused on geometric purity and industrial precision.
1. STRICT VISUAL ONLY: Render the visual geometry described. Do not include any text, labels, or metadata.
2. HIGH CONTRAST: Prioritize sharp edges and mathematical accuracy.`,no={adj:["Zenith","Vector","Neural","Cyber","Void","Omega","Lattice","Prism","Aero","Core","Hyper","Nova","Flux","Static","Quantum"],noun:["Sigma","Crest","Splicer","Matrix","Engine","Vortex","Pulse","Node","Grid","Fragment","Axis","Signet","Vault","Flow","Unit"],id:["V1","X","Prime","Delta","Beta","Alpha","Pro"]};function gA(){const i=no.adj[Math.floor(Math.random()*no.adj.length)],t=no.noun[Math.floor(Math.random()*no.noun.length)],o=no.id[Math.floor(Math.random()*no.id.length)];return`${i}-${t} ${o}`}async function po(i,t=3){var o,a,r,c;try{return await i()}catch(p){const g=(p==null?void 0:p.message)||"",y=(p==null?void 0:p.status)||(p==null?void 0:p.code)||"",m=`${g} ${y} ${JSON.stringify(p)}`.toLowerCase(),x=m.includes("429")||m.includes("quota")||m.includes("resource_exhausted")||y===429||y==="RESOURCE_EXHAUSTED";if(m.includes("requested entity was not found")||m.includes("api_key_invalid"))return console.error("[KERNEL_AUTH]: API Key invalid or not found. Prompting re-selection."),await((a=(o=window.aistudio)==null?void 0:o.openSelectKey)==null?void 0:a.call(o)),await i();if(x&&t>0){const E=(4-t)*1500;return console.warn(`[KERNEL_QUOTA]: Threshold reached. Cooldown engaged: ${E}ms. Retries left: ${t}`),await new Promise(_=>setTimeout(_,E)),po(i,t-1)}if(x&&t===0)return console.error("[KERNEL_FATAL]: Quota threshold exceeded. Forcing key audit."),await((c=(r=window.aistudio)==null?void 0:r.openSelectKey)==null?void 0:c.call(r)),await i();throw p}}function i0(i,t,o){let a="";t==="vector"?a=qv:t==="typo"?a=Yv:a=Fv;const r=i.trim()||"Abstract geometric synthesis.";let c="";if(o&&o.parameters){const g=Array.isArray(o.palette)?o.palette.join(", "):"industrial";c=`[DNA_INJECTION]: Edge sharpness ${o.parameters.edge??50}, Line smoothing ${o.parameters.smoothing??50}, Color palette ${g}.`}const p=`${a}
${c}
[VISUAL_SUBJECT]: ${r}`;return mA(p)}async function yA(i,t=as){return po(async()=>{const o=new hl({apiKey:"AIzaSyDjK7yW7ZjAitjGqsgrWo5cpD2-F2HG4K8"}),a=rc(i);if(!a)throw new Error("Empty buffer.");const r=`Perform a forensic style extraction on the provided image. Analyze and distill its core design DNA.
Focus on:
1.  **Dominant Domain:** Identify if the primary style aligns with 'Vector', 'Typography', or 'Monogram' principles.
2.  **Category & Name:** Determine a precise design category and generate a high-concept, validated name for this style.
3.  **Description:** Provide a hyper-condensed summary of the *validated* attributes and fidelity to its domain.
4.  **Visual Parameters:** Quantify key visual attributes:
    *   **Threshold:** Overall visual intensity/contrast (0-100).
    *   **Smoothing:** Curve smoothness vs. angularity (0-100).
    *   **Detail:** Intricacy and complexity of elements (0-100).
    *   **Edge:** Sharpness and definition of lines/boundaries (0-100).
5.  **Color Palette:** Extract the most prominent hexadecimal color codes.
6.  **Authenticity Score:** Rate the detected style's "100% legit" adherence to established design protocols (0-100).

Return the analysis strictly as a JSON object matching the ExtractionResult schema. Maintain absolute objectivity and precision.`,c=`${hA}
ROLE: FORENSIC_STYLE_AUTHENTICATOR. Focus on uncompromising fidelity and absolute adherence to identified style principles.`,p=t.thinkingBudget,g=await o.models.generateContent({model:t.model,contents:{parts:[{inlineData:{mimeType:"image/jpeg",data:a}},{text:r}]},config:{systemInstruction:c,responseMimeType:"application/json",responseSchema:{type:Ae.OBJECT,properties:{domain:{type:Ae.STRING,description:'"Vector" | "Typography" | "Monogram"'},category:{type:Ae.STRING,description:'e.g., "Urban Calligraphy", "Abstract Vector", "Heraldic Seal"'},name:{type:Ae.STRING,description:"GENERATE A HIGH-CONCEPT, VALIDATED NAME REFLECTING THE STYLE'S ESSENCE"},description:{type:Ae.STRING,description:"A HYPER-CONDENSED, HIGH-IMPACT SUMMARY of the *validated* attributes and fidelity to its domain, avoiding verbose explanations. Focus on core identified characteristics and their authenticity."},confidence:{type:Ae.NUMBER,description:"0-1, certainty of domain identification"},styleAuthenticityScore:{type:Ae.NUMBER,description:"0-100, the definitive score for '100% legit' adherence to the protocols, where 100 is absolute purity"},palette:{type:Ae.ARRAY,items:{type:Ae.STRING},description:"array of hex strings"},parameters:{type:Ae.OBJECT,properties:{threshold:{type:Ae.NUMBER,description:"0-100"},smoothing:{type:Ae.NUMBER,description:"0-100"},detail:{type:Ae.NUMBER,description:"0-100"},edge:{type:Ae.NUMBER,description:"0-100"}},required:["threshold","smoothing","detail","edge"]}},required:["domain","category","name","description","confidence","styleAuthenticityScore","palette","parameters"]},thinkingConfig:{thinkingBudget:p}}}),y=JSON.parse(g.text||"{}");return{domain:y.domain||"Typography",category:y.category||"Extracted Urban",name:y.name||gA(),description:y.description||"Geometric lattice fragment",confidence:y.confidence||0,styleAuthenticityScore:y.styleAuthenticityScore||0,palette:Array.isArray(y.palette)?y.palette:[],parameters:y.parameters||{threshold:50,smoothing:50,detail:50,edge:50}}})}async function vA(i,t,o=as,a){return po(async()=>{var S;const r=new hl({apiKey:"AIzaSyDjK7yW7ZjAitjGqsgrWo5cpD2-F2HG4K8"}),c=o.useProModel,p=c?"gemini-3-pro-image-preview":"gemini-2.5-flash-image",y={parts:[{text:i0(i,"vector",a)}]},m=rc(t);m&&y.parts.unshift({inlineData:{mimeType:"image/jpeg",data:m}});const x=await r.models.generateContent({model:p,contents:y,config:{systemInstruction:n0,temperature:.1,imageConfig:c?{aspectRatio:"1:1",imageSize:"2K"}:void 0}});for(const E of x.candidates||[])for(const _ of((S=E.content)==null?void 0:S.parts)||[])if(_.inlineData)return`data:image/png;base64,${_.inlineData.data}`;throw new Error("No image output generated.")})}async function o0(i,t,o=as,a){return po(async()=>{var S;const r=new hl({apiKey:"AIzaSyDjK7yW7ZjAitjGqsgrWo5cpD2-F2HG4K8"}),c=o.useProModel,p=c?"gemini-3-pro-image-preview":"gemini-2.5-flash-image",y={parts:[{text:i0(i,"typo",a)}]},m=rc(t);m&&y.parts.unshift({inlineData:{mimeType:"image/jpeg",data:m}});const x=await r.models.generateContent({model:p,contents:y,config:{systemInstruction:n0,temperature:.1,imageConfig:c?{aspectRatio:"1:1",imageSize:"2K"}:void 0}});for(const E of x.candidates||[])for(const _ of((S=E.content)==null?void 0:S.parts)||[])if(_.inlineData)return`data:image/png;base64,${_.inlineData.data}`;throw new Error("No typo image output generated.")})}async function uc(i,t,o=as,a){return po(async()=>(await new hl({apiKey:"AIzaSyDjK7yW7ZjAitjGqsgrWo5cpD2-F2HG4K8"}).models.generateContent({model:o.model,contents:`Refine this prompt for better image generation in ${t} mode. Prompt: "${i}". DNA Context: ${JSON.stringify(a||{})}. Return ONLY the refined prompt.`,config:{systemInstruction:"You are a prompt engineer for high-end design AI.",temperature:.7}})).text||i)}async function xA(i){return po(async()=>{const o=await new hl({apiKey:"AIzaSyDjK7yW7ZjAitjGqsgrWo5cpD2-F2HG4K8"}).models.generateContent({model:"gemini-3-pro-preview",contents:`Analyze the following code for refinements. Output a JSON array of RealIssue objects.

CODE:
${i}`,config:{systemInstruction:"You are a senior frontend architect.",responseMimeType:"application/json",responseSchema:{type:Ae.ARRAY,items:{type:Ae.OBJECT,properties:{id:{type:Ae.STRING},type:{type:Ae.STRING},severity:{type:Ae.STRING},title:{type:Ae.STRING},description:{type:Ae.STRING},file:{type:Ae.STRING},line:{type:Ae.NUMBER},codeSnippet:{type:Ae.STRING},fix:{type:Ae.STRING},fixed:{type:Ae.BOOLEAN},canAutoFix:{type:Ae.BOOLEAN},timestamp:{type:Ae.NUMBER},impact:{type:Ae.STRING}},required:["id","type","severity","title","description","file","codeSnippet","fix","fixed","canAutoFix","timestamp","impact"]}}}});return JSON.parse(o.text||"[]")})}const cc=(i="IDLE")=>{const[t,o]=H.useState(i),[a,r]=H.useState(!1),c=H.useRef(i),p=H.useCallback((y,m=!1)=>{c.current=t,o(y),r(m)},[t]),g=H.useCallback(()=>{o(c.current),r(!1)},[]);return{status:t,isProcessing:a,transition:p,revert:g}},dc=({name:i,description:t,isActive:o,onClick:a,iconChar:r})=>v.jsxs("button",{onClick:a,className:`w-full p-4 flex flex-col transition-all duration-300 rounded-sm text-left relative overflow-hidden group border-2
      ${o?"bg-brandRed border-brandRed text-white shadow-[0_8px_20px_rgba(253,30,74,0.4)] z-10 scale-[1.01]":"bg-white/5 border-white/5 text-brandNeutral hover:bg-white/10 hover:border-brandRed/30"}
    `,children:[o&&v.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-white/10 -mr-12 -mt-12 rounded-full blur-2xl animate-pulse"}),v.jsxs("div",{className:"flex items-start gap-4 w-full",children:[v.jsx("div",{className:`shrink-0 w-10 h-10 flex items-center justify-center font-black text-sm rounded-sm transition-all duration-300
        ${o?"bg-white text-brandRed scale-110 shadow-lg":"bg-brandRed/10 text-brandRed group-hover:bg-brandRed group-hover:text-white"}
      `,children:r}),v.jsxs("div",{className:"min-w-0 flex-1 relative z-10 pt-1",children:[v.jsx("h4",{className:`text-[11px] font-black uppercase truncate leading-tight mb-1 transition-colors tracking-widest
          ${o?"text-white":"text-brandCharcoal dark:text-brandYellow group-hover:text-brandRed dark:group-hover:text-white"}
        `,children:i}),v.jsx("div",{className:`h-[1px] transition-all duration-500 ${o?"bg-white/40 w-full":"bg-brandRed/20 w-4 group-hover:w-8"}`})]})]}),o&&v.jsx("div",{className:"mt-4 animate-in fade-in slide-in-from-top-1 duration-300",children:v.jsx("p",{className:"text-[8px] font-bold uppercase leading-relaxed text-white/80 italic border-l-2 border-white/30 pl-3",children:t})})]}),gl=({onGenerate:i,isProcessing:t,prompt:o,setPrompt:a,placeholder:r="Describe synthesis parameters...",activePresetName:c,children:p,additionalControls:g,refineButton:y,useTurbo:m,onToggleTurbo:x})=>{const S=H.useRef(null),[E,_]=H.useState("");H.useEffect(()=>{const M=()=>{const I=Math.random().toString(16).substring(2,8).toUpperCase();_(`LAT_${I}`)};if(M(),t){const I=setInterval(M,100);return()=>clearInterval(I)}},[t]);const C=M=>{M.key==="Enter"&&!t&&i()};return v.jsxs("div",{className:`w-full border-t-2 transition-colors duration-500 ${m?"border-brandYellow bg-brandNeutral dark:bg-black":"border-brandRed bg-brandNeutral dark:bg-brandDeep"} shadow-[0_-10px_30px_rgba(0,0,0,0.5)] z-50 rounded-sm py-2 px-3 md:py-4 md:px-6`,children:[v.jsxs("div",{className:`max-w-screen-2xl mx-auto flex flex-col md:flex-row items-stretch gap-0 border-2 transition-all duration-500 ${m?"border-brandYellow shadow-[0_0_20px_rgba(250,189,13,0.2)]":"border-brandCharcoal dark:border-white/20 shadow-[2px_2px_0px_0px_#FD1E4A] md:shadow-[4px_4px_0px_0px_#FD1E4A]"} bg-white dark:bg-black/60 overflow-hidden`,children:[v.jsxs("div",{className:"flex-none bg-brandCharcoal/5 dark:bg-white/5 border-b md:border-b-0 md:border-r border-brandCharcoal dark:border-white/10 px-2 md:px-4 flex items-center py-2 md:py-0 gap-2",children:[x&&v.jsxs("button",{onClick:x,disabled:t,title:"Toggle Turbo Pro Synthesis (Bypass Standard Quota)",className:`flex items-center gap-2 px-3 py-1.5 rounded-sm border transition-all text-[8px] font-black uppercase tracking-widest shrink-0
                ${m?"border-brandYellow bg-brandYellow/20 text-brandYellow shadow-[0_0_10px_rgba(250,189,13,0.3)]":"border-brandCharcoal/20 text-brandCharcoal dark:border-white/10 dark:text-white/40 hover:border-brandYellow"}`,children:[v.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${m?"bg-brandYellow animate-ping":"bg-brandCharcoal/20 dark:bg-white/20"}`}),"PRO_LATTICE"]}),g]}),v.jsxs("div",{className:"flex-1 flex min-w-0 items-center bg-transparent",children:[c&&v.jsx("div",{className:"flex-none pl-3 md:pl-4 py-1 animate-in fade-in slide-in-from-left-2 duration-300",children:v.jsxs("div",{className:`px-2 py-1 ${m?"bg-brandYellow text-brandCharcoal border-brandYellow":"bg-brandRed text-white border-brandRed/50"} text-[7px] md:text-[8px] font-black uppercase italic tracking-widest rounded-sm border flex items-center gap-1.5 whitespace-nowrap shadow-sm transition-colors duration-500`,children:[v.jsx("div",{className:`w-1 h-1 ${m?"bg-brandCharcoal":"bg-white"} rounded-full animate-pulse`}),v.jsx("span",{className:"opacity-70",children:"DNA:"})," ",c]})}),v.jsxs("div",{className:"flex-1 flex min-w-0 relative h-full",children:[p||v.jsx("input",{ref:S,type:"text",value:o||"",onChange:M=>a&&a(M.target.value),onKeyDown:C,placeholder:r,disabled:t,className:"w-full px-3 py-3 md:px-5 md:py-4 bg-transparent text-brandCharcoal dark:text-white font-mono text-xs md:text-sm focus:outline-none placeholder-brandCharcoalMuted/40 dark:placeholder-white/30 min-w-0 caret-brandRed"}),y&&v.jsx("div",{className:"flex items-center px-1 md:px-2",children:y})]})]}),v.jsx("button",{onClick:i,disabled:t,className:`flex-none px-6 py-3 md:px-10 md:py-4 font-black uppercase text-[10px] md:text-[11px] italic tracking-[0.15em] md:tracking-[0.25em] transition-all flex items-center justify-center border-l border-brandCharcoal/10 dark:border-white/10
            ${t?"bg-black text-brandYellow animate-pulse cursor-wait":m?"bg-brandYellow text-brandCharcoal hover:bg-brandCharcoal hover:text-brandYellow active:translate-x-0.5 active:translate-y-0.5":"bg-brandRed text-white hover:bg-brandYellow hover:text-brandCharcoal active:translate-x-0.5 active:translate-y-0.5"}
          `,children:t?v.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[v.jsx("div",{className:"w-2.5 h-2.5 border-2 border-current border-t-transparent rounded-full animate-spin"}),v.jsx("span",{children:"SYNCING"})]}):v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"hidden sm:inline",children:"EXECUTE_LATTICE"}),v.jsx("span",{className:"sm:hidden",children:"EXECUTE"})]})})]}),v.jsxs("div",{className:"max-w-screen-2xl mx-auto mt-1 md:mt-2 flex justify-between items-center px-1",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-1 h-1 md:w-1.5 md:h-1.5 rounded-full ${t?"bg-brandYellow animate-pulse":"bg-green-500"}`}),v.jsx("span",{className:"text-[7px] md:text-[8px] font-black text-brandCharcoalMuted dark:text-white/40 uppercase tracking-widest",children:t?"LATTICE_LOCK_ACTIVE":m?"LATTICE_LOCK_v5.2_TURBO":"LATTICE_LOCK_v5.2"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:`text-[6px] md:text-[7px] font-mono ${m?"text-brandYellow":"text-brandRed"} font-black tracking-widest transition-colors duration-500`,children:E}),v.jsx("div",{className:"h-2 w-[1px] bg-brandCharcoal/10 dark:bg-white/10"}),v.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-brandCharcoalMuted dark:text-white/20 uppercase",children:m?"PRO_QUOTA_ENGAGED":"STANDARD_QUOTA_ENGAGED"})]})]})]})},ss=({presets:i,activeId:t,onSelect:o})=>{const a=c=>c.type?c.type[0].toUpperCase():"",r=c=>{const p=(c.type||"").toLowerCase();return p.includes("vector")?"bg-brandRed/10 text-brandRed":p.includes("typo")?"bg-brandYellow/10 text-brandYellowDark":p.includes("mono")?"bg-brandCharcoal/10 text-brandCharcoal dark:bg-white/10 dark:text-white":"bg-brandCharcoal/5 text-brandCharcoalMuted"};return v.jsx("div",{className:"md:hidden w-full overflow-x-auto no-scrollbar py-4 bg-brandNeutral dark:bg-brandNeutral border-y-2 border-brandCharcoal/10 dark:border-white/5",children:v.jsx("div",{className:"flex gap-8 px-6",children:i.map(c=>v.jsxs("div",{className:"flex-none flex flex-col gap-3",children:[v.jsxs("div",{className:"flex items-center gap-2 px-1",children:[v.jsx("div",{className:"w-1 h-3 bg-brandRed rounded-full"}),v.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-brandCharcoal/40 dark:text-white/40 italic",children:c.title.replace("USER_","")})]}),v.jsx("div",{className:"flex gap-4",children:c.items.map(p=>{const g=t===p.id,y=a(p),m=r(p);return v.jsxs("button",{onClick:()=>o(p.id),className:`flex-none w-64 p-4 flex flex-col transition-all duration-300 rounded-sm text-left relative overflow-hidden group border-2
                      ${g?"bg-brandRed border-brandRed text-white shadow-[8px_8px_0px_0px_rgba(253,30,74,0.3)] scale-[1.02]":"bg-white dark:bg-zinc-900 border-brandCharcoal/10 dark:border-white/10 text-brandCharcoal dark:text-brandNeutral hover:border-brandRed"}`,children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-8 h-8 shrink-0 flex items-center justify-center font-black text-[10px] rounded-sm transition-all duration-300
                        ${g?"bg-white text-brandRed":m}
                      `,children:y}),v.jsxs("div",{className:"min-w-0 flex-1",children:[v.jsx("h4",{className:`text-[10px] font-black uppercase truncate tracking-widest leading-none
                          ${g?"text-white":"text-brandCharcoal dark:text-brandYellow"}
                        `,children:p.name}),v.jsx("div",{className:`h-[1px] transition-all duration-500 mt-1 ${g?"bg-white/40 w-full":"bg-brandRed/20 w-4"}`})]})]}),g&&v.jsx("p",{className:"mt-3 text-[8px] font-bold uppercase leading-tight line-clamp-3 italic text-white/90 animate-in fade-in slide-in-from-top-1 duration-300",children:p.description}),g&&v.jsx("div",{className:"absolute -bottom-4 -right-4 w-16 h-16 bg-white/10 rounded-full blur-xl animate-pulse"})]},p.id)})})]},c.title))})})},l0=H.memo(i=>v.jsx("svg",{...i,fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 01 2-2h4a2 2 0 01 2 2v2"})}));H.memo(i=>v.jsxs("svg",{...i,fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:[v.jsx("path",{d:"M23 19a2 2 0 01-2 2H3a2 2 0 01-2-2V8a2 2 0 012-2h4l2-3h6l2 3h4a2 2 0 012 2z"}),v.jsx("circle",{cx:"12",cy:"13",r:"4"})]}));const TA=H.memo(i=>v.jsx("svg",{...i,fill:"none",stroke:"currentColor",strokeWidth:"2.5",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4m4-5l5-5 5 5m-5-5v12"})}));H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M4 21v-7M4 10V3M12 21v-9M12 8V3M20 21v-5M20 12V3M1 14h6M9 8h6M17 16h6"})}));const a0=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})})),$a=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M12 2L2 22h20L12 2z"})})),Qa=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M4 7V4h16v3M9 20h6M12 4v16"})})),Za=H.memo(i=>v.jsxs("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("path",{d:"M8 15V9l4 4 4-4v6"}),v.jsx("path",{d:"M12 13V22",strokeWidth:"1",opacity:"0.3"})]})),$u=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M11 20H4a2 2 0 01-2-2V6a2 2 0 012-2h7M17 7l5 5-5 5M12 12h9"})})),Qu=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M12 1v22M17 5l-5-4-5 4M17 19l-5 4-5-4M2 12h20"})}));H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M3 3h18v18H3zM12 3v18M3 12h18"})}));const ro=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})})),fc=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M12 3v3M12 18v3M3 12h3M18 12h3M5.6 5.6l2.1 2.1M16.3 16.3l2.1 2.1M5.6 18.4l2.1-2.1M16.3 7.7l2.1-2.1"})})),fl=H.memo(i=>v.jsxs("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[v.jsx("path",{d:"M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"}),v.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),v.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}));H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M2 22s12-5 15-11a5 5 0 00-10-1 15 15 0 00-5 12zM12 10.6V22"})}));H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}));const ml=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})})),SA=H.memo(i=>v.jsxs("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:[v.jsx("circle",{cx:"12",cy:"12",r:"5"}),v.jsx("path",{d:"M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"})]})),EA=H.memo(i=>v.jsx("svg",{...i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:v.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})),yl=({uploadedImage:i,generatedOutput:t,isProcessing:o,hudContent:a,isValidationError:r,uiRefined:c,onClear:p,onGenerate:g,onFileUpload:y,downloadFilename:m="hyperxgen_output.png"})=>{const x=H.useRef(null),S=()=>{var C;!i&&!t&&!o&&((C=x.current)==null||C.click())},E=C=>{var I;const M=(I=C.target.files)==null?void 0:I[0];M&&y(M)},_=H.useCallback(()=>{const C=t||i;if(C){const M=document.createElement("a");M.href=C,M.download=m,document.body.appendChild(M),M.click(),document.body.removeChild(M)}},[t,i,m]);return v.jsxs("div",{className:"flex-1 flex items-center justify-center bg-[#0c0c0c] relative min-h-[250px] md:min-h-[450px] overflow-hidden rounded-sm w-full",children:[v.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-20",style:{backgroundImage:`
               linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
               linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)
             `,backgroundSize:"40px 40px",backgroundPosition:"center"},children:v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-[#0c0c0c]/80"})}),v.jsxs("button",{type:"button",className:`canvas-stage relative w-full h-auto max-w-[900px] aspect-square md:aspect-video group transition-all duration-700 rounded-sm overflow-hidden border-4 border-brandCharcoal dark:border-white/10 bg-[#0f0f0f] shadow-[10px_10px_0px_0px_rgba(45,45,47,0.05)] dark:shadow-[10px_10px_0px_0px_rgba(253,30,74,0.05)] md:shadow-[20px_20px_0px_0px_rgba(45,45,47,0.05)] md:dark:shadow-[20px_20px_0px_0px_rgba(253,30,74,0.05)] ${o?"border-brandRed shadow-[0_0_30px_rgba(253,30,74,0.15)]":""}`,onClick:S,disabled:o,"aria-label":i||t?"View generated output":"Upload source image",children:[v.jsx("input",{ref:x,type:"file",className:"hidden",accept:"image/*",onChange:E}),v.jsxs("div",{className:"absolute inset-0 pointer-events-none z-20 transition-opacity duration-300 opacity-60 group-hover:opacity-100",children:[v.jsx("div",{className:"absolute top-4 left-4 w-6 h-6 md:w-8 md:h-8 border-t-2 border-l-2 border-brandRed/40"}),v.jsx("div",{className:"absolute top-4 left-4 w-1.5 h-1.5 md:w-2 md:h-2 bg-brandRed/40"}),v.jsx("div",{className:"absolute top-4 right-4 w-6 h-6 md:w-8 md:h-8 border-t-2 border-r-2 border-brandRed/40"}),v.jsx("div",{className:"absolute top-4 right-4 w-1.5 h-1.5 md:w-2 md:h-2 bg-brandRed/40"}),v.jsx("div",{className:"absolute bottom-4 left-4 w-6 h-6 md:w-8 md:h-8 border-b-2 border-l-2 border-brandRed/40"}),v.jsx("div",{className:"absolute bottom-4 left-4 w-1.5 h-1.5 md:w-2 md:h-2 bg-brandRed/40"}),v.jsx("div",{className:"absolute bottom-4 right-4 w-6 h-6 md:w-8 md:h-8 border-b-2 border-r-2 border-brandRed/40"}),v.jsx("div",{className:"absolute bottom-4 right-4 w-1.5 h-1.5 md:w-2 md:h-2 bg-brandRed/40"}),!i&&!t&&v.jsxs("div",{className:"absolute inset-0 flex items-center justify-center opacity-20",children:[v.jsx("div",{className:"w-32 md:w-64 h-[1px] bg-brandRed/30"}),v.jsx("div",{className:"h-32 md:h-64 w-[1px] bg-brandRed/30"})]}),v.jsx("div",{className:"absolute top-5 left-12 md:left-16 text-[8px] font-mono text-brandRed/60 font-black tracking-widest bg-black/40 px-2 py-0.5 backdrop-blur-sm border border-brandRed/10",children:"COORD: 000.00, 000.00"}),v.jsxs("div",{className:"absolute bottom-5 right-12 md:right-16 text-[8px] font-mono text-brandRed/60 font-black tracking-widest bg-black/40 px-2 py-0.5 backdrop-blur-sm border border-brandRed/10",children:["STATUS: ",o?"SYNTHESIZING":t?"OUTPUT_LOCKED":"AWAITING_INPUT"]})]}),o&&v.jsxs("div",{className:"absolute inset-0 z-30 pointer-events-none overflow-hidden",children:[v.jsx("div",{className:"w-full h-[2px] bg-brandRed shadow-[0_0_20px_rgba(253,30,74,1)] animate-scan absolute"}),v.jsx("div",{className:"absolute inset-0 bg-brandRed/5 animate-pulse mix-blend-overlay"})]}),v.jsx("div",{className:"absolute inset-0 z-0 opacity-40 pointer-events-none",children:a}),v.jsx("div",{className:"w-full h-full flex items-center justify-center overflow-hidden p-6 md:p-8 relative z-10",children:r?v.jsxs("div",{className:"flex flex-col items-center text-center max-w-xs animate-in zoom-in duration-300",children:[v.jsx("span",{className:"text-brandRed font-black text-lg md:text-xl uppercase italic mb-2 tracking-tighter drop-shadow-md",children:"Null_Lattice_Error"}),v.jsx("p",{className:"text-[9px] font-black text-white/50 uppercase leading-tight tracking-[0.2em] mb-4",children:"Synthesis returned semantic drift. Handshake failed."}),g&&v.jsx("button",{onClick:C=>{C.stopPropagation(),g()},className:"px-6 py-2 bg-brandRed text-white text-[10px] font-black uppercase italic border-2 border-brandRed hover:bg-white hover:text-brandRed transition-all",children:"RE_SYNC_KERNEL"})]}):t||i?v.jsx("img",{src:t||i||"",className:"w-full h-full object-contain animate-in zoom-in duration-1000 select-none pointer-events-none",alt:"Generated Output"}):v.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6 text-center group-hover:scale-105 transition-transform duration-500",children:[v.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 border-2 border-dashed border-brandRed/30 flex items-center justify-center rounded-sm bg-brandRed/5",children:v.jsx(fl,{className:"w-8 h-8 md:w-10 md:h-10 text-brandRed opacity-40"})}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("span",{className:"text-4xl xs:text-5xl lg:text-7xl font-black italic tracking-tighter uppercase text-white/5 select-none block",children:"VOID"}),v.jsx("p",{className:"text-[8px] md:text-[9px] font-black text-brandRed/30 uppercase tracking-[0.4em] bg-black/40 px-3 py-1 rounded-full border border-brandRed/10",children:"Upload_Source_Image"})]})]})}),v.jsxs("div",{className:"absolute top-4 right-4 md:top-6 md:right-6 z-40 flex flex-col gap-2 md:gap-3",children:[v.jsx("button",{onClick:C=>{C.stopPropagation(),p()},disabled:o,className:"p-2 md:p-3 bg-brandCharcoal/90 text-brandRed border border-brandRed/20 hover:bg-brandRed hover:text-white transition-all shadow-xl rounded-sm disabled:opacity-0 backdrop-blur-sm",title:"Purge Buffer",children:v.jsx(l0,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})}),(t||i)&&v.jsx("button",{onClick:C=>{C.stopPropagation(),_()},disabled:o,className:"p-2 md:p-3 bg-brandCharcoal/90 text-brandYellow border border-brandYellow/20 hover:bg-brandYellow hover:text-brandCharcoal transition-all shadow-xl rounded-sm disabled:opacity-0 backdrop-blur-sm",title:"Export Artifact",children:v.jsx(a0,{className:"w-3.5 h-3.5 md:w-4 md:h-4"})})]}),o&&v.jsxs("div",{className:"absolute bottom-4 left-4 md:bottom-6 md:left-6 z-40 flex items-center gap-3 bg-brandCharcoal/90 backdrop-blur-md px-4 py-2 md:px-5 md:py-2.5 border-l-4 border-brandRed shadow-lg",children:[v.jsx("div",{className:"w-1.5 h-1.5 md:w-2 md:h-2 bg-brandRed rounded-full animate-ping"}),v.jsx("span",{className:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.3em] text-brandRed animate-pulse",children:"Synthesizing..."})]})]})]})},pc=({devourerStatus:i})=>v.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none overflow-hidden",children:[v.jsxs("div",{className:"relative w-[120%] h-[120%] flex items-center justify-center opacity-20",children:[v.jsx("div",{className:"absolute inset-0 border-[1px] border-brandRed/30 rounded-full animate-pulse"}),v.jsx("div",{className:"w-[90%] h-[90%] border-[1px] border-brandRed/20 rounded-full border-dashed animate-spin-slow"}),v.jsx("div",{className:"w-[70%] h-[70%] border-[1px] border-brandRed/30 rounded-full animate-spin-reverse-slow"})]}),v.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-1.5 px-8 py-2.5 bg-brandCharcoal/80 rounded-full backdrop-blur-md border border-brandRed/40 shadow-[0_0_20px_rgba(253,30,74,0.4)]",children:v.jsx("div",{className:"text-[10px] font-black uppercase text-brandRed tracking-[0.5em] animate-pulse drop-shadow-[0_0_8px_rgba(253,30,74,0.8)]",children:i})})]}),bA=({reconStatus:i,authenticityScore:t})=>v.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:v.jsxs("div",{className:`relative w-64 h-64 border-[1px] border-brandRed/20 rounded-full flex items-center justify-center animate-pulse transition-opacity duration-1000 ${i==="IDLE"?"opacity-0":"opacity-60"}`,children:[v.jsx("div",{className:"absolute inset-2 border-2 border-brandYellow/20 rounded-full animate-spin-slow"}),v.jsx("div",{className:"absolute h-[110%] w-[1px] bg-brandRed/20"}),v.jsx("div",{className:"absolute w-[110%] h-[1px] bg-brandRed/20"}),v.jsx("div",{className:"absolute top-10 left-10 w-4 h-4 border-t border-l border-brandRed/40"}),v.jsx("div",{className:"absolute top-10 right-10 w-4 h-4 border-t border-r border-brandRed/40"}),v.jsx("div",{className:"absolute bottom-10 left-10 w-4 h-4 border-b border-l border-brandRed/40"}),v.jsx("div",{className:"absolute bottom-10 right-10 w-4 h-4 border-b border-r border-brandRed/40"}),v.jsxs("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-1.5 px-8 py-2.5 bg-brandCharcoal/80 rounded-full backdrop-blur-md border border-brandRed/40 shadow-[0_0_20px_rgba(253,30,74,0.4)]",children:[v.jsx("div",{className:"text-[10px] font-black uppercase text-brandRed tracking-[0.5em] animate-pulse drop-shadow-[0_0_8px_rgba(253,30,74,0.8)]",children:i}),typeof t=="number"&&i!=="IDLE"&&v.jsxs("div",{className:"text-[8px] font-mono text-white/50",children:[t.toFixed(1),"% AUTHENTICITY"]})]})]})}),_A=({filterStatus:i})=>v.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 flex flex-col items-center gap-1.5 px-8 py-2.5 bg-brandCharcoal/80 rounded-full backdrop-blur-md border border-brandRed/40 shadow-[0_0_20px_rgba(253,30,74,0.4)]",children:v.jsx("div",{className:"text-[10px] font-black uppercase text-brandRed tracking-[0.5em] animate-pulse drop-shadow-[0_0_8px_rgba(253,30,74,0.8)]",children:i})}),mc=({moduleNumber:i,title:t,version:o,colorClass:a,borderColorClass:r})=>v.jsxs("div",{className:`mb-6 md:mb-8 border-b-2 ${r} pb-4 md:pb-6`,children:[v.jsx("div",{className:`text-[10px] font-black uppercase tracking-widest italic mb-2 ${a}`,children:i}),v.jsx("h2",{className:"text-xl md:text-2xl font-black text-brandCharcoal dark:text-white uppercase italic tracking-tighter leading-none mb-1",children:t}),v.jsx("p",{className:"text-[8px] font-bold text-brandCharcoalMuted uppercase tracking-widest",children:o})]}),vl=({sidebar:i,children:t})=>v.jsxs("div",{className:"flex h-full w-full overflow-hidden bg-brandNeutral dark:bg-brandNeutral",children:[i&&v.jsx("aside",{className:"hidden md:flex w-[var(--sidebar-w)] flex-col border-r border-brandCharcoal/10 dark:border-white/5 bg-brandNeutral dark:bg-brandDeep overflow-hidden z-10 shrink-0",children:v.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 pb-24",children:i})}),v.jsx("main",{className:"flex-1 flex flex-col min-w-0 relative overflow-hidden bg-brandNeutral dark:bg-brandNeutral",children:v.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:v.jsx("div",{className:"w-full max-w-[1400px] mx-auto flex flex-col gap-3 md:gap-6 p-2 md:p-6",style:{paddingBottom:"calc(var(--app-controls-bar-h) + 2rem)"},children:t})})})]}),s0=({children:i,centered:t=!1})=>v.jsx("div",{className:`flex-1 w-full h-full overflow-y-auto custom-scrollbar bg-brandNeutral dark:bg-brandNeutral relative ${t?"flex items-center justify-center":""}`,children:v.jsx("div",{className:"w-full max-w-[1400px] mx-auto p-4 md:p-8",style:{paddingBottom:"calc(var(--app-controls-bar-h) + 2rem)"},children:i})}),CA=({initialData:i,kernelConfig:t,integrity:o,refinementLevel:a=0,uiRefined:r,onSaveToHistory:c,onModeSwitch:p,onSetGlobalDna:g,savedPresets:y=[],globalDna:m,onToggleTurbo:x})=>{const S=H.useMemo(()=>{let U=[Jn.VECTOR.signature,...Jn.VECTOR.libraries];if(Array.isArray(y)){const F=y.filter(L=>L&&(L.type===se.VECTOR||L.mode===se.VECTOR));if(F.length>0){const L={};F.forEach(ne=>{var ye,Se,qe;const te=ne.category||((ye=ne.dna)==null?void 0:ye.category)||"VAULT_ARCHIVES";L[te]||(L[te]=[]),L[te].push({id:ne.id||Math.random().toString(),name:ne.name||((Se=ne.dna)==null?void 0:Se.name)||"UNNAMED_DNA",type:ne.type||se.VECTOR,description:ne.description||((qe=ne.dna)==null?void 0:qe.description)||"Extracted Style DNA",dna:ne.dna,prompt:ne.prompt})}),U=[...Object.entries(L).map(([ne,te])=>({title:`USER_${ne.toUpperCase()}`,items:te})),...U]}}return U},[y]),{status:E,isProcessing:_,transition:C}=cc(i!=null&&i.dna||m?"DNA_LINKED":"STARVING"),[M,I]=H.useState((i==null?void 0:i.id)||null),[A,Q]=H.useState(null),[J,B]=H.useState((i==null?void 0:i.imageUrl)||(i==null?void 0:i.uploadedImage)||null),[z,ie]=H.useState(""),[j,oe]=H.useState(!1),[ee,ue]=H.useState((i==null?void 0:i.generatedOutput)||null),[Y,pe]=H.useState((i==null?void 0:i.dna)||m||null),[be,ge]=H.useState(!1),Z=H.useRef(!1);H.useEffect(()=>{m&&(Y==null?void 0:Y.name)!==m.name&&(pe(m),C("DNA_LINKED"))},[m,Y,C]);const k=H.useCallback(U=>{if(_)return;if(M===U){I(null),Q(null);return}I(U);const F=S.flatMap(L=>L.items).find(L=>L.id===U);F&&(Q(F),F.dna&&(pe(F.dna),C("DNA_LINKED")),F.imageUrl&&B(F.imageUrl))},[S,_,C,M]),W=async()=>{if(!(!z.trim()||j)){oe(!0);try{const U=await uc(z,se.VECTOR,t,Y||void 0);ie(U)}catch{console.error("Refinement failed")}finally{oe(!1)}}},P=()=>{if(!Y||_)return;const U=(m==null?void 0:m.name)===Y.name;g==null||g(U?null:Y)},ae=async()=>{if(Z.current)return;const U=z.trim(),F=!U&&!!J,L=[A==null?void 0:A.prompt,U].filter(Boolean).join(". "),ce=F?"":L||"VECTOR_CORE";Z.current=!0,C(Y?"DNA_STYLIZE_ACTIVE":F?"DETECTING_SILHOUETTE":"DEVOURING_BUFFER",!0),ge(!1);try{const ne=await vA(ce,J||void 0,t,Y||void 0);ue(ne),C("LATTICE_ACTIVE"),c({id:`vector-${Date.now()}`,name:U.slice(0,15)||(A==null?void 0:A.name)||(Y==null?void 0:Y.name)||"Vector Synthesis",description:ce||"Subject-aware blueprint",type:se.VECTOR,generatedOutput:ne,dna:Y||void 0,imageUrl:J,timestamp:new Date().toLocaleTimeString()})}catch(ne){console.error(ne),C("LATTICE_FAIL"),ge(!0)}finally{Z.current=!1}},fe=v.jsxs(v.Fragment,{children:[v.jsx(mc,{moduleNumber:"Module_01",title:"Vector_Engine",version:"Deterministic Synthesis v4.8",colorClass:"text-brandRed",borderColorClass:"border-brandRed"}),v.jsx("div",{className:"space-y-8",children:S.map((U,F)=>v.jsxs("div",{className:"animate-in fade-in slide-in-left duration-500",style:{animationDelay:`${F*100}ms`},children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"w-1 h-3 bg-brandRed rounded-full"}),v.jsx("h3",{className:"text-[9px] font-black uppercase text-brandCharcoal dark:text-white tracking-[0.25em]",children:U.title})]}),v.jsx("div",{className:"space-y-3",children:U.items.map(L=>v.jsx(dc,{name:L.name,description:L.description,isActive:M===L.id,onClick:()=>k(L.id),iconChar:"V"},L.id))})]},F))})]}),N=Y&&(m==null?void 0:m.name)===Y.name;return v.jsxs(vl,{sidebar:fe,children:[v.jsx(yl,{uploadedImage:J,generatedOutput:ee,isProcessing:_,hudContent:v.jsx(pc,{devourerStatus:N?`DNA_LOCKED: ${Y==null?void 0:Y.name.toUpperCase()}`:Y!=null&&Y.name?`DNA_LINKED: ${Y.name.toUpperCase()}`:E}),isValidationError:be,uiRefined:r,refinementLevel:a,onClear:()=>{B(null),ue(null),pe(null),I(null),Q(null),ie(""),C("STARVING")},onGenerate:ae,onFileUpload:U=>{const F=new FileReader;F.onload=L=>{var ce;B((ce=L.target)==null?void 0:ce.result),C("BUFFER_LOADED")},F.readAsDataURL(U)},downloadFilename:`hyperxgen_vector_${Date.now()}.png`}),v.jsx(gl,{prompt:z,setPrompt:ie,onGenerate:ae,isProcessing:_,activePresetName:(A==null?void 0:A.name)||(Y==null?void 0:Y.name),placeholder:"Describe subject for auto-blueprint...",useTurbo:t.useProModel,onToggleTurbo:x,additionalControls:Y&&v.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-3 py-1.5 rounded-sm border-2 transition-all text-[9px] font-black uppercase tracking-widest
                ${N?"border-brandRed bg-brandRed text-white shadow-lg":"border-brandCharcoal/20 text-brandCharcoal dark:border-white/20 dark:text-white/40 hover:border-brandRed"}`,title:N?"Release Global Anchor":"Set as Global Style Anchor",children:[v.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N?"bg-white animate-pulse":"bg-brandCharcoal/20 dark:bg-white/20"}`}),N?"ANCHORED":"ANCHOR"]}),refineButton:v.jsx("button",{onClick:W,disabled:_||j||!z.trim(),className:`p-3 bg-black/40 border border-white/10 text-brandYellow hover:text-white transition-all rounded-sm group ${j?"animate-pulse":""}`,title:"AI Prompt Refinement",children:v.jsx(fc,{className:`w-4 h-4 ${j?"animate-spin":"group-hover:scale-110"}`})})}),v.jsx(ss,{presets:S,activeId:M,onSelect:k})]})},AA=({initialData:i,kernelConfig:t,integrity:o,refinementLevel:a=0,uiRefined:r,onSaveToHistory:c,onModeSwitch:p,onSetGlobalDna:g,savedPresets:y=[],globalDna:m,onToggleTurbo:x})=>{const S=H.useMemo(()=>{let U=[Jn.TYPOGRAPHY.signature,...Jn.TYPOGRAPHY.libraries];if(Array.isArray(y)){const F=y.filter(L=>L&&(L.type===se.TYPOGRAPHY||L.mode===se.TYPOGRAPHY));if(F.length>0){const L={};F.forEach(ne=>{var ye,Se,qe;const te=ne.category||((ye=ne.dna)==null?void 0:ye.category)||"VAULT_ARCHIVES";L[te]||(L[te]=[]),L[te].push({id:ne.id||Math.random().toString(),name:ne.name||((Se=ne.dna)==null?void 0:Se.name)||"UNNAMED_DNA",type:ne.type||se.TYPOGRAPHY,description:ne.description||((qe=ne.dna)==null?void 0:qe.description)||"Extracted Style DNA",dna:ne.dna,prompt:ne.prompt})}),U=[...Object.entries(L).map(([ne,te])=>({title:`USER_${ne.toUpperCase()}`,items:te})),...U]}}return U},[y]),{status:E,isProcessing:_,transition:C}=cc(i!=null&&i.dna||m?"DNA_LINKED":"STARVING"),[M,I]=H.useState((i==null?void 0:i.id)||null),[A,Q]=H.useState(null),[J,B]=H.useState((i==null?void 0:i.imageUrl)||(i==null?void 0:i.uploadedImage)||null),[z,ie]=H.useState(""),[j,oe]=H.useState(!1),[ee,ue]=H.useState((i==null?void 0:i.generatedOutput)||null),[Y,pe]=H.useState((i==null?void 0:i.dna)||m||null),[be,ge]=H.useState(!1),Z=H.useRef(!1);H.useEffect(()=>{m&&(Y==null?void 0:Y.name)!==m.name&&(pe(m),C("DNA_LINKED"))},[m,Y,C]);const k=H.useCallback(U=>{if(_)return;if(M===U){I(null),Q(null);return}I(U);const F=S.flatMap(L=>L.items).find(L=>L.id===U);F&&(Q(F),F.dna&&(pe(F.dna),C("DNA_LINKED")),F.imageUrl&&B(F.imageUrl))},[S,_,C,M]),W=async()=>{if(!(!z.trim()||j)){oe(!0);try{const U=await uc(z,se.TYPOGRAPHY,t,Y||void 0);ie(U)}catch{console.error("Refinement failed")}finally{oe(!1)}}},P=()=>{if(!Y||_)return;const U=(m==null?void 0:m.name)===Y.name;g==null||g(U?null:Y)},ae=async()=>{if(Z.current)return;const U=z.trim()||"HYPER",F=[A==null?void 0:A.prompt,U].filter(Boolean).join(". ");Z.current=!0,C(Y?"DNA_STYLIZE_ACTIVE":"DEVOURING_BUFFER",!0),ge(!1);try{const L=await o0(F,J||void 0,t,Y||void 0);ue(L),C("LATTICE_ACTIVE"),c({id:`typo-${Date.now()}`,name:U.slice(0,15),description:"Geometric wordmark splicing",type:se.TYPOGRAPHY,generatedOutput:L,dna:Y||void 0,imageUrl:J,timestamp:new Date().toLocaleTimeString()})}catch(L){console.error(L),C("LATTICE_FAIL"),ge(!0)}finally{Z.current=!1}},fe=v.jsxs(v.Fragment,{children:[v.jsx(mc,{moduleNumber:"Module_02",title:"Typo_Splicer",version:"Neural Glyph Engine v3.4",colorClass:"text-brandYellow",borderColorClass:"border-brandYellow"}),v.jsx("div",{className:"space-y-8",children:S.map((U,F)=>v.jsxs("div",{className:"animate-in fade-in slide-in-left duration-500",style:{animationDelay:`${F*100}ms`},children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"w-1 h-3 bg-brandYellow rounded-full"}),v.jsx("h3",{className:"text-[9px] font-black uppercase text-brandCharcoal dark:text-white tracking-[0.25em]",children:U.title})]}),v.jsx("div",{className:"space-y-3",children:U.items.map(L=>v.jsx(dc,{name:L.name,description:L.description,isActive:M===L.id,onClick:()=>k(L.id),iconChar:"T"},L.id))})]},F))})]}),N=Y&&(m==null?void 0:m.name)===Y.name;return v.jsxs(vl,{sidebar:fe,children:[v.jsx(yl,{uploadedImage:J,generatedOutput:ee,isProcessing:_,hudContent:v.jsx(pc,{devourerStatus:N?`DNA_LOCKED: ${Y==null?void 0:Y.name.toUpperCase()}`:Y!=null&&Y.name?`DNA_LINKED: ${Y.name.toUpperCase()}`:E}),isValidationError:be,uiRefined:r,refinementLevel:a,onClear:()=>{B(null),ue(null),pe(null),I(null),Q(null),ie(""),C("STARVING")},onGenerate:ae,onFileUpload:U=>{const F=new FileReader;F.onload=L=>{var ce;B((ce=L.target)==null?void 0:ce.result),C("BUFFER_LOADED")},F.readAsDataURL(U)},downloadFilename:`hyperxgen_typo_${Date.now()}.png`}),v.jsx(gl,{prompt:z,setPrompt:ie,onGenerate:ae,isProcessing:_,activePresetName:(A==null?void 0:A.name)||(Y==null?void 0:Y.name),placeholder:"Enter text for neural glyph splicing...",useTurbo:t.useProModel,onToggleTurbo:x,additionalControls:Y&&v.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-3 py-1.5 rounded-sm border-2 transition-all text-[9px] font-black uppercase tracking-widest
                ${N?"border-brandRed bg-brandRed text-white shadow-lg":"border-brandCharcoal/20 text-brandCharcoal dark:border-white/20 dark:text-white/40 hover:border-brandRed"}`,title:N?"Release Global Anchor":"Set as Global Style Anchor",children:[v.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N?"bg-white animate-pulse":"bg-brandCharcoal/20 dark:bg-white/20"}`}),N?"ANCHORED":"ANCHOR"]}),refineButton:v.jsx("button",{onClick:W,disabled:_||j||!z.trim(),className:`p-3 bg-black/40 border border-white/10 text-brandYellow hover:text-white transition-all rounded-sm group ${j?"animate-pulse":""}`,title:"AI Prompt Refinement",children:v.jsx(fc,{className:`w-4 h-4 ${j?"animate-spin":"group-hover:scale-110"}`})})}),v.jsx(ss,{presets:S,activeId:M,onSelect:k})]})},NA=({initialData:i,kernelConfig:t,integrity:o,refinementLevel:a=0,uiRefined:r,onSaveToHistory:c,onModeSwitch:p,onSetGlobalDna:g,savedPresets:y=[],globalDna:m,onToggleTurbo:x})=>{const S=H.useMemo(()=>{let U=[Jn.MONOGRAM.signature,...Jn.MONOGRAM.libraries];if(Array.isArray(y)){const F=y.filter(L=>L&&(L.type===se.MONOGRAM||L.mode===se.MONOGRAM));if(F.length>0){const L={};F.forEach(ne=>{var ye,Se,qe;const te=ne.category||((ye=ne.dna)==null?void 0:ye.category)||"VAULT_ARCHIVES";L[te]||(L[te]=[]),L[te].push({id:ne.id||Math.random().toString(),name:ne.name||((Se=ne.dna)==null?void 0:Se.name)||"UNNAMED_DNA",type:ne.type||se.MONOGRAM,description:ne.description||((qe=ne.dna)==null?void 0:qe.description)||"Extracted Style DNA",dna:ne.dna,prompt:ne.prompt})}),U=[...Object.entries(L).map(([ne,te])=>({title:`USER_${ne.toUpperCase()}`,items:te})),...U]}}return U},[y]),{status:E,isProcessing:_,transition:C}=cc(i!=null&&i.dna||m?"DNA_LINKED":"STARVING"),[M,I]=H.useState((i==null?void 0:i.id)||null),[A,Q]=H.useState(null),[J,B]=H.useState((i==null?void 0:i.imageUrl)||(i==null?void 0:i.uploadedImage)||null),[z,ie]=H.useState(""),[j,oe]=H.useState(!1),[ee,ue]=H.useState((i==null?void 0:i.generatedOutput)||null),[Y,pe]=H.useState((i==null?void 0:i.dna)||m||null),[be,ge]=H.useState(!1),Z=H.useRef(!1);H.useEffect(()=>{m&&(Y==null?void 0:Y.name)!==m.name&&(pe(m),C("DNA_LINKED"))},[m,Y,C]);const k=H.useCallback(U=>{if(_)return;if(M===U){I(null),Q(null);return}I(U);const F=S.flatMap(L=>L.items).find(L=>L.id===U);F&&(Q(F),F.dna&&(pe(F.dna),C("DNA_LINKED")),F.imageUrl&&B(F.imageUrl))},[S,_,C,M]),W=async()=>{if(!(!z.trim()||j)){oe(!0);try{const U=await uc(z,se.MONOGRAM,t,Y||void 0);ie(U)}catch{console.error("Refinement failed")}finally{oe(!1)}}},P=()=>{if(!Y||_)return;const U=(m==null?void 0:m.name)===Y.name;g==null||g(U?null:Y)},ae=async()=>{if(Z.current)return;const U=z.trim()||"X",F=[A==null?void 0:A.prompt,U].filter(Boolean).join(". ");Z.current=!0,C(Y?"DNA_STYLIZE_ACTIVE":"DEVOURING_BUFFER",!0),ge(!1);try{const L=await o0(F.slice(0,10),J||void 0,t,Y||void 0);ue(L),C("LATTICE_ACTIVE"),c({id:`mono-${Date.now()}`,name:U,description:"Geometric monogram seal",type:se.MONOGRAM,generatedOutput:L,dna:Y||void 0,imageUrl:J,timestamp:new Date().toLocaleTimeString()})}catch(L){console.error(L),C("LATTICE_FAIL"),ge(!0)}finally{Z.current=!1}},fe=v.jsxs(v.Fragment,{children:[v.jsx(mc,{moduleNumber:"Module_03",title:"Seal_Architect",version:"Geometric Monogram core v5.0",colorClass:"text-brandCharcoalMuted dark:text-white/60",borderColorClass:"border-brandCharcoal dark:border-white/20"}),v.jsx("div",{className:"space-y-8",children:S.map((U,F)=>v.jsxs("div",{className:"animate-in fade-in slide-in-left duration-500",style:{animationDelay:`${F*100}ms`},children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("div",{className:"w-1 h-3 bg-brandCharcoal dark:bg-white/40 rounded-full"}),v.jsx("h3",{className:"text-[9px] font-black uppercase text-brandCharcoal dark:text-white tracking-[0.25em]",children:U.title})]}),v.jsx("div",{className:"space-y-3",children:U.items.map(L=>v.jsx(dc,{name:L.name,description:L.description,isActive:M===L.id,onClick:()=>k(L.id),iconChar:"M"},L.id))})]},F))})]}),N=Y&&(m==null?void 0:m.name)===Y.name;return v.jsxs(vl,{sidebar:fe,children:[v.jsx(yl,{uploadedImage:J,generatedOutput:ee,isProcessing:_,hudContent:v.jsx(pc,{devourerStatus:N?`DNA_LOCKED: ${Y==null?void 0:Y.name.toUpperCase()}`:Y!=null&&Y.name?`DNA_LINKED: ${Y.name.toUpperCase()}`:E}),isValidationError:be,uiRefined:r,refinementLevel:a,onClear:()=>{B(null),ue(null),pe(null),I(null),Q(null),ie(""),C("STARVING")},onGenerate:ae,onFileUpload:U=>{const F=new FileReader;F.onload=L=>{var ce;B((ce=L.target)==null?void 0:ce.result),C("BUFFER_LOADED")},F.readAsDataURL(U)},downloadFilename:`hyperxgen_monogram_${Date.now()}.png`}),v.jsx(gl,{prompt:z,setPrompt:ie,onGenerate:ae,isProcessing:_,activePresetName:(A==null?void 0:A.name)||(Y==null?void 0:Y.name),placeholder:"Enter letters for monogram seal...",useTurbo:t.useProModel,onToggleTurbo:x,additionalControls:Y&&v.jsxs("button",{onClick:P,className:`flex items-center gap-2 px-3 py-1.5 rounded-sm border-2 transition-all text-[9px] font-black uppercase tracking-widest
                ${N?"border-brandRed bg-brandRed text-white shadow-lg":"border-brandCharcoal/20 text-brandCharcoal dark:border-white/20 dark:text-white/40 hover:border-brandRed"}`,title:N?"Release Global Anchor":"Set as Global Style Anchor",children:[v.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${N?"bg-white animate-pulse":"bg-brandCharcoal/20 dark:bg-white/20"}`}),N?"ANCHORED":"ANCHOR"]}),refineButton:v.jsx("button",{onClick:W,disabled:_||j||!z.trim(),className:`p-3 bg-black/40 border border-white/10 text-brandYellow hover:text-white transition-all rounded-sm group ${j?"animate-pulse":""}`,title:"AI Prompt Refinement",children:v.jsx(fc,{className:`w-4 h-4 ${j?"animate-spin":"group-hover:scale-110"}`})})}),v.jsx(ss,{presets:S,activeId:M,onSelect:k})]})},og=80,RA=({initialData:i,onSaveToHistory:t,onSaveToPresets:o,onDeletePreset:a,savedPresets:r=[],kernelConfig:c,integrity:p,refinementLevel:g=0,uiRefined:y,onModeSwitch:m,onSetGlobalDna:x,activeGlobalDna:S,onCommitPreset:E})=>{const[_,C]=H.useState((i==null?void 0:i.uploadedImage)||(i==null?void 0:i.imageUrl)||null),[M,I]=H.useState(!1),[A,Q]=H.useState((i==null?void 0:i.dna)||null),[J,B]=H.useState(i!=null&&i.dna?"DNA_HARVESTED":"IDLE"),z=H.useRef(null),ie=H.useRef(!1),j=H.useMemo(()=>Array.isArray(r)?r.filter(P=>P&&P.dna):[],[r]),oe=H.useMemo(()=>A?j.some(P=>{var ae,fe;return((ae=P.dna)==null?void 0:ae.name)===A.name&&((fe=P.dna)==null?void 0:fe.domain)===A.domain}):!1,[A,j]),ee=H.useMemo(()=>A&&A.styleAuthenticityScore>=og,[A]);H.useEffect(()=>{(i!=null&&i.uploadedImage||i!=null&&i.imageUrl)&&(C(i.uploadedImage||i.imageUrl),i.dna&&(Q(i.dna),B("DNA_HARVESTED")))},[i]);const ue=H.useCallback(async()=>{if(!ie.current){if(!_){B("CRITICAL: NO_BUFFER");return}I(!0),ie.current=!0,Q(null),B("SCANNING_BUFFER"),await new Promise(P=>setTimeout(P,700)),B("PERFORMING_FORENSIC_AUDIT"),await new Promise(P=>setTimeout(P,1200)),B("ASSESSING_AUTHENTICITY"),await new Promise(P=>setTimeout(P,1500));try{const P=await yA(_,c);Q(P),P.styleAuthenticityScore>=og?B("DNA_HARVESTED"):B("AUTHENTICITY_LOW"),t==null||t({name:P.name,type:se.EXTRACTOR,uploadedImage:_,dna:P})}catch(P){console.error(P),B("AUDIT_FAILED")}finally{I(!1),ie.current=!1}}},[_,c,t]),Y=()=>{if(!A||M||!ee)return;let P;switch(A.domain){case"Vector":P=se.VECTOR;break;case"Typography":P=se.TYPOGRAPHY;break;case"Monogram":P=se.MONOGRAM;break;default:P=se.EXTRACTOR}o==null||o({id:`dna-${A.name}-${Date.now()}`,name:A.name,type:P,description:`${A.name} Blueprint (${A.domain}): ${A.description}`,dna:{...A,preview_png:void 0},category:A.category,timestamp:new Date().toLocaleTimeString(),isBlueprint:!0}),B("FILE_COMMITTED"),E==null||E()},pe=()=>{if(!A)return;const P=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),ae=URL.createObjectURL(P),fe=document.createElement("a");fe.href=ae,fe.download=`${A.name.replace(/\s+/g,"_")}_DNA_PROFILE.json`,document.body.appendChild(fe),fe.click(),document.body.removeChild(fe),URL.revokeObjectURL(ae)},be=P=>{var N;const ae=(N=P.target.files)==null?void 0:N[0];if(!ae)return;const fe=new FileReader;fe.onload=U=>{var F;try{const L=JSON.parse((F=U.target)==null?void 0:F.result);L.domain&&L.parameters&&typeof L.styleAuthenticityScore=="number"?(Q(L),B("DNA_IMPORTED")):B("IMPORT_ERROR: INVALID_SCHEMA")}catch{B("IMPORT_ERROR: INVALID_SCHEMA")}},fe.readAsText(ae)},ge=()=>{!A||M||!ee||x==null||x(k?null:A)},Z=P=>{!A||M||!ee||(x==null||x(A),m(P,{dna:A,isPresetLoad:!0}))},k=(S==null?void 0:S.name)===(A==null?void 0:A.name)&&(S==null?void 0:S.domain)===(A==null?void 0:A.domain);return v.jsxs(vl,{sidebar:null,children:[v.jsx(yl,{uploadedImage:_,generatedOutput:null,isProcessing:M,hudContent:v.jsx(bA,{reconStatus:J,authenticityScore:A==null?void 0:A.styleAuthenticityScore}),isValidationError:J.includes("FAILED")||J.includes("CRITICAL"),uiRefined:y,refinementLevel:g,onClear:()=>{M||(C(null),Q(null),B("IDLE"))},onGenerate:ue,onFileUpload:P=>{if(M)return;const ae=new FileReader;ae.onload=fe=>{var N;C((N=fe.target)==null?void 0:N.result),B("IMAGE_LOADED_FOR_ANALYSIS"),Q(null)},ae.readAsDataURL(P)},downloadFilename:`hyperxgen_extract_${Date.now()}.png`}),v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[v.jsxs("button",{onClick:Y,disabled:!A||M||oe||!ee,className:`flex-1 flex items-center justify-center gap-2 py-4 text-[10px] font-black uppercase transition-all border-2 rounded-sm
                ${oe?"border-green-500 bg-green-500/10 text-green-500 cursor-default":A&&!M&&ee?"border-brandRed bg-brandRed text-white shadow-lg":"border-brandCharcoal/10 text-brandCharcoalSoft cursor-not-allowed opacity-50"}
              `,title:oe?"Blueprint already installed":ee?"Install extracted DNA as a system blueprint, usable across all synthesis panels, and commit to cloud storage":"Authenticity too low to install blueprint",children:[v.jsx(ro,{className:`w-3.5 h-3.5 ${oe?"fill-current":""}`}),oe?"BLUEPRINT_INSTALLED":"INSTALL_DNA_BLUEPRINT"]}),v.jsx("button",{onClick:ge,disabled:!A||M||!ee,className:`flex-1 flex items-center justify-center gap-2 py-4 text-[10px] font-black uppercase transition-all border-2 rounded-sm
                ${k?"border-brandYellow bg-brandYellow text-brandCharcoal shadow-lg":A&&!M&&ee?"border-brandCharcoal bg-transparent text-brandCharcoal dark:text-white":"border-brandCharcoal/10 text-brandCharcoalSoft cursor-not-allowed opacity-50"}
              `,title:k?"Release Global Style Anchor":ee?"Set Extracted DNA as Global Style Anchor for all synthesis modes":"Authenticity too low to set global anchor",children:k?"ANCHOR_ENGAGED":"SET_GLOBAL_DNA_ANCHOR"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:pe,disabled:!A,title:"Export DNA Profile (.json)","aria-label":"Export DNA Profile as JSON file",className:"w-12 h-full flex items-center justify-center border-2 border-brandCharcoal dark:border-white/10 text-brandCharcoal dark:text-white hover:border-brandRed hover:text-brandRed transition-all rounded-sm disabled:opacity-20",children:v.jsx(a0,{className:"w-4 h-4"})}),v.jsx("button",{onClick:()=>{var P;return(P=z.current)==null?void 0:P.click()},title:"Import DNA Profile (.json)","aria-label":"Import DNA Profile from JSON file",className:"w-12 h-full flex items-center justify-center border-2 border-brandCharcoal dark:border-white/10 text-brandCharcoal dark:text-white hover:border-brandYellow hover:text-brandYellow transition-all rounded-sm",children:v.jsx(TA,{className:"w-4 h-4"})}),v.jsx("input",{ref:z,type:"file",accept:".json",onChange:be,className:"hidden"})]})]}),A&&(ee||J==="AUTHENTICITY_LOW")&&v.jsxs("div",{className:"animate-in slide-in-up duration-500",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx("div",{className:"bg-brandCharcoal text-brandYellow text-[9px] font-black uppercase px-3 py-1 border-l-4 border-brandRed rounded-sm",children:"SYNTHESIS_JUMP"}),v.jsx("div",{className:"h-[1px] flex-1 bg-brandCharcoal/10 dark:bg-white/5"})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[v.jsxs("button",{onClick:()=>Z(se.VECTOR),disabled:M||!ee,className:`flex-1 flex items-center justify-center gap-2 py-3 text-[10px] font-black uppercase transition-all border-2 rounded-sm 
                    ${ee?"border-brandCharcoal/20 text-brandCharcoal dark:text-white/60 hover:border-brandRed hover:text-brandRed":"border-brandCharcoal/10 text-brandCharcoalSoft cursor-not-allowed opacity-50"}
                  `,title:ee?"Apply DNA to Vector Synthesis":"Authenticity too low for synthesis",children:[v.jsx($a,{className:"w-4 h-4"})," VECTOR"]}),v.jsxs("button",{onClick:()=>Z(se.TYPOGRAPHY),disabled:M||!ee,className:`flex-1 flex items-center justify-center gap-2 py-3 text-[10px] font-black uppercase transition-all border-2 rounded-sm
                    ${ee?"border-brandCharcoal/20 text-brandCharcoal dark:text-white/60 hover:border-brandYellow hover:text-brandYellow":"border-brandCharcoal/10 text-brandCharcoalSoft cursor-not-allowed opacity-50"}
                  `,title:ee?"Apply DNA to Typography Synthesis":"Authenticity too low for synthesis",children:[v.jsx(Qa,{className:"w-4 h-4"})," TYPO"]}),v.jsxs("button",{onClick:()=>Z(se.MONOGRAM),disabled:M||!ee,className:`flex-1 flex items-center justify-center gap-2 py-3 text-[10px] font-black uppercase transition-all border-2 rounded-sm
                    ${ee?"border-brandCharcoal/20 text-brandCharcoal dark:text-white/60 hover:border-brandCharcoal dark:hover:text-white":"border-brandCharcoal/10 text-brandCharcoalSoft cursor-not-allowed opacity-50"}
                  `,title:ee?"Apply DNA to Monogram Synthesis":"Authenticity too low for synthesis",children:[v.jsx(Za,{className:"w-4 h-4"})," MONO"]})]})]}),v.jsx(gl,{onGenerate:ue,isProcessing:M,placeholder:"Image buffer ready. Initiate forensic audit...",activePresetName:A==null?void 0:A.name}),A&&v.jsxs("div",{className:"animate-in slide-in-up duration-500 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-brandCharcoal text-brandNeutral p-6 sm:p-8 border-t-8 border-brandRed shadow-2xl rounded-sm flex flex-col justify-between relative",children:[v.jsxs("div",{children:[v.jsx("div",{className:"flex justify-between items-start mb-6",children:v.jsxs("div",{children:[v.jsx("h3",{className:"text-2xl sm:text-3xl font-black italic uppercase tracking-tighter leading-none mb-2",children:A.name}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("span",{className:"text-[8px] font-black bg-brandRed text-white px-2 py-0.5 rounded-sm",children:A.domain.toUpperCase()}),v.jsx("span",{className:"text-[8px] font-black bg-white/10 px-2 py-0.5 rounded-sm border border-white/5",children:A.category.toUpperCase()})]})]})}),v.jsx("p",{className:"text-[11px] font-bold uppercase leading-relaxed text-brandNeutral/80 italic border-l-4 border-brandRed pl-4 mb-8",children:A.description})]}),v.jsx("div",{children:v.jsxs("div",{className:"mb-6",children:[v.jsx("span",{className:"text-[8px] font-black uppercase tracking-[0.3em] text-white/30 block mb-3",children:"SYNTHETIC_PALETTE"}),v.jsx("div",{className:"flex gap-1.5",children:A.palette.map((P,ae)=>v.jsx("div",{className:"w-8 h-8 rounded-sm border border-white/10 shadow-lg group relative",style:{backgroundColor:P},children:v.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-black text-[7px] font-mono px-1 opacity-0 group-hover:opacity-100 transition-opacity uppercase",children:P})},ae))})]})}),v.jsxs("button",{onClick:Y,disabled:!A||M||oe||!ee,className:`absolute bottom-4 right-4 p-2 rounded-sm transition-all flex items-center gap-1 shadow-md
                    ${oe?"bg-green-500/10 text-green-500 cursor-default":A&&!M&&ee?"bg-white/5 text-brandYellow hover:bg-brandRed hover:text-white shadow-[0_0_15px_rgba(250,189,13,0.3)]":"text-brandCharcoalMuted/40 cursor-not-allowed opacity-50 shadow-[0_0_10px_rgba(250,189,13,0.1)]"}
                  `,title:oe?"Blueprint already installed":ee?"Save extracted DNA as a system blueprint":"Authenticity too low to install blueprint",children:[v.jsx(ro,{className:"w-3 h-3"}),v.jsx("span",{className:"text-[8px] font-black uppercase",children:"SAVE"})]})]}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 border-2 border-brandCharcoal dark:border-white/10 p-6 sm:p-8 rounded-sm shadow-xl flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(ml,{className:`w-5 h-5 ${A.domain==="Typography"?"text-brandRed":A.domain==="Vector"?"text-brandYellow":(A.domain==="Monogram","text-brandCharcoalMuted dark:text-white/60")}`}),v.jsxs("h4",{className:"text-xs font-black uppercase tracking-[0.2em] text-brandCharcoal dark:text-white",children:[A.domain,"_DNA_METRICS"]})]}),v.jsxs("span",{className:"text-[8px] font-mono opacity-30 tracking-tighter",children:["REF: ",A.domain==="Typography"?"GLYPH_V5":A.domain==="Vector"?"VECTOR_V5":A.domain==="Monogram"?"MONO_V5":"UNKNOWN_REF"]})]}),v.jsx("div",{className:"space-y-6 flex-1 flex flex-col justify-center",children:Object.entries(A.parameters).map(([P,ae])=>{let fe;return A.domain==="Typography"?fe="bg-brandRed":A.domain==="Vector"?fe="bg-brandYellow":fe="bg-brandCharcoalMuted dark:bg-white/60",v.jsxs("div",{className:"group space-y-2",children:[v.jsxs("div",{className:"flex justify-between items-center text-[9px] font-black uppercase tracking-widest",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-1 h-1 rounded-full transition-all duration-500 ${Number(ae)>75?fe+" animate-ping":"bg-brandCharcoal/20"}`}),v.jsx("span",{className:"text-brandCharcoal/40 dark:text-white/40 group-hover:text-brandCharcoal dark:group-hover:text-white transition-colors",children:P.replace(/_/g," ")})]}),v.jsxs("span",{className:`font-mono ${Number(ae)>80?"text-brandRed":"text-brandCharcoal dark:text-white"}`,children:[ae,"%"]})]}),v.jsx("div",{className:"h-1.5 bg-brandCharcoal/5 dark:bg-white/5 rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full transition-all duration-1000 ease-out ${fe} shadow-[0_0_8px_rgba(0,0,0,0.1)]`,style:{width:`${ae}%`}})})]},P)})}),v.jsxs("div",{className:"mt-8 pt-6 border-t border-brandCharcoal/5 dark:border-white/5 flex items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[7px] font-black uppercase text-brandCharcoalMuted dark:text-white/20",children:"Identification_Level"}),v.jsxs("span",{className:"text-lg font-black italic text-brandCharcoal dark:text-white",children:[(A.confidence*100).toFixed(1),"%"]})]}),v.jsxs("div",{className:"flex flex-col items-end",children:[v.jsx("span",{className:"text-[7px] font-black uppercase text-brandCharcoalMuted dark:text-white/20",children:"Protocol"}),v.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${A.domain==="Typography"?"text-brandRed":A.domain==="Vector"?"text-brandYellowDark":(A.domain==="Monogram","text-brandCharcoalMuted dark:text-white/60")}`,children:A.domain==="Typography"?"GLYPH_SYNTAX":A.domain==="Vector"?"GEOMETRIC_LATTICE":A.domain==="Monogram"?"MONOGRAM_LATTICE":"UNKNOWN_PROTOCOL"})]})]})]})]}),v.jsxs("div",{className:"pb-16 mt-8",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("div",{className:"bg-brandCharcoal text-brandYellow text-[9px] font-black uppercase px-3 py-1 border-l-4 border-brandRed rounded-sm",children:"SYSTEM_FILES_LATTICE"}),v.jsx("div",{className:"h-[1px] flex-1 bg-brandCharcoal/10 dark:bg-white/5"}),v.jsxs("span",{className:"text-[8px] font-bold text-brandCharcoalSoft dark:text-white/40 uppercase tracking-widest",children:[j.length," BLUEPRINTS"]})]}),j.length===0?v.jsxs("div",{className:"p-10 border-2 border-dashed border-brandCharcoal/10 dark:border-white/10 rounded-sm flex flex-col items-center justify-center opacity-30",children:[v.jsx(fl,{className:"w-8 h-8 mb-3"}),v.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:"AWAITING_SYSTEM_FILE_COMMITS"})]}):v.jsx("div",{className:"grid grid-cols-2 xs:grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:j.map(P=>v.jsxs("div",{className:`group relative h-24 flex flex-col items-center justify-center text-center p-3 border-2 transition-all duration-300 rounded-sm cursor-pointer
                      ${(S==null?void 0:S.name)===P.dna.name&&(S==null?void 0:S.domain)===P.dna.domain?"border-brandRed bg-brandRed/5 shadow-md":"bg-white dark:bg-zinc-800 border-brandCharcoal/10 dark:border-white/10 hover:border-brandRed hover:-translate-y-1.5"}`,onClick:()=>{M||(Q(P.dna),B("DNA_LOADED_FROM_FILE"))},children:[v.jsx("button",{onClick:ae=>{ae.stopPropagation(),a==null||a(P.id)},className:"absolute top-1 right-1 p-1 opacity-0 group-hover:opacity-100 hover:text-brandRed transition-opacity","aria-label":`Delete DNA preset ${P.dna.name}`,children:v.jsx(l0,{className:"w-3 h-3"})}),v.jsxs("div",{className:"flex flex-col items-center w-full",children:[v.jsxs("div",{className:`w-8 h-8 flex items-center justify-center rounded-sm font-black text-[10px] mb-2 shadow-inner
                        bg-brandRed/10 text-brandRed`,children:[" ",v.jsx(ro,{className:"w-4 h-4"})," "]}),v.jsx("span",{className:`text-[9px] font-black uppercase tracking-tight truncate w-full px-1
                        ${(S==null?void 0:S.name)===P.dna.name&&(S==null?void 0:S.domain)===P.dna.domain?"text-brandRed":"text-brandCharcoal dark:text-brandYellow"}`,children:P.name})]})]},P.id))})]})]})]})},wA=(i,t,o,a,r)=>new Promise(c=>{const p=document.createElement("canvas"),g=p.getContext("2d"),y=new Image;y.crossOrigin="anonymous",y.onload=()=>{p.width=y.width,p.height=y.height,g?(g.filter=`brightness(${t}%) contrast(${o}%) saturate(${a}%) ${r}`,g.drawImage(y,0,0),c(p.toDataURL("image/png"))):c(i)},y.src=i}),MA=({onSaveToHistory:i,integrity:t,refinementLevel:o=0,uiRefined:a,kernelConfig:r})=>{const[c,p]=H.useState(null),[g,y]=H.useState(null),[m,x]=H.useState(!1),[S,E]=H.useState("IDLE"),[_,C]=H.useState(100),[M,I]=H.useState(100),[A,Q]=H.useState(100),[J,B]=H.useState(null),z=H.useRef(!1),ie=H.useMemo(()=>[Jn.FILTERS.signature,...Jn.FILTERS.libraries],[]),j=H.useCallback(async()=>{if(!(z.current||!c)){x(!0),z.current=!0,E("APPLYING_TRANSFORMATION...");try{const oe=ie.flatMap(Y=>Y.items).find(Y=>Y.id===J),ee=(oe==null?void 0:oe.filter)||"",ue=await wA(c,_,M,A,ee);y(ue),E("TRANSFORMATION_COMPLETE")}catch(oe){console.error(oe),E("TRANSFORMATION_FAILED")}finally{x(!1),z.current=!1}}},[c,_,M,A,J,ie]);return v.jsxs(vl,{sidebar:null,children:[v.jsx(yl,{uploadedImage:c,generatedOutput:g,isProcessing:m,hudContent:v.jsx(_A,{filterStatus:S}),isValidationError:!1,uiRefined:a,refinementLevel:o,onClear:()=>{m||(p(null),y(null),B(null),E("IDLE"))},onGenerate:j,onFileUpload:oe=>{if(m)return;const ee=new FileReader;ee.onload=ue=>{var pe;const Y=(pe=ue.target)==null?void 0:pe.result;p(Y),y(Y),E("BUFFER_LOADED")},ee.readAsDataURL(oe)},downloadFilename:`hyperxgen_filter_${Date.now()}.png`}),v.jsxs("div",{className:"flex flex-col gap-6",children:[v.jsx(gl,{onGenerate:j,isProcessing:m,additionalControls:v.jsx("div",{className:"flex-1 flex items-center gap-6 py-2 min-w-0",children:[{label:"B",val:_,set:C},{label:"C",val:M,set:I},{label:"S",val:A,set:Q}].map(oe=>v.jsxs("div",{className:"flex-1 flex flex-col gap-1.5 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-center px-1",children:[v.jsx("span",{className:"text-[10px] font-black text-brandCharcoal dark:text-white tracking-widest",children:oe.label}),v.jsxs("span",{className:"text-[10px] font-mono font-black text-brandRed drop-shadow-sm",children:[oe.val,"%"]})]}),v.jsx("div",{className:"relative flex items-center h-4",children:v.jsx("input",{type:"range",min:"0",max:"200",value:oe.val,disabled:m,onChange:ee=>oe.set(parseInt(ee.target.value)),className:"w-full h-2 bg-brandCharcoalMuted/30 border border-white/10 rounded-full appearance-none accent-brandRed cursor-pointer disabled:opacity-50 transition-colors hover:bg-white/20"})})]},oe.label))})}),v.jsx(ss,{presets:ie,activeId:J,onSelect:oe=>!m&&B(oe)})]})]})},IA=()=>{const[i,t]=H.useState(!0),[o,a]=H.useState([]),r=[{label:"ACCESSIBILITY (axe-core)",score:98,status:"OPTIMAL",description:"ARIA parity achieved across all synthesis modules."},{label:"PERFORMANCE (Lighthouse)",score:84,status:"WARNING",description:"Lattice rendering overhead detected in complex vectors."},{label:"STYLE INTEGRITY (Stylelint)",score:92,status:"OPTIMAL",description:"Zero specificity collisions in typography layers."},{label:"LATTICE DENSITY (Analyzer)",score:45,status:"OPTIMAL",description:"Memory buffer operating at 45% DNA saturation."}];return H.useEffect(()=>{const c=setTimeout(()=>t(!1),2e3),p=setInterval(()=>{const g=Math.random().toString(16).substr(2,8).toUpperCase();a(y=>[`LOG_SYNC_${g}: OK`,...y.slice(0,15)])},200);return()=>{clearTimeout(c),clearInterval(p)}},[]),v.jsxs(s0,{children:[v.jsxs("header",{className:"mb-12 border-l-4 border-brandRed pl-6",children:[v.jsx("h2",{className:"text-4xl font-black italic uppercase tracking-tighter mb-2 text-brandCharcoal dark:text-white",children:"Synthesis_Compliance_Audit"}),v.jsx("p",{className:"text-[10px] opacity-40 uppercase tracking-[0.3em] text-brandCharcoalMuted dark:text-white/40",children:"Full forensic scan of kernel architecture and design fidelity."})]}),i?v.jsxs("div",{className:"h-[50vh] flex flex-col items-center justify-center space-y-6",children:[v.jsx("div",{className:"w-16 h-16 border-4 border-brandRed border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-brandRed text-[10px] font-black uppercase tracking-widest animate-pulse italic",children:"Engaging_Axe-Core_Lattice_Scan..."})]}):v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[v.jsx("div",{className:"space-y-6",children:r.map((c,p)=>v.jsxs("div",{className:"bg-brandCharcoal dark:bg-black/40 border border-white/5 p-6 rounded-sm group hover:border-brandRed transition-all",children:[v.jsxs("div",{className:"flex justify-between items-end mb-4",children:[v.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest text-brandCharcoalMuted dark:text-white/40",children:c.label}),v.jsxs("div",{className:`text-2xl font-black italic ${c.status==="CRITICAL"?"text-brandRed":c.status==="WARNING"?"text-brandYellow":"text-green-400"}`,children:[c.score,"%"]})]}),v.jsx("div",{className:"h-1 bg-white/5 w-full mb-4",children:v.jsx("div",{className:`h-full transition-all duration-1000 ${c.status==="CRITICAL"?"bg-brandRed":c.status==="WARNING"?"bg-brandYellow":"bg-green-400"}`,style:{width:`${c.score}%`}})}),v.jsx("p",{className:"text-[9px] font-bold text-brandCharcoalSoft dark:text-white/60 uppercase leading-relaxed",children:c.description})]},p))}),v.jsxs("div",{className:"bg-brandCharcoal dark:bg-black p-6 border border-brandRed/20 rounded-sm flex flex-col",children:[v.jsxs("div",{className:"text-[10px] font-black uppercase text-brandRed mb-4 tracking-widest border-b border-brandRed/10 pb-2 flex justify-between",children:[v.jsx("span",{children:"Real-Time_Telemetry"}),v.jsx("span",{className:"animate-pulse",children:"LIVE"})]}),v.jsx("div",{className:"flex-1 overflow-hidden font-mono text-[9px] text-brandRed/60 space-y-1",children:o.map((c,p)=>v.jsx("div",{className:"animate-in slide-in-from-left duration-200",children:c},p))}),v.jsx("div",{className:"mt-6 pt-6 border-t border-brandRed/10",children:v.jsxs("div",{className:"flex justify-between items-center text-[10px] font-black italic",children:[v.jsx("span",{className:"text-white/40",children:"SYSTEM_STABILITY"}),v.jsx("span",{className:"text-brandYellow",children:"99.98%"})]})})]})]})]})},UA=`
import React, { useState } from 'react';

interface InputAreaProps {
  onSendMessage: (message: string) => void;
  isLoading: boolean;
}

const InputArea: React.FC<InputAreaProps> = ({ onSendMessage, isLoading }) => {
  const [input, setInput] = useState<string>('');

  const handleInputChange = (event: React.ChangeEvent<HTMLTextAreaElement>) => {
    setInput(event.target.value);
  };

  const handleSend = () => {
    if (input.trim() && !isLoading) {
      onSendMessage(input.trim());
      setInput('');
    }
  };

  const handleKeyPress = (event: React.KeyboardEvent<HTMLTextAreaElement>) => {
    if (event.key === 'Enter' && !event.shiftKey) {
      event.preventDefault(); // Prevent new line
      handleSend();
    }
  };

  return (
    <div className="p-4 bg-gray-50 border-t border-gray-200 sticky bottom-0 z-10 flex flex-col md:flex-row items-center gap-2">
      <textarea
        className="flex-1 p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none text-sm sm:text-base transition duration-150 ease-in-out h-12 overflow-hidden md:h-auto md:max-h-24"
        placeholder="Type your message here..."
        value={input}
        onChange={handleInputChange}
        onKeyPress={handleKeyPress}
        disabled={isLoading}
        rows={1}
        style={{ minHeight: '3rem' }}
      />
      <button
        onClick={handleSend}
        disabled={isLoading || !input.trim()}
        className={\`px-6 py-2 rounded-lg text-white font-semibold transition duration-150 ease-in-out w-full md:w-auto
          \${isLoading || !input.trim() ? 'bg-blue-300 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50'}\`}
      >
        {isLoading ? (
          <svg className="animate-spin h-5 w-5 text-white mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
        ) : (
          'Send'
        )}
      </button>
    </div>
  );
};

export default InputArea;
`,Du={CRITICAL:30,HIGH:20,MEDIUM:10,LOW:5,INFO:2},lg={VISUAL:"#FD1E4A",PERFORMANCE:"#3B82F6",ACCESSIBILITY:"#F59E0B",MAINTAINABILITY:"#8B5CF6"},ag={CSS:"#8B5CF6",Accessibility:"#F59E0B",Performance:"#3B82F6",TypeScript:"#3178C6",React:"#61DAFB"},DA=({onComplete:i,mode:t="ALL",autoRefresh:o=!1,refreshInterval:a=15})=>{const[r,c]=H.useState([]),[p,g]=H.useState(!0),[y,m]=H.useState(0),[x,S]=H.useState(null),[E,_]=H.useState([]),[C,M]=H.useState(a),[I]=H.useState(Date.now()),[A,Q]=H.useState([]),J=H.useRef(null),B=H.useCallback((Z,k="info")=>{_(W=>[{message:Z,type:k,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})},...W.slice(0,9)])},[]),z=H.useCallback(async()=>{g(!0),m(0),c([]),B(`Starting AI code scan in ${t} mode`,"info");const Z=[{name:"Preparing code for analysis...",duration:500,progress:10},{name:"Sending to Gemini Pro model...",duration:1e3,progress:30},{name:"AI is analyzing for issues...",duration:2e3,progress:70},{name:"Receiving and parsing results...",duration:500,progress:90}];for(const W of Z)await new Promise(P=>setTimeout(P,W.duration)),m(W.progress),B(W.name,"info");const k=await xA(UA);c(k),m(100),g(!1),B(`Scan complete. Found ${k.length} potential refinements.`,k.length>0?"warning":"success")},[t,B]),ie=H.useCallback(Z=>{c(k=>{if(!Array.isArray(k))return console.error("Attempted to fix issue on non-array 'issues' state."),B("CRITICAL: STATE CORRUPTION DETECTED. Resetting issues.","error"),[];const W=k.find(P=>P.id===Z);return W?W.canAutoFix?(B(`Fixing: ${W.title} in ${W.file}`,"success"),Q(P=>[...P,Z]),k.map(P=>P.id===Z?{...P,fixed:!0}:P)):(B(`Cannot auto-fix: ${W.title} (requires manual intervention)`,"warning"),k):k}),S(null)},[B]),j=H.useCallback(()=>{if(!Array.isArray(r)){console.error("Attempted to bulk fix on non-array 'issues' state."),B("CRITICAL: STATE CORRUPTION DETECTED. Cannot bulk fix.","error");return}const Z=r.filter(k=>k.canAutoFix&&!k.fixed);if(Z.length===0){B("No auto-fixable issues remaining","info");return}B(`Attempting to fix ${Z.length} issues...`,"info"),Z.forEach((k,W)=>{setTimeout(()=>{ie(k.id)},W*300)})},[r,ie,B]),oe=H.useCallback(()=>{if(!Array.isArray(r))return console.error("calculateSummary called with non-array 'issues'. Returning default summary."),{totalIssues:0,resolvedIssues:0,performanceGain:0,visualScore:0,totalTime:(Date.now()-I)/1e3,mode:t,uxScore:0,aestheticCohesionIndex:0};const Z=(Date.now()-I)/1e3,k=r.filter(L=>L.fixed).length,W=r.length,P=r.reduce((L,ce)=>L+(ce.fixed?Du[ce.severity]:0),0),ae=r.reduce((L,ce)=>L+Du[ce.severity],0),fe=r.filter(L=>L.impact==="PERFORMANCE"&&L.fixed).length*12,N=Math.max(0,100-r.filter(L=>L.impact==="ACCESSIBILITY"&&!L.fixed).length*15),U=Math.max(0,100-r.filter(L=>L.impact==="VISUAL"&&!L.fixed).length*10),F=ae>0?Math.round(P/ae*100):100;return{totalIssues:W,resolvedIssues:k,performanceGain:fe,visualScore:U,totalTime:Z,mode:t,uxScore:N,aestheticCohesionIndex:F}},[r,I,t]),ee=H.useCallback(()=>{const Z=oe();B(`Diagnostic complete: ${Z.resolvedIssues}/${Z.totalIssues} issues fixed`,"success"),i(Z)},[oe,i,B]),ue=H.useCallback(()=>{o&&(J.current&&clearInterval(J.current),M(a),J.current=setInterval(()=>{M(Z=>Z<=1?(J.current&&clearInterval(J.current),B("Auto-refresh: Starting new scan","info"),z(),a):Z-1)},1e3))},[o,a,z,B]);if(H.useEffect(()=>{z()},[z]),H.useEffect(()=>(!p&&o&&ue(),()=>{J.current&&clearInterval(J.current)}),[p,o,ue]),p)return v.jsxs("div",{className:"fixed inset-0 z-[500] bg-brandNeutral dark:bg-brandDeep flex flex-col items-center justify-center",children:[v.jsxs("div",{className:"w-32 h-32 relative mb-8",children:[v.jsx("div",{className:"absolute inset-0 border-4 border-brandYellow/20 rounded-full"}),v.jsx("div",{className:"absolute inset-0 border-4 border-brandYellow border-t-transparent rounded-full animate-spin",style:{animationDuration:"1.5s"}}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsxs("div",{className:"text-2xl font-black text-brandYellow",children:[Math.round(y),"%"]})})]}),v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("h2",{className:"text-xl font-black uppercase tracking-widest text-brandYellow",children:"Scanning Real Codebase"}),v.jsxs("p",{className:"text-brandCharcoalMuted dark:text-white/70 max-w-md",children:["Analyzing ",t==="ALL"?"CSS, React, Accessibility, and Performance":t," issues"]}),v.jsx("div",{className:"w-64 h-2 bg-white/10 rounded-full overflow-hidden mx-auto",children:v.jsx("div",{className:"h-full bg-brandYellow transition-all duration-500",style:{width:`${y}%`}})}),v.jsx("div",{className:"text-sm text-white/40 space-y-1",children:E.slice(0,3).map((Z,k)=>v.jsxs("div",{className:`font-mono ${Z.type==="error"?"text-red-400":Z.type==="warning"?"text-yellow-400":"text-blue-400"}`,children:[Z.timestamp,": ",Z.message]},k))})]})]});const Y=Array.isArray(r)?r:[],pe=Y.filter(Z=>Z.fixed).length,be=Y.filter(Z=>Z.canAutoFix).length,ge=Y.filter(Z=>Z.canAutoFix&&Z.fixed).length;return v.jsxs("div",{className:"fixed inset-0 z-[500] bg-brandNeutral dark:bg-brandDeep flex flex-col overflow-hidden",children:[v.jsxs("header",{className:"h-16 border-b-2 border-brandYellow flex items-center justify-between px-6 bg-brandCharcoal/95 dark:bg-brandDeep backdrop-blur-sm shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:`w-3 h-3 rounded-full ${pe===Y.length?"bg-green-500 animate-pulse":"bg-brandYellow"}`}),v.jsx("span",{className:"text-sm font-black uppercase tracking-widest text-brandCharcoal dark:text-brandNeutral",children:"Real Code Diagnostic"}),v.jsxs("span",{className:"text-xs text-white/40",children:[t,"  ",Y.length," issues"]})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[o&&v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("div",{className:"text-xs text-white/40",children:["Next scan: ",C,"s"]}),v.jsx("div",{className:"w-8 h-8 relative",children:v.jsx("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:v.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#FD1E4A",strokeWidth:"3",strokeDasharray:"100",strokeDashoffset:100-C/a*100})})})]}),v.jsxs("button",{onClick:j,disabled:Y.filter(Z=>Z.canAutoFix&&!Z.fixed).length===0,className:"px-4 py-2 bg-brandYellow/20 border border-brandYellow text-brandYellow text-xs font-black uppercase hover:bg-brandYellow/30 disabled:opacity-30 transition-all",children:["Fix All (",ge,"/",be,")"]}),v.jsx("button",{onClick:ee,className:"px-4 py-2 bg-brandRed text-white text-xs font-black uppercase hover:bg-brandRed/90 transition-all",children:"Complete"})]})]}),v.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[v.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(Z=>v.jsxs("div",{className:`p-4 border-2 rounded-lg flex flex-col h-64 transition-all ${Z.fixed?"border-green-500/50 bg-green-500/5":x===Z.id?"border-brandYellow bg-brandYellow/5 dark:bg-brandYellow/10":"border-white/10 bg-white/5 dark:bg-zinc-800 hover:border-white/20 dark:hover:border-zinc-700"}`,onClick:()=>S(Z.id),children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:lg[Z.impact]}}),v.jsx("span",{className:"text-[10px] font-black uppercase px-2 py-0.5 rounded",style:{backgroundColor:`${ag[Z.type]}20`,color:ag[Z.type]},children:Z.type}),v.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded ${Z.severity==="CRITICAL"?"bg-red-500/20 text-red-400":Z.severity==="HIGH"?"bg-orange-500/20 text-orange-400":Z.severity==="MEDIUM"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:Z.severity})]}),v.jsx("h3",{className:"text-sm font-bold text-brandCharcoal dark:text-white mb-1",children:Z.title})]}),Z.fixed?v.jsx("div",{className:"text-green-400 text-[10px] font-black uppercase",children:"FIXED "}):Z.canAutoFix?v.jsx("button",{onClick:k=>{k.stopPropagation(),ie(Z.id)},className:"px-3 py-1 bg-brandYellow text-black text-[10px] font-black uppercase hover:bg-brandYellow/90 transition-all",children:"FIX"}):v.jsx("div",{className:"text-red-400 text-[10px] font-black uppercase",children:"MANUAL"})]}),v.jsx("p",{className:"text-xs text-brandCharcoalMuted dark:text-white/70 flex-1 mb-3",children:Z.description}),v.jsxs("div",{className:"text-xs text-white/50 mb-2",children:[Z.file,Z.line&&`:${Z.line}`]}),v.jsx("div",{className:"bg-black/30 p-2 rounded font-mono text-xs text-white/80 overflow-hidden",children:v.jsx("div",{className:"truncate",children:(typeof Z.codeSnippet=="string"?Z.codeSnippet:"").split(`
`)[0]})}),!Z.fixed&&v.jsxs("div",{className:"mt-3 pt-3 border-t border-white/5",children:[v.jsx("div",{className:"text-[10px] text-green-400 font-bold",children:"Fix:"}),v.jsx("div",{className:"text-[10px] text-white/70",children:Z.fix})]}),Z.fixed&&v.jsx("div",{className:"mt-3 pt-3 border-t border-green-500/20",children:v.jsxs("div",{className:"text-[10px] text-green-400 font-bold",children:["Fixed +",Du[Z.severity],"pts"]})})]},Z.id))}),Y.length===0&&!p&&v.jsxs("div",{className:"h-full flex flex-col items-center justify-center",children:[v.jsx("div",{className:"w-20 h-20 border-4 border-green-500 rounded-full flex items-center justify-center mb-4",children:v.jsx("div",{className:"text-green-500 text-2xl",children:""})}),v.jsx("h3",{className:"text-xl font-bold text-green-400 mb-2",children:"No Issues Found!"}),v.jsx("p",{className:"text-white/60 max-w-md text-center",children:"The AI code analysis completed without finding any issues. Great job!"})]})]}),v.jsxs("div",{className:"w-80 border-l border-white/10 bg-brandCharcoal dark:bg-black/20 p-6 flex flex-col overflow-y-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:"text-sm font-black text-brandYellow uppercase mb-4",children:"Statistics"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[v.jsx("span",{className:"text-white/70",children:"Total Issues"}),v.jsx("span",{className:"text-white",children:Y.length})]}),v.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-brandYellow",style:{width:"100%"}})})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[v.jsx("span",{className:"text-white/70",children:"Fixed"}),v.jsx("span",{className:"text-green-400",children:pe})]}),v.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-green-500 transition-all duration-500",style:{width:`${pe/Math.max(Y.length,1)*100}%`}})})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[v.jsx("span",{className:"text-white/70",children:"Auto-Fixable"}),v.jsxs("span",{className:"text-brandYellow",children:[ge,"/",be]})]}),v.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden",children:v.jsx("div",{className:"h-full bg-brandYellow transition-all duration-500",style:{width:`${ge/Math.max(be,1)*100}%`}})})]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("h4",{className:"text-xs font-black text-white/70 uppercase mb-3",children:"Impact Distribution"}),v.jsx("div",{className:"space-y-2",children:Object.entries(lg).map(([Z,k])=>{const W=Y.filter(ae=>ae.impact===Z).length,P=Y.filter(ae=>ae.impact===Z&&ae.fixed).length;return v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:k}}),v.jsx("span",{className:"text-xs text-white/70",children:Z}),v.jsxs("div",{className:"text-xs text-white",children:[P,"/",W]})]},Z)})})]})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-sm font-black text-brandYellow uppercase mb-4",children:"Activity Log"}),v.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:E.map((Z,k)=>v.jsxs("div",{className:`text-xs p-2 rounded ${Z.type==="error"?"bg-red-500/10 text-red-400":Z.type==="warning"?"bg-yellow-500/10 text-yellow-400":Z.type==="success"?"bg-green-500/10 text-green-400":"bg-blue-500/10 text-blue-400"}`,children:[v.jsx("div",{className:"font-mono text-[10px] opacity-70",children:Z.timestamp}),v.jsx("div",{children:Z.message})]},k))})]}),v.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10",children:[v.jsx("h3",{className:"text-sm font-black text-brandYellow uppercase mb-3",children:"Summary Preview"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between text-xs",children:[v.jsx("span",{className:"text-white/70",children:"Code Quality Score"}),v.jsxs("span",{className:"text-green-400",children:[Math.round(pe/Math.max(Y.length,1)*100),"%"]})]}),v.jsxs("div",{className:"flex justify-between text-xs",children:[v.jsx("span",{className:"text-white/70",children:"Time Saved"}),v.jsxs("span",{className:"text-brandYellow",children:[Math.round(pe*2.5)," minutes"]})]}),v.jsxs("div",{className:"flex justify-between text-xs",children:[v.jsx("span",{className:"text-white/70",children:"Auto-Fix Rate"}),v.jsxs("span",{className:"text-brandYellow",children:[Math.round(ge/Math.max(be,1)*100),"%"]})]})]}),v.jsx("button",{onClick:ee,className:"w-full mt-4 py-3 bg-brandRed text-white text-sm font-black uppercase tracking-widest hover:bg-brandRed/90 transition-all",children:"FINALIZE REFINEMENTS"})]})]})]}),v.jsx("div",{className:"h-1 bg-black/30",children:v.jsx("div",{className:"h-full bg-brandYellow transition-all duration-1000",style:{width:`${pe/Math.max(Y.length,1)*100}%`}})})]})},kA=({onComplete:i})=>{const[t,o]=H.useState([]),[a,r]=H.useState(!0),[c,p]=H.useState([]),[g,y]=H.useState(0);H.useRef(null);const m=H.useCallback((C,M="info")=>{p(I=>[{message:C,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),type:M},...I.slice(0,15)])},[]);H.useEffect(()=>{(async()=>{m("INITIATING_FORENSIC_KERNEL_AUDIT...","info"),await new Promise(A=>setTimeout(A,1200));const I=["VECTOR_LATTICE_CORE","GLYPH_SYNTAX_PARSER","DNA_STORAGE_BUFFER","NEURAL_FORGE_CONTROLLER","AESTHETIC_COHESION_ENGINE","TELEMETRY_LINK_MODULE","KERNEL_STATE_PERSISTENCE"].map((A,Q)=>({id:`node-${Q}`,subsystem:A,integrity:35+Math.random()*35,status:Q<2?"CRITICAL":"DEGRADED",repaired:!1,isRepairing:!1,address:`0x${Math.floor(Math.random()*16777215).toString(16).toUpperCase().padStart(6,"0")}`}));o(I),r(!1),m(`AUDIT_COMPLETE: Found ${I.length} degraded subsystems.`,"error")})()},[m]);const x=async C=>{var I;const M=(I=t.find(A=>A.id===C))==null?void 0:I.subsystem;o(A=>A.map(Q=>Q.id===C?{...Q,isRepairing:!0}:Q)),m(`PATCH_SEQUENCE_INIT: ${M}`,"info"),await new Promise(A=>setTimeout(A,1500)),o(A=>{const Q=A.map(B=>B.id===C?{...B,integrity:100,status:"STABLE",repaired:!0,isRepairing:!1}:B),J=Q.filter(B=>B.repaired).length;return y(J/Q.length*100),Q}),m(`RESTORED: ${M} @ 100%_INTEGRITY`,"success")},S=async()=>{m("EXECUTING_BULK_RECONSTRUCTION_PROTOCOL","info");const C=t.filter(M=>!M.repaired);for(const M of C)await x(M.id),await new Promise(I=>setTimeout(I,200))},E=()=>{i({totalNodes:t.length,repairedNodes:t.filter(C=>C.repaired).length,failedNodes:t.filter(C=>!C.repaired).length,averageRepairTime:1.5,totalTime:t.filter(C=>C.repaired).length*1.5,criticalFailures:0,systemStabilityScore:Math.round(t.filter(C=>C.repaired).length/t.length*100)})};if(a)return v.jsxs("div",{className:"fixed inset-0 z-[600] bg-brandDeep flex flex-col items-center justify-center font-mono",children:[v.jsxs("div",{className:"relative w-24 h-24 mb-8",children:[v.jsx("div",{className:"absolute inset-0 border-2 border-brandRed/20 rounded-full"}),v.jsx("div",{className:"absolute inset-0 border-t-2 border-brandRed rounded-full animate-spin"}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx("div",{className:"w-1 h-1 bg-brandRed rounded-full animate-ping"})})]}),v.jsx("div",{className:"text-brandRed text-[10px] font-black uppercase tracking-[0.5em] animate-pulse italic",children:"Engaging_Forensic_Lattice_Scan..."})]});const _=t.every(C=>C.repaired);return v.jsxs("div",{className:"fixed inset-0 z-[600] bg-brandNeutral dark:bg-brandDeep flex flex-col font-mono overflow-hidden animate-in fade-in duration-500",children:[v.jsxs("header",{className:"h-16 border-b-2 border-brandRed flex items-center justify-between px-8 bg-brandCharcoal/95 dark:bg-black/60 backdrop-blur-xl shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("h2",{className:"text-sm font-black italic uppercase tracking-[0.2em] text-brandRed",children:"HyperXGen_Forensic_Kernel"}),v.jsx("span",{className:"text-[7px] text-white/40 uppercase tracking-[0.1em]",children:"Protocol: Reconstruction_v5.2 // Mode: Restoration"})]}),v.jsx("div",{className:"h-8 w-[1px] bg-white/10"}),v.jsx("div",{className:"flex items-center gap-3",children:v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[7px] font-black text-white/30 uppercase",children:"Lattice_Integrity"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${_?"bg-green-500":"bg-brandYellow animate-pulse"}`}),v.jsxs("span",{className:`text-xs font-black italic ${_?"text-green-400":"text-brandYellow"}`,children:[Math.round(g),"%_OK"]})]})]})})]}),v.jsxs("div",{className:"flex gap-4",children:[!_&&v.jsx("button",{onClick:S,className:"bg-brandRed/10 border border-brandRed text-brandRed px-6 py-2 text-[10px] font-black uppercase tracking-widest hover:bg-brandRed hover:text-white transition-all shadow-[0_0_15px_rgba(253,30,74,0.2)]",children:"Bulk_Restore"}),v.jsx("button",{onClick:E,className:`px-6 py-2 text-[10px] font-black uppercase tracking-widest transition-all ${_?"bg-green-500 text-white hover:bg-green-600":"bg-white/5 border border-white/10 text-white/40 hover:text-brandRed"}`,children:_?"SYNC_COMPLETE":"FORCE_ABORT"})]})]}),v.jsxs("div",{className:"flex-1 flex flex-col md:flex-row min-h-0",children:[v.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-8 space-y-4",children:v.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4",children:t.map(C=>v.jsxs("div",{className:`p-5 border-2 transition-all relative group overflow-hidden ${C.repaired?"bg-green-500/5 border-green-500/30":C.status==="CRITICAL"?"bg-brandRed/5 border-brandRed/40 animate-pulse":"bg-brandCharcoal dark:bg-black/20 border-white/5"}`,children:[C.isRepairing&&v.jsx("div",{className:"absolute inset-0 bg-brandDeep/80 z-20 flex items-center justify-center backdrop-blur-sm",children:v.jsxs("div",{className:"flex flex-col items-center gap-2",children:[v.jsx("div",{className:"w-6 h-6 border-2 border-brandRed border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-[7px] font-black text-brandRed uppercase tracking-[0.3em]",children:"REWRITING_DNA..."})]})}),v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-[8px] font-mono text-white/30 mb-1",children:C.address}),v.jsx("h4",{className:"text-[11px] font-black text-white/90 uppercase tracking-wider",children:C.subsystem})]}),v.jsx("span",{className:`text-[8px] px-2 py-0.5 rounded-sm font-black border ${C.status==="STABLE"?"bg-green-500/20 text-green-400 border-green-500/30":C.status==="CRITICAL"?"bg-brandRed/20 text-brandRed border-brandRed/30":"bg-brandYellow/20 text-brandYellow border-brandYellow/30"}`,children:C.status})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between items-center text-[9px] font-black uppercase",children:[v.jsx("span",{className:"text-white/40",children:"Integrity_Coefficient"}),v.jsxs("span",{className:C.repaired?"text-green-400":"text-brandYellow",children:[Math.round(C.integrity),"%"]})]}),v.jsx("div",{className:"h-1 bg-white/5 w-full rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full transition-all duration-1000 ${C.repaired?"bg-green-500":"bg-brandRed"}`,style:{width:`${C.integrity}%`}})})]}),!C.repaired&&v.jsx("button",{onClick:()=>x(C.id),disabled:C.isRepairing,className:"mt-4 w-full py-2 bg-white/5 border border-white/10 text-white/60 hover:bg-brandRed hover:text-white hover:border-brandRed text-[9px] font-black uppercase tracking-widest transition-all",children:"Initiate_Patch"})]},C.id))})}),v.jsxs("div",{className:"w-full md:w-96 border-l-2 border-brandRed bg-brandCharcoal dark:bg-black/40 flex flex-col shrink-0",children:[v.jsxs("div",{className:"p-6 border-b border-white/5",children:[v.jsx("h3",{className:"text-[10px] font-black text-brandRed uppercase tracking-[0.3em] mb-4",children:"Kernel_Trace_Buffer"}),v.jsx("div",{className:"h-64 overflow-y-auto custom-scrollbar space-y-2 font-mono text-[9px]",children:c.length===0?v.jsx("div",{className:"text-white/20 italic",children:"Awaiting telemetry handshake..."}):c.map((C,M)=>v.jsxs("div",{className:`flex gap-3 animate-in slide-in-from-left duration-300 ${C.type==="error"?"text-brandRed":C.type==="success"?"text-green-400":"text-blue-400"}`,children:[v.jsxs("span",{className:"text-white/20 shrink-0 select-none",children:["[",C.timestamp,"]"]}),v.jsx("span",{className:"flex-1 uppercase font-bold",children:C.message})]},M))})]}),v.jsx("div",{className:"p-6 flex-1 flex flex-col justify-end bg-gradient-to-t from-brandRed/5 to-transparent",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsxs("div",{className:"flex justify-between text-[8px] font-black text-white/40 uppercase",children:[v.jsx("span",{children:"Core_Stabilization"}),v.jsx("span",{children:_?"LOCK_OK":"IN_PROGRESS"})]}),v.jsx("div",{className:"h-1.5 bg-white/10 w-full",children:v.jsx("div",{className:"h-full bg-brandRed animate-pulse",style:{width:_?"100%":"65%"}})})]}),v.jsx("p",{className:"text-[8px] font-bold text-white/30 uppercase leading-relaxed italic",children:"Forensic repair mode bypasses standard UI safety protocols to force-align kernel segments at the sub-atomic lattice level."}),v.jsxs("div",{className:"flex items-center gap-3 p-3 bg-black/40 border border-brandRed/20",children:[v.jsx("div",{className:"w-1.5 h-1.5 bg-brandRed rounded-full animate-ping"}),v.jsx("span",{className:"text-[7px] font-black text-brandRed uppercase tracking-[0.4em]",children:"System_Sync_Active"})]})]})})]})]}),v.jsx("div",{className:"h-1 bg-white/5",children:v.jsx("div",{className:"h-full bg-brandRed transition-all duration-1000 shadow-[0_0_10px_#FD1E4A]",style:{width:`${g}%`}})})]})},LA=()=>{const[i,t]=H.useState({pixelRatio:1,isTouch:!1,isMobile:!1,screenWidth:window.innerWidth,screenHeight:window.innerHeight,orientation:window.innerWidth>window.innerHeight?"landscape":"portrait",safeAreaInsetTop:0,safeAreaInsetBottom:0,deviceType:"desktop",hasNotch:!1});return H.useEffect(()=>{const o=()=>{const c=window.innerWidth,p=window.innerHeight,g=window.devicePixelRatio||1,y="ontouchstart"in window||navigator.maxTouchPoints>0,m=c<=768;let x="desktop";c<=768?x="phone":c<=1024&&(x="tablet");const S=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sat").replace("px","")||"0"),E=parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab").replace("px","")||"0"),_=S>20;return{pixelRatio:g,isTouch:y,isMobile:m,screenWidth:c,screenHeight:p,orientation:c>p?"landscape":"portrait",safeAreaInsetTop:S,safeAreaInsetBottom:E,deviceType:x,hasNotch:_}},a=()=>{t(o())};a(),window.addEventListener("resize",a),window.addEventListener("orientationchange",a);const r=new ResizeObserver(a);return r.observe(document.documentElement),()=>{window.removeEventListener("resize",a),window.removeEventListener("orientationchange",a),r.disconnect()}},[]),i},OA=[{bgColor:"bg-brandYellow",textColor:"text-brandCharcoal",accentColor:"bg-brandCharcoal/10",shadowColor:"#2D2D2F",darkBgColor:"dark:bg-zinc-800",darkTextColor:"dark:text-brandYellow",darkAccentColor:"dark:bg-brandYellow/10"},{bgColor:"bg-brandCharcoal",textColor:"text-brandYellow",accentColor:"bg-brandYellow/10",shadowColor:"#FABD0D",darkBgColor:"dark:bg-zinc-800",darkTextColor:"dark:text-brandYellow",darkAccentColor:"dark:bg-brandYellow/10"},{bgColor:"bg-white",textColor:"text-brandRed",accentColor:"bg-brandRed/10",shadowColor:"#FD1E4A",darkBgColor:"dark:bg-zinc-800",darkTextColor:"dark:text-brandRed",darkAccentColor:"dark:bg-brandRed/10"},{bgColor:"bg-brandRed",textColor:"text-white",accentColor:"bg-white/10",shadowColor:"#2D2D2F",darkBgColor:"dark:bg-zinc-900",darkTextColor:"dark:text-white",darkAccentColor:"dark:bg-white/10"},{bgColor:"bg-white",textColor:"text-brandCharcoal",accentColor:"bg-brandCharcoal/10",shadowColor:"#FD1E4A",darkBgColor:"dark:bg-zinc-800",darkTextColor:"dark:text-brandRed",darkAccentColor:"dark:bg-brandRed/10"},{bgColor:"bg-brandCharcoal",textColor:"text-white",accentColor:"bg-white/10",shadowColor:"#2D2D2F",darkBgColor:"dark:bg-zinc-900",darkTextColor:"dark:text-white",darkAccentColor:"dark:bg-white/10"},{bgColor:"bg-brandRed",textColor:"text-brandYellow",accentColor:"bg-brandYellow/10",shadowColor:"#FABD0D",darkBgColor:"dark:bg-zinc-900",darkTextColor:"dark:text-brandYellow",darkAccentColor:"dark:bg-brandYellow/10"},{bgColor:"bg-brandYellow",textColor:"text-brandRed",accentColor:"bg-brandRed/10",shadowColor:"#FD1E4A",darkBgColor:"dark:bg-zinc-800",darkTextColor:"dark:text-brandRed",darkAccentColor:"dark:bg-brandRed/10"}];function GA(i){const t=[...i];for(let o=t.length-1;o>0;o--){const a=Math.floor(Math.random()*(o+1));[t[o],t[a]]=[t[a],t[o]]}return t}const HA=({onSelectMode:i=a=>{},recentCount:t=0,enabledModes:o=Object.values(se)})=>{const a=H.useMemo(()=>GA(OA),[]),r=H.useMemo(()=>[{title:"Vector",subtitle:"Geometric synth",Icon:$a,mode:se.VECTOR},{title:"Extract",subtitle:"Style thief",Icon:$u,mode:se.EXTRACTOR},{title:"Mono",subtitle:"Visual core",Icon:Za,mode:se.MONOGRAM},{title:"Filter",subtitle:"Spectral unit",Icon:Qu,mode:se.FILTERS},{title:"Typo",subtitle:"Kinetic engine",Icon:Qa,mode:se.TYPOGRAPHY},{title:"Audit",subtitle:"Compliance",Icon:ml,mode:se.AUDIT}],[]),c=H.useMemo(()=>r.filter(p=>o.includes(p.mode)),[r,o]);return v.jsx(s0,{centered:!0,children:v.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-2 md:py-8",children:[v.jsxs("div",{className:"flex flex-col items-center max-w-4xl w-full mb-4 md:mb-12 scale-90 md:scale-100 origin-top",children:[v.jsxs("div",{className:"relative inline-block mb-4 md:mb-8",children:[v.jsx("div",{className:"w-12 h-12 sm:w-32 sm:h-32 bg-brandCharcoal dark:bg-zinc-900 border-[4px] sm:border-[12px] border-brandRed flex items-center justify-center mx-auto shadow-[6px_6px_0px_0px_#FD1E4A] sm:shadow-[16px_16px_0px_0px_#FD1E4A] hover:translate-x-1.5 hover:translate-y-1.5 transition-transform duration-500 cursor-pointer group rounded-sm",children:v.jsx("svg",{className:"group-hover:rotate-[360deg] transition-transform duration-1000 ease-in-out",width:"30",height:"30",viewBox:"0 0 240 240",fill:"none",stroke:"#FABD0D",strokeWidth:"4",children:v.jsx("path",{d:"M120 20L150 100H230L165 150L190 230L120 180L50 230L75 150L10 100H90L120 20Z",fill:"currentColor"})})}),v.jsx("div",{className:"absolute -bottom-2 -right-4 bg-brandYellow text-brandCharcoal text-[7px] sm:text-[9px] font-black uppercase px-2 py-0.5 sm:px-3 sm:py-1.5 italic tracking-widest shadow-lg rounded-sm border border-brandCharcoal",children:"Engine_v5.2"})]}),v.jsxs("h1",{className:"text-3xl xs:text-4xl sm:text-8xl lg:text-9xl font-black tracking-tighter text-brandCharcoal dark:text-white italic uppercase leading-[0.8] select-none mb-3 md:mb-8",children:["HYPER",v.jsx("span",{className:"text-brandRed",children:"X"}),"GEN"]}),v.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4 md:gap-8",children:[v.jsxs("div",{className:"flex flex-col items-start border-l-2 border-brandRed pl-3 text-left",children:[v.jsx("p",{className:"text-[8px] sm:text-[12px] font-black uppercase tracking-[0.3em] text-brandCharcoalMuted dark:text-white/40 leading-none mb-0.5",children:"Architectural_Engine"}),v.jsx("span",{className:"text-[7px] sm:text-[9px] font-bold text-brandRed uppercase tracking-widest animate-pulse",children:"PROTOCOL_LOCKED"})]}),t>0&&v.jsxs("div",{className:"flex items-center gap-2 bg-brandCharcoal dark:bg-zinc-800 p-1.5 px-4 rounded-sm border border-brandRed/20 shadow-lg",children:[v.jsx("div",{className:"w-1.5 h-1.5 bg-brandRed rounded-full animate-ping"}),v.jsxs("span",{className:"text-[8px] sm:text-[10px] font-black text-brandCharcoal dark:text-white uppercase tracking-[0.2em]",children:[t," NODES"]})]})]})]}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 w-full",children:c.map((p,g)=>v.jsx(PA,{title:p.title,subtitle:p.subtitle,Icon:p.Icon,onClick:()=>i(p.mode),...a[g%a.length]},p.mode))})]})})},PA=({title:i,subtitle:t,onClick:o,Icon:a,bgColor:r,textColor:c,accentColor:p,shadowColor:g,darkBgColor:y,darkTextColor:m,darkAccentColor:x})=>v.jsxs("button",{onClick:o,className:`relative group p-3 md:p-8 flex flex-col justify-between text-left transition-all duration-500 border-2 md:border-4 rounded-sm h-32 md:h-64 overflow-hidden
      ${r} ${c} ${y||"dark:bg-zinc-900"} ${m||"dark:text-white"} 
      border-brandCharcoal dark:border-white/10 hover:-translate-x-1 hover:-translate-y-1 md:hover:-translate-x-1.5 md:hover:-translate-y-1.5 active:translate-x-0 active:translate-y-0 active:shadow-none
      dark:hover:shadow-[0_0_30px_rgba(253,30,74,0.2)]`,style:{boxShadow:`4px 4px 0px 0px ${g}`},children:[v.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 md:w-32 md:h-32 -mr-6 -mt-6 md:-mr-12 md:-mt-12 rounded-full blur-2xl md:blur-3xl opacity-50 group-hover:scale-150 transition-transform duration-1000
      ${p} ${x||"dark:bg-brandRed/5"}
    `}),v.jsx("div",{className:"absolute top-2 right-2 md:top-6 md:right-6 transition-all duration-500 transform group-hover:scale-110 group-hover:rotate-12 opacity-30",children:v.jsx(a,{className:`w-6 h-6 md:w-14 md:h-14 ${c} ${m||"dark:text-white"}`})}),v.jsxs("div",{className:"relative z-10 space-y-1 md:space-y-3",children:[v.jsx("h3",{className:`text-xl md:text-4xl font-black uppercase italic tracking-tighter leading-none ${c} ${m||"dark:text-white"}`,children:i}),v.jsx("div",{className:"h-1 md:h-1.5 w-6 md:w-12 bg-current group-hover:w-full transition-all duration-500"})]}),v.jsx("p",{className:`relative z-10 text-[7px] md:text-[10px] font-black uppercase tracking-[0.1em] md:tracking-[0.25em] opacity-80 leading-tight pr-2 md:pr-10 ${c} ${m||"dark:text-white/80"}`,children:t})]}),VA=({isDarkMode:i=!1,onToggle:t})=>v.jsx("button",{onClick:t,className:"p-3 bg-brandCharcoal dark:bg-zinc-800 border border-white/10 text-brandYellow hover:border-brandRed hover:text-brandRed transition-all shadow-xl rounded-sm group flex items-center justify-center pointer-events-auto",title:i?"Switch to Light Mode":"Switch to Dark Mode",children:i?v.jsx(SA,{className:"w-4 h-4 transition-transform group-hover:rotate-90 duration-500"}):v.jsx(EA,{className:"w-4 h-4 transition-transform group-hover:-rotate-12 duration-500"})}),BA=H.memo(({title:i="HYPERXGEN",onBack:t=()=>{},onStartRepair:o,onStartRefine:a,integrity:r,isDarkMode:c,onToggleTheme:p,onToggleLogViewer:g})=>v.jsx("header",{className:"fixed top-0 left-0 right-0 h-[var(--header-h)] bg-brandCharcoal dark:bg-brandDeep dark:border-white/10 flex z-[100] border-b border-white/5 shadow-2xl backdrop-blur-xl bg-opacity-95 transition-all duration-300",children:v.jsxs("div",{className:"w-full max-w-[1400px] mx-auto flex flex-row items-center justify-between h-full px-4 md:px-6",children:[v.jsx("div",{className:"flex items-center gap-3 md:gap-6 min-w-0",children:v.jsxs("button",{onClick:t,className:"flex items-center gap-2 md:gap-3 cursor-pointer group shrink-0",children:[v.jsxs("div",{className:"relative w-3 h-3 md:w-4 md:h-4",children:[v.jsx("div",{className:"absolute inset-0 bg-brandRed rounded-full animate-ping opacity-30"}),v.jsx("div",{className:"relative w-3 h-3 md:w-4 md:h-4 bg-brandRed rounded-full shadow-[0_0_12px_rgba(253,30,74,1)] flex items-center justify-center",children:v.jsx("div",{className:"w-0.5 h-0.5 md:w-1 md:h-1 bg-white rounded-full"})})]}),v.jsxs("div",{className:"flex flex-col items-start leading-none min-w-0",children:[v.jsx("div",{className:"font-black text-xs md:text-sm tracking-[0.15em] md:tracking-[0.25em] text-brandNeutral dark:text-white uppercase italic group-hover:text-brandYellow transition-colors duration-300 truncate",children:i}),v.jsx("span",{className:"text-[6px] md:text-[7px] font-black text-brandRed tracking-[0.1em] opacity-80 uppercase mt-0.5 hidden xs:block",children:"OMEGA_CORE_ACTIVE"})]})]})}),v.jsxs("div",{className:"flex items-center gap-2 md:gap-6 shrink-0",children:[typeof r=="number"&&v.jsxs("div",{className:"flex flex-col items-end hidden lg:flex border-r border-white/10 pr-6",children:[v.jsx("span",{className:"text-[7px] font-black uppercase text-brandCharcoalMuted dark:text-white/30 tracking-widest leading-none mb-1",children:"Stability_Core"}),v.jsxs("div",{className:`flex items-center gap-2 text-[11px] font-black uppercase italic ${r<100?"text-brandRed":"text-green-400"}`,children:[v.jsx(ml,{className:`w-3 h-3 ${r===100?"animate-pulse":"animate-bounce"}`}),v.jsxs("span",{children:[r,"%_OK"]})]})]}),v.jsxs("div",{className:"flex gap-1 md:gap-2 items-center",children:[o&&v.jsx("button",{onClick:o,className:"w-8 h-8 md:w-10 md:h-10 flex items-center justify-center border border-white/10 bg-white/5 text-brandNeutral dark:text-white hover:border-blue-500 hover:text-blue-500 transition-all rounded-sm group shadow-sm hover:shadow-lg",title:"Forensic Repair",children:v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover:rotate-6 transition-transform md:w-[18px] md:h-[18px]",children:v.jsx("path",{d:"M10 13l4-4M16 16l-4-4-4 4"})})}),a&&v.jsx("button",{onClick:a,className:"w-8 h-8 md:w-10 md:h-10 flex items-center justify-center border border-white/10 bg-white/5 text-brandNeutral dark:text-white hover:border-brandYellow hover:text-brandYellow transition-all rounded-sm group shadow-sm hover:shadow-lg",title:"AI Code Refinement",children:v.jsx(ro,{className:"w-3.5 h-3.5 md:w-5 md:h-5 group-hover:scale-110 transition-transform"})}),g&&v.jsx("button",{onClick:g,className:"w-8 h-8 md:w-10 md:h-10 flex items-center justify-center border border-white/10 bg-white/5 text-brandNeutral dark:text-white hover:border-brandRed hover:text-brandRed transition-all rounded-sm group shadow-sm hover:shadow-lg",title:"View System Logs",children:v.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",className:"group-hover:translate-y-px transition-transform md:w-[18px] md:h-[18px]",children:v.jsx("path",{d:"M12 20h9M12 4h9M4 12h17M4 12l-3-3m3 3l-3 3"})})}),p&&v.jsx("div",{className:"ml-1 md:ml-2 border-l border-white/10 pl-2 md:pl-4",children:v.jsx(VA,{isDarkMode:c,onToggle:p})})]})]})]})})),zA=H.memo(({recentWorks:i=[],savedPresets:t=[],cloudArchives:o=[],isSaving:a=!1,activeMode:r=se.START,onSwitchMode:c=S=>{},onClearCloudArchives:p=()=>{},onLoadHistoryItem:g=S=>{},onLoadCloudArchive:y=S=>{},onForceSave:m=()=>{},enabledModes:x=Object.values(se)})=>{const[S,E]=H.useState(null),_=A=>{E(S===A?null:A)},C=A=>{const Q=A.type===se.EXTRACTOR&&!!A.dna;let J=fl,B="text-brandRed";if(Q)J=ro,B="text-brandRed";else switch(A.type){case se.VECTOR:J=$a,B="text-brandRed";break;case se.TYPOGRAPHY:J=Qa,B="text-brandYellow";break;case se.MONOGRAM:J=Za,B="text-brandCharcoal dark:text-white";break;case se.EXTRACTOR:J=$u,B="text-brandRed";break;case se.FILTERS:J=Qu,B="text-blue-400";break;case se.AUDIT:J=ml,B="text-green-500";break;default:J=fl,B="text-brandCharcoalMuted dark:text-white/60";break}return v.jsxs("div",{className:"history-item flex items-center justify-between group p-3 hover:bg-brandRed/5 cursor-pointer border-b border-brandCharcoal dark:border-white/5 last:border-b-0 transition-colors",onClick:()=>g(A),children:[v.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[v.jsx("div",{className:`w-8 h-8 shrink-0 bg-brandCharcoal dark:bg-zinc-800 flex items-center justify-center text-[10px] font-black italic border border-brandRed/20 group-hover:bg-brandRed group-hover:text-white transition-all rounded-sm ${B}`,children:rg.createElement(J,{className:"w-4 h-4"})}),v.jsxs("div",{className:"history-info min-w-0 truncate",children:[v.jsx("span",{className:"history-word truncate block text-[10px] font-black text-brandCharcoal dark:text-brandNeutral group-hover:text-brandRed transition-colors uppercase tracking-tight",children:A.name}),v.jsx("span",{className:"text-[7px] text-brandCharcoalMuted dark:text-white/20 uppercase font-black tracking-widest",children:A.timestamp||"PRESET"})]})]}),v.jsx("button",{onClick:z=>{z.stopPropagation(),g(A)},className:"shrink-0 px-2 py-1 border border-brandCharcoal/20 dark:border-white/10 text-[8px] font-black text-brandCharcoal dark:text-white/60 hover:bg-brandRed hover:text-white hover:border-brandRed transition-all uppercase rounded-sm",children:Q?"APPLY_DNA":"RECALL"})]},A.id)},M=H.useMemo(()=>[{id:se.VECTOR,label:"VECTOR",Icon:$a},{id:se.TYPOGRAPHY,label:"TYPO",Icon:Qa},{id:se.MONOGRAM,label:"MONO",Icon:Za},{id:se.EXTRACTOR,label:"EXTRACT",Icon:$u},{id:se.FILTERS,label:"FILTERS",Icon:Qu},{id:se.AUDIT,label:"AUDIT",Icon:ml}],[]),I=H.useMemo(()=>M.filter(A=>x.includes(A.id)),[M,x]);return v.jsxs("div",{className:"fixed bottom-0 left-0 right-0 h-[var(--app-controls-bar-h)] bg-white dark:bg-black border-t-2 md:border-t-4 border-brandCharcoal dark:border-white/10 flex flex-row z-[120] shadow-[0_-10px_30px_rgba(0,0,0,0.1)] transition-colors duration-300",children:[v.jsxs("div",{className:"w-full max-w-screen-2xl mx-auto flex flex-row h-full",children:[v.jsx("div",{className:"flex-1 flex items-stretch border-r border-brandCharcoal dark:border-white/10 overflow-x-auto no-scrollbar mask-gradient-right",children:I.map(A=>v.jsxs("button",{onClick:()=>c(A.id),className:`px-3 md:px-5 flex flex-col md:flex-col items-center justify-center gap-1 md:gap-1.5 transition-all relative min-w-[60px] md:min-w-[80px] border-r border-brandCharcoal/5 dark:border-white/5
                ${r===A.id?"bg-brandCharcoal dark:bg-zinc-900 text-brandRed":"text-brandCharcoalMuted dark:text-white/30 hover:bg-brandRed/5 hover:text-brandCharcoal dark:hover:text-white"}
              `,children:[v.jsx(A.Icon,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${r===A.id?"animate-pulse":""}`}),v.jsx("span",{className:"text-[7px] md:text-[8px] font-black uppercase tracking-widest leading-none",children:A.label}),r===A.id&&v.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 md:h-1 bg-brandRed"})]},A.id))}),v.jsxs("div",{className:"flex-none flex items-stretch",children:[v.jsxs("div",{className:"flex items-stretch",children:[v.jsxs("button",{onClick:()=>_("recent"),className:`px-3 md:px-6 flex items-center justify-center gap-2 md:gap-3 text-[10px] font-black uppercase tracking-widest transition-all border-r border-brandCharcoal/10 dark:border-white/5
                ${S==="recent"?"bg-brandRed text-white":"hover:bg-brandRed/5 dark:text-white/60"}
              `,title:"History",children:[v.jsx(fl,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),v.jsx("span",{className:"hidden sm:inline",children:"History"}),i.length>0&&v.jsxs("span",{className:"text-[7px] md:text-[8px] opacity-60",children:["[",i.length,"]"]})]}),v.jsxs("button",{onClick:()=>_("presets"),className:`px-3 md:px-6 flex items-center justify-center gap-2 md:gap-3 text-[10px] font-black uppercase tracking-widest transition-all border-r border-brandCharcoal/10 dark:border-white/5
                ${S==="presets"?"bg-brandYellow text-brandCharcoal":"hover:bg-brandYellow/10 dark:text-white/60"}
              `,title:"Vault",children:[v.jsx(ro,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),v.jsx("span",{className:"hidden sm:inline",children:"Vault"})]})]}),v.jsx("div",{className:"flex items-stretch",children:v.jsxs("div",{className:"flex items-center gap-2 md:gap-4 px-3 md:px-6 border-l border-brandCharcoal/10 dark:border-white/5",children:[v.jsxs("div",{className:"hidden lg:flex flex-col items-end",children:[v.jsx("span",{className:"text-[7px] font-black text-brandCharcoalMuted dark:text-white/20 uppercase tracking-[0.2em]",children:"Kernel_Status"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${a?"bg-brandYellow animate-ping":"bg-green-500"}`}),v.jsx("span",{className:`text-[9px] font-black uppercase ${a?"text-brandYellow":"text-brandCharcoal dark:text-white/40"}`,children:a?"SYNC_ACTIVE":"IDLE"})]})]}),v.jsxs("button",{onClick:m,disabled:a,className:"px-2 md:px-4 py-1.5 md:py-2 bg-brandRed text-white text-[8px] md:text-[9px] font-black uppercase italic tracking-widest hover:bg-brandCharcoal dark:hover:bg-zinc-800 transition-all shadow-[2px_2px_0px_0px_rgba(253,30,74,0.3)] md:shadow-[4px_4px_0px_0px_rgba(253,30,74,0.3)] rounded-sm",children:[v.jsx("span",{className:"hidden sm:inline",children:"COMMIT_DNA"}),v.jsx("span",{className:"sm:hidden",children:"SAVE"})]})]})})]})]}),S&&v.jsxs("div",{className:"absolute bottom-[calc(100%+2px)] left-0 right-0 sm:left-auto sm:right-0 sm:w-80 bg-white dark:bg-brandDeep border-t-4 sm:border-4 border-brandCharcoal dark:border-white/20 shadow-[0_-10px_40px_rgba(0,0,0,0.2)] sm:shadow-[12px_12px_0px_0px_rgba(45,45,47,1)] sm:dark:shadow-[12px_12px_0px_0px_rgba(253,30,74,0.3)] animate-in slide-in-from-bottom-2 duration-200 sm:rounded-sm overflow-hidden flex flex-col max-h-[50vh] sm:max-h-[400px]",children:[v.jsxs("div",{className:`px-4 py-3 border-b-2 border-brandCharcoal dark:border-white/10 flex justify-between items-center ${S==="recent"?"bg-brandRed text-white":"bg-brandYellow text-brandCharcoal"}`,children:[v.jsx("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] italic",children:S==="recent"?"SESSION_BUFFER":"STYLE_ARCHIVES"}),v.jsx("button",{onClick:()=>E(null),className:"text-[10px] font-black uppercase p-2 -mr-2",children:""})]}),v.jsx("div",{className:"overflow-y-auto custom-scrollbar flex-1 bg-brandNeutral dark:bg-brandDeep",children:S==="recent"?i.length===0?v.jsx("p",{className:"text-[10px] p-8 text-brandCharcoalMuted dark:text-white/20 uppercase font-black text-center tracking-widest italic",children:"Buffer_Empty"}):i.map(C):t.length===0?v.jsx("p",{className:"text-[10px] p-8 text-brandCharcoalMuted dark:text-white/20 uppercase font-black text-center tracking-widest italic",children:"No_Presets_Buffered"}):t.map(C)})]})]})}),qA=({logs:i,onClear:t,isOpen:o,onClose:a})=>{const r=H.useRef(null);return H.useEffect(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[i]),o?v.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-4 sm:p-10 animate-in fade-in duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:a}),v.jsxs("div",{className:"relative w-full max-w-4xl h-full max-h-[600px] bg-brandCharcoal dark:bg-black border-2 border-brandRed shadow-[20px_20px_0px_0px_rgba(253,30,74,0.3)] flex flex-col overflow-hidden rounded-sm",children:[v.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-white/10 bg-black/40",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-2 h-2 bg-brandRed rounded-full animate-ping"}),v.jsx("h3",{className:"text-[10px] font-black text-brandRed uppercase tracking-[0.4em]",children:"System_Trace_Buffer"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:t,className:"text-[8px] font-black text-white/40 hover:text-brandRed transition-colors uppercase",children:"Clear_Buffer"}),v.jsx("button",{onClick:a,className:"text-[10px] font-black text-white hover:text-brandRed transition-colors uppercase",children:"Close_X"})]})]}),v.jsx("div",{ref:r,className:"flex-1 overflow-y-auto p-6 font-mono text-[10px] space-y-2 custom-scrollbar",children:i.length===0?v.jsx("div",{className:"h-full flex items-center justify-center text-white/20 italic uppercase tracking-widest",children:"Buffer_Empty"}):i.map(c=>v.jsxs("div",{className:"flex gap-4 group hover:bg-white/5 py-1 px-2 rounded-sm transition-colors border-l border-white/5",children:[v.jsxs("span",{className:"text-white/20 shrink-0 select-none",children:["[",c.timestamp,"]"]}),v.jsx("span",{className:`
                  ${c.type==="error"?"text-brandRed font-black":c.type==="warning"?"text-brandYellow":c.type==="success"?"text-green-400":"text-blue-400"}
                `,children:c.message})]},c.id))}),v.jsxs("div",{className:"px-6 py-3 bg-black/60 border-t border-white/10 flex justify-between items-center",children:[v.jsxs("span",{className:"text-[8px] font-black text-white/20 uppercase tracking-widest",children:["Total_Entries: ",i.length]}),v.jsx("span",{className:"text-[8px] font-black text-brandRed/40 uppercase tracking-widest animate-pulse",children:"Lattice_Sync_Active"})]})]})]}):null},xt={ARCHIVES:"hyperxgen_cloud_archives_v4",DNA:"hyperxgen_active_dna_v4",PRESETS:"hyperxgen_presets_v4",RECENT:"hyperxgen_recent_v4",THEME:"hyperxgen_theme_v1",CONFIG:"hyperxgen_config_v1",LOGS:"hyperxgen_logs_v1"},YA=()=>{const[i,t]=H.useState(se.START),[o,a]=H.useState(null),[r,c]=H.useState(!1),[p,g]=H.useState(!1),[y,m]=H.useState(100),[x,S]=H.useState(null),[E,_]=H.useState(!1),[C,M]=H.useState(!1),[I,A]=H.useState(!1),[Q,J]=H.useState([]),[B,z]=H.useState([]),[ie,j]=H.useState(!1);LA();const[oe,ee]=H.useState(0),[ue,Y]=H.useState({thinkingBudget:0,temperature:.1,model:"gemini-3-flash-preview",deviceContext:"MAXIMUM_ARCHITECTURE_OMEGA_V5",useProModel:!1}),[pe,be]=H.useState([]),[ge,Z]=H.useState([]),[k,W]=H.useState([]),P=H.useCallback((te,ye="info")=>{z(Se=>[{id:Date.now().toString(),timestamp:new Date().toLocaleTimeString(),message:te,type:ye},...Se].slice(0,50)),console.log(`[KERNEL_${ye.toUpperCase()}]: ${te}`)},[]);H.useEffect(()=>{const te=localStorage.getItem(xt.THEME);te?A(te==="dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&A(!0);const ye=localStorage.getItem(xt.CONFIG);ye&&Y(qe=>({...qe,...JSON.parse(ye)}));const Se=localStorage.getItem(xt.LOGS);Se&&z(JSON.parse(Se))},[]),H.useEffect(()=>{I?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem(xt.THEME,I?"dark":"light")},[I]);const ae=H.useCallback(()=>A(te=>!te),[]);H.useEffect(()=>{(async()=>{try{P("INITIATING: OMEGA_KERNEL_BOOT","info");const qe=(await(await fetch("/config.json")).json()).panels.enabled.map($n=>{switch($n){case"VectorPanel":return se.VECTOR;case"TypographyPanel":return se.TYPOGRAPHY;case"MonogramPanel":return se.MONOGRAM;case"StyleExtractorPanel":return se.EXTRACTOR;case"ImageFilterPanel":return se.FILTERS;case"SystemAuditPanel":return se.AUDIT;default:return se.START}}).filter($n=>$n!==se.START);J(qe);const Xn=localStorage.getItem(xt.PRESETS);Z(Xn?JSON.parse(Xn):[]);const gi=localStorage.getItem(xt.RECENT);be(gi?JSON.parse(gi):[]);const mo=localStorage.getItem(xt.DNA);mo&&S(JSON.parse(mo));const Xt=localStorage.getItem(xt.ARCHIVES);W(Xt?JSON.parse(Xt):[]),_(!0),P("ARCHITECTURE: PARITY_CHECK_OK","success"),P("OMEGA_PROTOCOL: SYSTEM_IDLE","success")}catch(ye){_(!0),P(`CRITICAL_KERNEL_PANIC: ${ye instanceof Error?ye.message:String(ye)}`,"error")}})()},[P]),H.useEffect(()=>{E&&(localStorage.setItem(xt.PRESETS,JSON.stringify(ge)),localStorage.setItem(xt.RECENT,JSON.stringify(pe.slice(0,15))),localStorage.setItem(xt.ARCHIVES,JSON.stringify(k)),localStorage.setItem(xt.DNA,JSON.stringify(x)),localStorage.setItem(xt.CONFIG,JSON.stringify(ue)),localStorage.setItem(xt.LOGS,JSON.stringify(B)))},[ge,pe,k,x,ue,B,E]);const fe=H.useCallback(()=>{M(!0),setTimeout(()=>{M(!1),P("COMMIT_SUCCESS: DNA_BUFFER_LOCKED","success")},800)},[P]),N=H.useCallback((te,ye)=>{t(te),a(ye||null),P(`OMEGA_PIVOT: ${te.toUpperCase()}_ENGAGED`,"info")},[P]),U=H.useCallback(te=>{Z(ye=>ye.filter(qe=>qe.id!==te)),P("DNA_VAULT: FRAGMENT_PURGED","warning")},[P]),F=H.useCallback(te=>{S(te),P(te?`DNA_ANCHOR: ${te.name.toUpperCase()}`:"DNA_ANCHOR: RELEASED","info")},[P]),L=H.useCallback(()=>{Y(te=>({...te,useProModel:!te.useProModel})),P(`CORE_MODE: ${ue.useProModel?"STANDARD_ACTIVE":"HIGH_FIDELITY_ACTIVE"}`,"info")},[ue.useProModel,P]),ce=H.useCallback(te=>{te.dna?(F(te.dna),P(`DNA_INJECTION: ${te.dna.name.toUpperCase()} APPLIED`,"success"),[se.VECTOR,se.TYPOGRAPHY,se.MONOGRAM].includes(i)||N(te.type||te.mode,te)):N(te.type||te.mode,te)},[i,F,N,P]),ne=()=>{if(!E)return null;const te={initialData:o,kernelConfig:ue,integrity:y,refinementLevel:oe,onSaveToHistory:ye=>{be(Se=>[ye,...Se]),P(`BUFFER_APPEND: ${ye.name.toUpperCase()}`,"success")},onModeSwitch:N,onSetGlobalDna:F,savedPresets:ge,globalDna:x,onToggleTurbo:L,addLog:P};switch(i){case se.START:return v.jsx(HA,{recentCount:pe.length,onSelectMode:N,enabledModes:Q});case se.VECTOR:return v.jsx(CA,{...te});case se.TYPOGRAPHY:return v.jsx(AA,{...te});case se.MONOGRAM:return v.jsx(NA,{...te});case se.EXTRACTOR:return v.jsx(RA,{...te,onSaveToPresets:ye=>{Z(Se=>[ye,...Se]),P("DNA_VAULT: FRAGMENT_STORED","success")},onDeletePreset:U,activeGlobalDna:x,onCommitPreset:fe});case se.FILTERS:return v.jsx(MA,{...te});case se.AUDIT:return v.jsx(IA,{});default:return null}};return v.jsxs("div",{className:"app-shell relative",children:[v.jsx("div",{className:"fixed inset-0 pointer-events-none z-[200] opacity-[0.03] bg-grid-pattern"}),r&&v.jsx(kA,{onComplete:te=>{c(!1),m(te.systemStabilityScore),P("FORENSIC_SYNC: SUBSYSTEMS_RECONSTRUCTED","success")}}),p&&v.jsx(DA,{onComplete:te=>{g(!1),ee(te.visualScore),P(`REFINE_REPORT: AESTHETIC_${te.visualScore}%`,"success")}}),v.jsx(BA,{title:"HYPERXGEN",integrity:y,onBack:()=>N(se.START),isDarkMode:I,onToggleTheme:ae,onStartRepair:()=>{c(!0),P("DIAGNOSTIC: FORENSIC_KERNEL_AUDIT","info")},onStartRefine:()=>{g(!0),P("DIAGNOSTIC: UI_REFINE_INITIATED","info")},onToggleLogViewer:()=>j(te=>!te)}),v.jsx("div",{className:"app-main",children:v.jsx("div",{className:"app-main-content-area custom-scrollbar",children:ne()})}),v.jsx(zA,{activeMode:i,recentWorks:pe,savedPresets:ge,cloudArchives:k,isSaving:C,onSwitchMode:N,onForceSave:fe,onLoadHistoryItem:ce,enabledModes:Q}),v.jsx(qA,{logs:B,onClear:()=>z([]),isOpen:ie,onClose:()=>j(!1)})]})},r0=document.getElementById("root");if(!r0)throw new Error("Could not find root element to mount to");const FA=zv.createRoot(r0);FA.render(v.jsx(rg.StrictMode,{children:v.jsx(YA,{})}));
